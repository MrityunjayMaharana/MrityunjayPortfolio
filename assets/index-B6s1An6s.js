var sS=Object.defineProperty;var $1=f=>{throw TypeError(f)};var iS=(f,e,t)=>e in f?sS(f,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):f[e]=t;var Ee=(f,e,t)=>iS(f,typeof e!="symbol"?e+"":e,t),rm=(f,e,t)=>e.has(f)||$1("Cannot "+t);var l=(f,e,t)=>(rm(f,e,"read from private field"),t?t.call(f):e.get(f)),C=(f,e,t)=>e.has(f)?$1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(f):e.set(f,t),x=(f,e,t,s)=>(rm(f,e,"write to private field"),s?s.call(f,t):e.set(f,t),t),_=(f,e,t)=>(rm(f,e,"access private method"),t);var un=(f,e,t,s)=>({set _(r){x(f,e,r,t)},get _(){return l(f,e,s)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function Iw(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var am={exports:{}},Yc={},om={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function rS(){if(W1)return Fe;W1=1;var f=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function L(N,V,oe){this.props=N,this.context=V,this.refs=k,this.updater=oe||A}L.prototype.isReactComponent={},L.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function T(){}T.prototype=L.prototype;function I(N,V,oe){this.props=N,this.context=V,this.refs=k,this.updater=oe||A}var D=I.prototype=new T;D.constructor=I,E(D,L.prototype),D.isPureReactComponent=!0;var F=Array.isArray,B=Object.prototype.hasOwnProperty,H={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function W(N,V,oe){var xe,ke={},ye=null,me=null;if(V!=null)for(xe in V.ref!==void 0&&(me=V.ref),V.key!==void 0&&(ye=""+V.key),V)B.call(V,xe)&&!$.hasOwnProperty(xe)&&(ke[xe]=V[xe]);var Re=arguments.length-2;if(Re===1)ke.children=oe;else if(1<Re){for(var Oe=Array(Re),Ie=0;Ie<Re;Ie++)Oe[Ie]=arguments[Ie+2];ke.children=Oe}if(N&&N.defaultProps)for(xe in Re=N.defaultProps,Re)ke[xe]===void 0&&(ke[xe]=Re[xe]);return{$$typeof:f,type:N,key:ye,ref:me,props:ke,_owner:H.current}}function Q(N,V){return{$$typeof:f,type:N.type,key:V,ref:N.ref,props:N.props,_owner:N._owner}}function ne(N){return typeof N=="object"&&N!==null&&N.$$typeof===f}function te(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return V[oe]})}var _e=/\/+/g;function fe(N,V){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):V.toString(36)}function he(N,V,oe,xe,ke){var ye=typeof N;(ye==="undefined"||ye==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(ye){case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case f:case e:me=!0}}if(me)return me=N,ke=ke(me),N=xe===""?"."+fe(me,0):xe,F(ke)?(oe="",N!=null&&(oe=N.replace(_e,"$&/")+"/"),he(ke,V,oe,"",function(Ie){return Ie})):ke!=null&&(ne(ke)&&(ke=Q(ke,oe+(!ke.key||me&&me.key===ke.key?"":(""+ke.key).replace(_e,"$&/")+"/")+N)),V.push(ke)),1;if(me=0,xe=xe===""?".":xe+":",F(N))for(var Re=0;Re<N.length;Re++){ye=N[Re];var Oe=xe+fe(ye,Re);me+=he(ye,V,oe,Oe,ke)}else if(Oe=w(N),typeof Oe=="function")for(N=Oe.call(N),Re=0;!(ye=N.next()).done;)ye=ye.value,Oe=xe+fe(ye,Re++),me+=he(ye,V,oe,Oe,ke);else if(ye==="object")throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return me}function we(N,V,oe){if(N==null)return N;var xe=[],ke=0;return he(N,xe,"","",function(ye){return V.call(oe,ye,ke++)}),xe}function ge(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var K={current:null},U={transition:null},re={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:H};function J(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:we,forEach:function(N,V,oe){we(N,function(){V.apply(this,arguments)},oe)},count:function(N){var V=0;return we(N,function(){V++}),V},toArray:function(N){return we(N,function(V){return V})||[]},only:function(N){if(!ne(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Fe.Component=L,Fe.Fragment=t,Fe.Profiler=r,Fe.PureComponent=I,Fe.StrictMode=s,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Fe.act=J,Fe.cloneElement=function(N,V,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var xe=E({},N.props),ke=N.key,ye=N.ref,me=N._owner;if(V!=null){if(V.ref!==void 0&&(ye=V.ref,me=H.current),V.key!==void 0&&(ke=""+V.key),N.type&&N.type.defaultProps)var Re=N.type.defaultProps;for(Oe in V)B.call(V,Oe)&&!$.hasOwnProperty(Oe)&&(xe[Oe]=V[Oe]===void 0&&Re!==void 0?Re[Oe]:V[Oe])}var Oe=arguments.length-2;if(Oe===1)xe.children=oe;else if(1<Oe){Re=Array(Oe);for(var Ie=0;Ie<Oe;Ie++)Re[Ie]=arguments[Ie+2];xe.children=Re}return{$$typeof:f,type:N.type,key:ke,ref:ye,props:xe,_owner:me}},Fe.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:o,_context:N},N.Consumer=N},Fe.createElement=W,Fe.createFactory=function(N){var V=W.bind(null,N);return V.type=N,V},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(N){return{$$typeof:u,render:N}},Fe.isValidElement=ne,Fe.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ge}},Fe.memo=function(N,V){return{$$typeof:p,type:N,compare:V===void 0?null:V}},Fe.startTransition=function(N){var V=U.transition;U.transition={};try{N()}finally{U.transition=V}},Fe.unstable_act=J,Fe.useCallback=function(N,V){return K.current.useCallback(N,V)},Fe.useContext=function(N){return K.current.useContext(N)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(N){return K.current.useDeferredValue(N)},Fe.useEffect=function(N,V){return K.current.useEffect(N,V)},Fe.useId=function(){return K.current.useId()},Fe.useImperativeHandle=function(N,V,oe){return K.current.useImperativeHandle(N,V,oe)},Fe.useInsertionEffect=function(N,V){return K.current.useInsertionEffect(N,V)},Fe.useLayoutEffect=function(N,V){return K.current.useLayoutEffect(N,V)},Fe.useMemo=function(N,V){return K.current.useMemo(N,V)},Fe.useReducer=function(N,V,oe){return K.current.useReducer(N,V,oe)},Fe.useRef=function(N){return K.current.useRef(N)},Fe.useState=function(N){return K.current.useState(N)},Fe.useSyncExternalStore=function(N,V,oe){return K.current.useSyncExternalStore(N,V,oe)},Fe.useTransition=function(){return K.current.useTransition()},Fe.version="18.3.1",Fe}var G1;function B0(){return G1||(G1=1,om.exports=rS()),om.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function aS(){if(X1)return Yc;X1=1;var f=B0(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,r=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,p){var m,v={},w=null,A=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(A=d.ref);for(m in d)s.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:w,ref:A,props:v,_owner:r.current}}return Yc.Fragment=t,Yc.jsx=c,Yc.jsxs=c,Yc}var q1;function oS(){return q1||(q1=1,am.exports=aS()),am.exports}var S=oS(),le=B0();const vo=Iw(le);var Yd={},lm={exports:{}},bn={},cm={exports:{}},um={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1;function lS(){return Y1||(Y1=1,function(f){function e(U,re){var J=U.length;U.push(re);e:for(;0<J;){var N=J-1>>>1,V=U[N];if(0<r(V,re))U[N]=re,U[J]=V,J=N;else break e}}function t(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var re=U[0],J=U.pop();if(J!==re){U[0]=J;e:for(var N=0,V=U.length,oe=V>>>1;N<oe;){var xe=2*(N+1)-1,ke=U[xe],ye=xe+1,me=U[ye];if(0>r(ke,J))ye<V&&0>r(me,ke)?(U[N]=me,U[ye]=J,N=ye):(U[N]=ke,U[xe]=J,N=xe);else if(ye<V&&0>r(me,J))U[N]=me,U[ye]=J,N=ye;else break e}}return re}function r(U,re){var J=U.sortIndex-re.sortIndex;return J!==0?J:U.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;f.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();f.unstable_now=function(){return c.now()-u}}var d=[],p=[],m=1,v=null,w=3,A=!1,E=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(U){for(var re=t(p);re!==null;){if(re.callback===null)s(p);else if(re.startTime<=U)s(p),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(p)}}function F(U){if(k=!1,D(U),!E)if(t(d)!==null)E=!0,ge(B);else{var re=t(p);re!==null&&K(F,re.startTime-U)}}function B(U,re){E=!1,k&&(k=!1,T(W),W=-1),A=!0;var J=w;try{for(D(re),v=t(d);v!==null&&(!(v.expirationTime>re)||U&&!te());){var N=v.callback;if(typeof N=="function"){v.callback=null,w=v.priorityLevel;var V=N(v.expirationTime<=re);re=f.unstable_now(),typeof V=="function"?v.callback=V:v===t(d)&&s(d),D(re)}else s(d);v=t(d)}if(v!==null)var oe=!0;else{var xe=t(p);xe!==null&&K(F,xe.startTime-re),oe=!1}return oe}finally{v=null,w=J,A=!1}}var H=!1,$=null,W=-1,Q=5,ne=-1;function te(){return!(f.unstable_now()-ne<Q)}function _e(){if($!==null){var U=f.unstable_now();ne=U;var re=!0;try{re=$(!0,U)}finally{re?fe():(H=!1,$=null)}}else H=!1}var fe;if(typeof I=="function")fe=function(){I(_e)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,we=he.port2;he.port1.onmessage=_e,fe=function(){we.postMessage(null)}}else fe=function(){L(_e,0)};function ge(U){$=U,H||(H=!0,fe())}function K(U,re){W=L(function(){U(f.unstable_now())},re)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(U){U.callback=null},f.unstable_continueExecution=function(){E||A||(E=!0,ge(B))},f.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},f.unstable_getCurrentPriorityLevel=function(){return w},f.unstable_getFirstCallbackNode=function(){return t(d)},f.unstable_next=function(U){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var J=w;w=re;try{return U()}finally{w=J}},f.unstable_pauseExecution=function(){},f.unstable_requestPaint=function(){},f.unstable_runWithPriority=function(U,re){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=w;w=U;try{return re()}finally{w=J}},f.unstable_scheduleCallback=function(U,re,J){var N=f.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?N+J:N):J=N,U){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=J+V,U={id:m++,callback:re,priorityLevel:U,startTime:J,expirationTime:V,sortIndex:-1},J>N?(U.sortIndex=J,e(p,U),t(d)===null&&U===t(p)&&(k?(T(W),W=-1):k=!0,K(F,J-N))):(U.sortIndex=V,e(d,U),E||A||(E=!0,ge(B))),U},f.unstable_shouldYield=te,f.unstable_wrapCallback=function(U){var re=w;return function(){var J=w;w=re;try{return U.apply(this,arguments)}finally{w=J}}}}(um)),um}var K1;function cS(){return K1||(K1=1,cm.exports=lS()),cm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1;function uS(){if(Q1)return bn;Q1=1;var f=B0(),e=cS();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,r={};function o(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(r[n]=i,n=0;n<i.length;n++)s.add(i[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(n){return d.call(v,n)?!0:d.call(m,n)?!1:p.test(n)?v[n]=!0:(m[n]=!0,!1)}function A(n,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function E(n,i,a,h){if(i===null||typeof i>"u"||A(n,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(n,i,a,h,g,y,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=y,this.removeEmptyString=b}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){L[n]=new k(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];L[i]=new k(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){L[n]=new k(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){L[n]=new k(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){L[n]=new k(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){L[n]=new k(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){L[n]=new k(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){L[n]=new k(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){L[n]=new k(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,I);L[i]=new k(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,I);L[i]=new k(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,I);L[i]=new k(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){L[n]=new k(n,1,!1,n.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){L[n]=new k(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,i,a,h){var g=L.hasOwnProperty(i)?L[i]:null;(g!==null?g.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,a,g,h)&&(a=null),h||g===null?w(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):g.mustUseProperty?n[g.propertyName]=a===null?g.type===3?!1:"":a:(i=g.attributeName,h=g.attributeNamespace,a===null?n.removeAttribute(i):(g=g.type,a=g===3||g===4&&a===!0?"":""+a,h?n.setAttributeNS(h,i,a):n.setAttribute(i,a))))}var F=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),te=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function re(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,N;function V(n){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+n}var oe=!1;function xe(n,i){if(!n||oe)return"";oe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var h=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){h=z}n.call(i.prototype)}else{try{throw Error()}catch(z){h=z}n()}}catch(z){if(z&&h&&typeof z.stack=="string"){for(var g=z.stack.split(`
`),y=h.stack.split(`
`),b=g.length-1,P=y.length-1;1<=b&&0<=P&&g[b]!==y[P];)P--;for(;1<=b&&0<=P;b--,P--)if(g[b]!==y[P]){if(b!==1||P!==1)do if(b--,P--,0>P||g[b]!==y[P]){var R=`
`+g[b].replace(" at new "," at ");return n.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",n.displayName)),R}while(1<=b&&0<=P);break}}}finally{oe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?V(n):""}function ke(n){switch(n.tag){case 5:return V(n.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function ye(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case H:return"Portal";case Q:return"Profiler";case W:return"StrictMode";case fe:return"Suspense";case he:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case ne:return(n._context.displayName||"Context")+".Provider";case _e:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case we:return i=n.displayName||null,i!==null?i:ye(n.type)||"Memo";case ge:i=n._payload,n=n._init;try{return ye(n(i))}catch{}}return null}function me(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Re(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Oe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ie(n){var i=Oe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,y=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(b){h=""+b,y.call(this,b)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ns(n){n._valueTracker||(n._valueTracker=Ie(n))}function Qi(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return n&&(h=Oe(n)?n.checked?"true":"false":n.value),n=h,n!==a?(i.setValue(n),!0):!1}function Ue(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function st(n,i){var a=i.checked;return J({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function St(n,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Re(i.value!=null?i.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function gt(n,i){i=i.checked,i!=null&&D(n,"checked",i,!1)}function Is(n,i){gt(n,i);var a=Re(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?uc(n,i.type,a):i.hasOwnProperty("defaultValue")&&uc(n,i.type,Re(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ji(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function uc(n,i,a){(i!=="number"||Ue(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var Zr=Array.isArray;function cs(n,i,a,h){if(n=n.options,i){i={};for(var g=0;g<a.length;g++)i["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=i.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&h&&(n[a].defaultSelected=!0)}else{for(a=""+Re(a),i=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,h&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function hc(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function jh(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Zr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Re(a)}}function zh(n,i){var a=Re(i.value),h=Re(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function Hh(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Bh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fs(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Bh(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ai,ea=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,g){MSApp.execUnsafeLocalFunction(function(){return n(i,a,h,g)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ai.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function oi(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var dc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ob=["Webkit","ms","Moz","O"];Object.keys(dc).forEach(function(n){ob.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),dc[i]=dc[n]})});function ry(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||dc.hasOwnProperty(n)&&dc[n]?(""+i).trim():i+"px"}function ay(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,g=ry(a,i[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,g):n[a]=g}}var lb=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yp(n,i){if(i){if(lb[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function vp(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function xp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ap=null,To=null,Po=null;function oy(n){if(n=Ic(n)){if(typeof Ap!="function")throw Error(t(280));var i=n.stateNode;i&&(i=ud(i),Ap(n.stateNode,n.type,i))}}function ly(n){To?Po?Po.push(n):Po=[n]:To=n}function cy(){if(To){var n=To,i=Po;if(Po=To=null,oy(n),i)for(n=0;n<i.length;n++)oy(i[n])}}function uy(n,i){return n(i)}function hy(){}var bp=!1;function dy(n,i,a){if(bp)return n(i,a);bp=!0;try{return uy(n,i,a)}finally{bp=!1,(To!==null||Po!==null)&&(hy(),cy())}}function fc(n,i){var a=n.stateNode;if(a===null)return null;var h=ud(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var _p=!1;if(u)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){_p=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{_p=!1}function cb(n,i,a,h,g,y,b,P,R){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(X){this.onError(X)}}var gc=!1,Uh=null,Vh=!1,Sp=null,ub={onError:function(n){gc=!0,Uh=n}};function hb(n,i,a,h,g,y,b,P,R){gc=!1,Uh=null,cb.apply(ub,arguments)}function db(n,i,a,h,g,y,b,P,R){if(hb.apply(this,arguments),gc){if(gc){var z=Uh;gc=!1,Uh=null}else throw Error(t(198));Vh||(Vh=!0,Sp=z)}}function ta(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function fy(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function py(n){if(ta(n)!==n)throw Error(t(188))}function fb(n){var i=n.alternate;if(!i){if(i=ta(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,h=i;;){var g=a.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){a=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===a)return py(g),n;if(y===h)return py(g),i;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=g,h=y;else{for(var b=!1,P=g.child;P;){if(P===a){b=!0,a=g,h=y;break}if(P===h){b=!0,h=g,a=y;break}P=P.sibling}if(!b){for(P=y.child;P;){if(P===a){b=!0,a=y,h=g;break}if(P===h){b=!0,h=y,a=g;break}P=P.sibling}if(!b)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function gy(n){return n=fb(n),n!==null?my(n):null}function my(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=my(n);if(i!==null)return i;n=n.sibling}return null}var yy=e.unstable_scheduleCallback,vy=e.unstable_cancelCallback,pb=e.unstable_shouldYield,gb=e.unstable_requestPaint,mt=e.unstable_now,mb=e.unstable_getCurrentPriorityLevel,Ep=e.unstable_ImmediatePriority,wy=e.unstable_UserBlockingPriority,$h=e.unstable_NormalPriority,yb=e.unstable_LowPriority,xy=e.unstable_IdlePriority,Wh=null,Ds=null;function vb(n){if(Ds&&typeof Ds.onCommitFiberRoot=="function")try{Ds.onCommitFiberRoot(Wh,n,void 0,(n.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:Ab,wb=Math.log,xb=Math.LN2;function Ab(n){return n>>>=0,n===0?32:31-(wb(n)/xb|0)|0}var Gh=64,Xh=4194304;function mc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qh(n,i){var a=n.pendingLanes;if(a===0)return 0;var h=0,g=n.suspendedLanes,y=n.pingedLanes,b=a&268435455;if(b!==0){var P=b&~g;P!==0?h=mc(P):(y&=b,y!==0&&(h=mc(y)))}else b=a&~g,b!==0?h=mc(b):y!==0&&(h=mc(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&g)===0&&(g=h&-h,y=i&-i,g>=y||g===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)a=31-us(i),g=1<<a,h|=n[a],i&=~g;return h}function bb(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _b(n,i){for(var a=n.suspendedLanes,h=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes;0<y;){var b=31-us(y),P=1<<b,R=g[b];R===-1?((P&a)===0||(P&h)!==0)&&(g[b]=bb(P,i)):R<=i&&(n.expiredLanes|=P),y&=~P}}function Cp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ay(){var n=Gh;return Gh<<=1,(Gh&4194240)===0&&(Gh=64),n}function kp(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function yc(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-us(i),n[i]=a}function Sb(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var g=31-us(a),y=1<<g;i[g]=0,h[g]=-1,n[g]=-1,a&=~y}}function Tp(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var h=31-us(a),g=1<<h;g&i|n[h]&i&&(n[h]|=i),a&=~g}}var We=0;function by(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _y,Pp,Sy,Ey,Cy,Lp=!1,Yh=[],Zi=null,er=null,tr=null,vc=new Map,wc=new Map,nr=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ky(n,i){switch(n){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":vc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(i.pointerId)}}function xc(n,i,a,h,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},i!==null&&(i=Ic(i),i!==null&&Pp(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function Cb(n,i,a,h,g){switch(i){case"focusin":return Zi=xc(Zi,n,i,a,h,g),!0;case"dragenter":return er=xc(er,n,i,a,h,g),!0;case"mouseover":return tr=xc(tr,n,i,a,h,g),!0;case"pointerover":var y=g.pointerId;return vc.set(y,xc(vc.get(y)||null,n,i,a,h,g)),!0;case"gotpointercapture":return y=g.pointerId,wc.set(y,xc(wc.get(y)||null,n,i,a,h,g)),!0}return!1}function Ty(n){var i=na(n.target);if(i!==null){var a=ta(i);if(a!==null){if(i=a.tag,i===13){if(i=fy(a),i!==null){n.blockedOn=i,Cy(n.priority,function(){Sy(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Mp(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);wp=h,a.target.dispatchEvent(h),wp=null}else return i=Ic(a),i!==null&&Pp(i),n.blockedOn=a,!1;i.shift()}return!0}function Py(n,i,a){Kh(n)&&a.delete(i)}function kb(){Lp=!1,Zi!==null&&Kh(Zi)&&(Zi=null),er!==null&&Kh(er)&&(er=null),tr!==null&&Kh(tr)&&(tr=null),vc.forEach(Py),wc.forEach(Py)}function Ac(n,i){n.blockedOn===i&&(n.blockedOn=null,Lp||(Lp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kb)))}function bc(n){function i(g){return Ac(g,n)}if(0<Yh.length){Ac(Yh[0],n);for(var a=1;a<Yh.length;a++){var h=Yh[a];h.blockedOn===n&&(h.blockedOn=null)}}for(Zi!==null&&Ac(Zi,n),er!==null&&Ac(er,n),tr!==null&&Ac(tr,n),vc.forEach(i),wc.forEach(i),a=0;a<nr.length;a++)h=nr[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)Ty(a),a.blockedOn===null&&nr.shift()}var Lo=F.ReactCurrentBatchConfig,Qh=!0;function Tb(n,i,a,h){var g=We,y=Lo.transition;Lo.transition=null;try{We=1,Rp(n,i,a,h)}finally{We=g,Lo.transition=y}}function Pb(n,i,a,h){var g=We,y=Lo.transition;Lo.transition=null;try{We=4,Rp(n,i,a,h)}finally{We=g,Lo.transition=y}}function Rp(n,i,a,h){if(Qh){var g=Mp(n,i,a,h);if(g===null)Yp(n,i,h,Jh,a),ky(n,h);else if(Cb(g,n,i,a,h))h.stopPropagation();else if(ky(n,h),i&4&&-1<Eb.indexOf(n)){for(;g!==null;){var y=Ic(g);if(y!==null&&_y(y),y=Mp(n,i,a,h),y===null&&Yp(n,i,h,Jh,a),y===g)break;g=y}g!==null&&h.stopPropagation()}else Yp(n,i,h,null,a)}}var Jh=null;function Mp(n,i,a,h){if(Jh=null,n=xp(h),n=na(n),n!==null)if(i=ta(n),i===null)n=null;else if(a=i.tag,a===13){if(n=fy(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Jh=n,null}function Ly(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mb()){case Ep:return 1;case wy:return 4;case $h:case yb:return 16;case xy:return 536870912;default:return 16}default:return 16}}var sr=null,Np=null,Zh=null;function Ry(){if(Zh)return Zh;var n,i=Np,a=i.length,h,g="value"in sr?sr.value:sr.textContent,y=g.length;for(n=0;n<a&&i[n]===g[n];n++);var b=a-n;for(h=1;h<=b&&i[a-h]===g[y-h];h++);return Zh=g.slice(n,1<h?1-h:void 0)}function ed(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function td(){return!0}function My(){return!1}function Ln(n){function i(a,h,g,y,b){this._reactName=a,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(a=n[P],this[P]=a?a(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?td:My,this.isPropagationStopped=My,this}return J(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),i}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ip=Ln(Ro),_c=J({},Ro,{view:0,detail:0}),Lb=Ln(_c),Fp,Dp,Sc,nd=J({},_c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Sc&&(Sc&&n.type==="mousemove"?(Fp=n.screenX-Sc.screenX,Dp=n.screenY-Sc.screenY):Dp=Fp=0,Sc=n),Fp)},movementY:function(n){return"movementY"in n?n.movementY:Dp}}),Ny=Ln(nd),Rb=J({},nd,{dataTransfer:0}),Mb=Ln(Rb),Nb=J({},_c,{relatedTarget:0}),Op=Ln(Nb),Ib=J({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Fb=Ln(Ib),Db=J({},Ro,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ob=Ln(Db),jb=J({},Ro,{data:0}),Iy=Ln(jb),zb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ub(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Bb[n])?!!i[n]:!1}function jp(){return Ub}var Vb=J({},_c,{key:function(n){if(n.key){var i=zb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ed(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Hb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(n){return n.type==="keypress"?ed(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ed(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$b=Ln(Vb),Wb=J({},nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fy=Ln(Wb),Gb=J({},_c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),Xb=Ln(Gb),qb=J({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yb=Ln(qb),Kb=J({},nd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Ln(Kb),Jb=[9,13,27,32],zp=u&&"CompositionEvent"in window,Ec=null;u&&"documentMode"in document&&(Ec=document.documentMode);var Zb=u&&"TextEvent"in window&&!Ec,Dy=u&&(!zp||Ec&&8<Ec&&11>=Ec),Oy=" ",jy=!1;function zy(n,i){switch(n){case"keyup":return Jb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mo=!1;function e_(n,i){switch(n){case"compositionend":return Hy(i);case"keypress":return i.which!==32?null:(jy=!0,Oy);case"textInput":return n=i.data,n===Oy&&jy?null:n;default:return null}}function t_(n,i){if(Mo)return n==="compositionend"||!zp&&zy(n,i)?(n=Ry(),Zh=Np=sr=null,Mo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Dy&&i.locale!=="ko"?null:i.data;default:return null}}var n_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!n_[n.type]:i==="textarea"}function Uy(n,i,a,h){ly(h),i=od(i,"onChange"),0<i.length&&(a=new Ip("onChange","change",null,a,h),n.push({event:a,listeners:i}))}var Cc=null,kc=null;function s_(n){av(n,0)}function sd(n){var i=Oo(n);if(Qi(i))return n}function i_(n,i){if(n==="change")return i}var Vy=!1;if(u){var Hp;if(u){var Bp="oninput"in document;if(!Bp){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Bp=typeof $y.oninput=="function"}Hp=Bp}else Hp=!1;Vy=Hp&&(!document.documentMode||9<document.documentMode)}function Wy(){Cc&&(Cc.detachEvent("onpropertychange",Gy),kc=Cc=null)}function Gy(n){if(n.propertyName==="value"&&sd(kc)){var i=[];Uy(i,kc,n,xp(n)),dy(s_,i)}}function r_(n,i,a){n==="focusin"?(Wy(),Cc=i,kc=a,Cc.attachEvent("onpropertychange",Gy)):n==="focusout"&&Wy()}function a_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sd(kc)}function o_(n,i){if(n==="click")return sd(i)}function l_(n,i){if(n==="input"||n==="change")return sd(i)}function c_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var hs=typeof Object.is=="function"?Object.is:c_;function Tc(n,i){if(hs(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var g=a[h];if(!d.call(i,g)||!hs(n[g],i[g]))return!1}return!0}function Xy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qy(n,i){var a=Xy(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=i&&h>=i)return{node:a,offset:i-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xy(a)}}function Yy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Yy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ky(){for(var n=window,i=Ue();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ue(n.document)}return i}function Up(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function u_(n){var i=Ky(),a=n.focusedElem,h=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Yy(a.ownerDocument.documentElement,a)){if(h!==null&&Up(a)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var g=a.textContent.length,y=Math.min(h.start,g);h=h.end===void 0?y:Math.min(h.end,g),!n.extend&&y>h&&(g=h,h=y,y=g),g=qy(a,y);var b=qy(a,h);g&&b&&(n.rangeCount!==1||n.anchorNode!==g.node||n.anchorOffset!==g.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),n.removeAllRanges(),y>h?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var h_=u&&"documentMode"in document&&11>=document.documentMode,No=null,Vp=null,Pc=null,$p=!1;function Qy(n,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$p||No==null||No!==Ue(h)||(h=No,"selectionStart"in h&&Up(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pc&&Tc(Pc,h)||(Pc=h,h=od(Vp,"onSelect"),0<h.length&&(i=new Ip("onSelect","select",null,i,a),n.push({event:i,listeners:h}),i.target=No)))}function id(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Io={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},Wp={},Jy={};u&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function rd(n){if(Wp[n])return Wp[n];if(!Io[n])return n;var i=Io[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jy)return Wp[n]=i[a];return n}var Zy=rd("animationend"),ev=rd("animationiteration"),tv=rd("animationstart"),nv=rd("transitionend"),sv=new Map,iv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(n,i){sv.set(n,i),o(i,[n])}for(var Gp=0;Gp<iv.length;Gp++){var Xp=iv[Gp],d_=Xp.toLowerCase(),f_=Xp[0].toUpperCase()+Xp.slice(1);ir(d_,"on"+f_)}ir(Zy,"onAnimationEnd"),ir(ev,"onAnimationIteration"),ir(tv,"onAnimationStart"),ir("dblclick","onDoubleClick"),ir("focusin","onFocus"),ir("focusout","onBlur"),ir(nv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lc));function rv(n,i,a){var h=n.type||"unknown-event";n.currentTarget=a,db(h,i,void 0,n),n.currentTarget=null}function av(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],g=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var b=h.length-1;0<=b;b--){var P=h[b],R=P.instance,z=P.currentTarget;if(P=P.listener,R!==y&&g.isPropagationStopped())break e;rv(g,P,z),y=R}else for(b=0;b<h.length;b++){if(P=h[b],R=P.instance,z=P.currentTarget,P=P.listener,R!==y&&g.isPropagationStopped())break e;rv(g,P,z),y=R}}}if(Vh)throw n=Sp,Vh=!1,Sp=null,n}function et(n,i){var a=i[tg];a===void 0&&(a=i[tg]=new Set);var h=n+"__bubble";a.has(h)||(ov(i,n,2,!1),a.add(h))}function qp(n,i,a){var h=0;i&&(h|=4),ov(a,n,h,i)}var ad="_reactListening"+Math.random().toString(36).slice(2);function Rc(n){if(!n[ad]){n[ad]=!0,s.forEach(function(a){a!=="selectionchange"&&(p_.has(a)||qp(a,!1,n),qp(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ad]||(i[ad]=!0,qp("selectionchange",!1,i))}}function ov(n,i,a,h){switch(Ly(i)){case 1:var g=Tb;break;case 4:g=Pb;break;default:g=Rp}a=g.bind(null,i,a,n),g=void 0,!_p||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?n.addEventListener(i,a,{capture:!0,passive:g}):n.addEventListener(i,a,!0):g!==void 0?n.addEventListener(i,a,{passive:g}):n.addEventListener(i,a,!1)}function Yp(n,i,a,h,g){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var P=h.stateNode.containerInfo;if(P===g||P.nodeType===8&&P.parentNode===g)break;if(b===4)for(b=h.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===g||R.nodeType===8&&R.parentNode===g))return;b=b.return}for(;P!==null;){if(b=na(P),b===null)return;if(R=b.tag,R===5||R===6){h=y=b;continue e}P=P.parentNode}}h=h.return}dy(function(){var z=y,X=xp(a),q=[];e:{var G=sv.get(n);if(G!==void 0){var se=Ip,ce=n;switch(n){case"keypress":if(ed(a)===0)break e;case"keydown":case"keyup":se=$b;break;case"focusin":ce="focus",se=Op;break;case"focusout":ce="blur",se=Op;break;case"beforeblur":case"afterblur":se=Op;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Xb;break;case Zy:case ev:case tv:se=Fb;break;case nv:se=Yb;break;case"scroll":se=Lb;break;case"wheel":se=Qb;break;case"copy":case"cut":case"paste":se=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Fy}var ue=(i&4)!==0,yt=!ue&&n==="scroll",O=ue?G!==null?G+"Capture":null:G;ue=[];for(var M=z,j;M!==null;){j=M;var Y=j.stateNode;if(j.tag===5&&Y!==null&&(j=Y,O!==null&&(Y=fc(M,O),Y!=null&&ue.push(Mc(M,Y,j)))),yt)break;M=M.return}0<ue.length&&(G=new se(G,ce,null,a,X),q.push({event:G,listeners:ue}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",G&&a!==wp&&(ce=a.relatedTarget||a.fromElement)&&(na(ce)||ce[li]))break e;if((se||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=z,ce=ce?na(ce):null,ce!==null&&(yt=ta(ce),ce!==yt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=z),se!==ce)){if(ue=Ny,Y="onMouseLeave",O="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ue=Fy,Y="onPointerLeave",O="onPointerEnter",M="pointer"),yt=se==null?G:Oo(se),j=ce==null?G:Oo(ce),G=new ue(Y,M+"leave",se,a,X),G.target=yt,G.relatedTarget=j,Y=null,na(X)===z&&(ue=new ue(O,M+"enter",ce,a,X),ue.target=j,ue.relatedTarget=yt,Y=ue),yt=Y,se&&ce)t:{for(ue=se,O=ce,M=0,j=ue;j;j=Fo(j))M++;for(j=0,Y=O;Y;Y=Fo(Y))j++;for(;0<M-j;)ue=Fo(ue),M--;for(;0<j-M;)O=Fo(O),j--;for(;M--;){if(ue===O||O!==null&&ue===O.alternate)break t;ue=Fo(ue),O=Fo(O)}ue=null}else ue=null;se!==null&&lv(q,G,se,ue,!1),ce!==null&&yt!==null&&lv(q,yt,ce,ue,!0)}}e:{if(G=z?Oo(z):window,se=G.nodeName&&G.nodeName.toLowerCase(),se==="select"||se==="input"&&G.type==="file")var de=i_;else if(By(G))if(Vy)de=l_;else{de=a_;var Ae=r_}else(se=G.nodeName)&&se.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(de=o_);if(de&&(de=de(n,z))){Uy(q,de,a,X);break e}Ae&&Ae(n,G,z),n==="focusout"&&(Ae=G._wrapperState)&&Ae.controlled&&G.type==="number"&&uc(G,"number",G.value)}switch(Ae=z?Oo(z):window,n){case"focusin":(By(Ae)||Ae.contentEditable==="true")&&(No=Ae,Vp=z,Pc=null);break;case"focusout":Pc=Vp=No=null;break;case"mousedown":$p=!0;break;case"contextmenu":case"mouseup":case"dragend":$p=!1,Qy(q,a,X);break;case"selectionchange":if(h_)break;case"keydown":case"keyup":Qy(q,a,X)}var be;if(zp)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Mo?zy(n,a)&&(Se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Dy&&a.locale!=="ko"&&(Mo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Mo&&(be=Ry()):(sr=X,Np="value"in sr?sr.value:sr.textContent,Mo=!0)),Ae=od(z,Se),0<Ae.length&&(Se=new Iy(Se,n,null,a,X),q.push({event:Se,listeners:Ae}),be?Se.data=be:(be=Hy(a),be!==null&&(Se.data=be)))),(be=Zb?e_(n,a):t_(n,a))&&(z=od(z,"onBeforeInput"),0<z.length&&(X=new Iy("onBeforeInput","beforeinput",null,a,X),q.push({event:X,listeners:z}),X.data=be))}av(q,i)})}function Mc(n,i,a){return{instance:n,listener:i,currentTarget:a}}function od(n,i){for(var a=i+"Capture",h=[];n!==null;){var g=n,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=fc(n,a),y!=null&&h.unshift(Mc(n,y,g)),y=fc(n,i),y!=null&&h.push(Mc(n,y,g))),n=n.return}return h}function Fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function lv(n,i,a,h,g){for(var y=i._reactName,b=[];a!==null&&a!==h;){var P=a,R=P.alternate,z=P.stateNode;if(R!==null&&R===h)break;P.tag===5&&z!==null&&(P=z,g?(R=fc(a,y),R!=null&&b.unshift(Mc(a,R,P))):g||(R=fc(a,y),R!=null&&b.push(Mc(a,R,P)))),a=a.return}b.length!==0&&n.push({event:i,listeners:b})}var g_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function cv(n){return(typeof n=="string"?n:""+n).replace(g_,`
`).replace(m_,"")}function ld(n,i,a){if(i=cv(i),cv(n)!==i&&a)throw Error(t(425))}function cd(){}var Kp=null,Qp=null;function Jp(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,y_=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,v_=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(n){return uv.resolve(null).then(n).catch(w_)}:Zp;function w_(n){setTimeout(function(){throw n})}function eg(n,i){var a=i,h=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(h===0){n.removeChild(g),bc(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=g}while(a);bc(i)}function rr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function hv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Os="__reactFiber$"+Do,Nc="__reactProps$"+Do,li="__reactContainer$"+Do,tg="__reactEvents$"+Do,x_="__reactListeners$"+Do,A_="__reactHandles$"+Do;function na(n){var i=n[Os];if(i)return i;for(var a=n.parentNode;a;){if(i=a[li]||a[Os]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=hv(n);n!==null;){if(a=n[Os])return a;n=hv(n)}return i}n=a,a=n.parentNode}return null}function Ic(n){return n=n[Os]||n[li],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Oo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ud(n){return n[Nc]||null}var ng=[],jo=-1;function ar(n){return{current:n}}function tt(n){0>jo||(n.current=ng[jo],ng[jo]=null,jo--)}function Je(n,i){jo++,ng[jo]=n.current,n.current=i}var or={},Yt=ar(or),yn=ar(!1),sa=or;function zo(n,i){var a=n.type.contextTypes;if(!a)return or;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in a)g[y]=i[y];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=g),g}function vn(n){return n=n.childContextTypes,n!=null}function hd(){tt(yn),tt(Yt)}function dv(n,i,a){if(Yt.current!==or)throw Error(t(168));Je(Yt,i),Je(yn,a)}function fv(n,i,a){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var g in h)if(!(g in i))throw Error(t(108,me(n)||"Unknown",g));return J({},a,h)}function dd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||or,sa=Yt.current,Je(Yt,n),Je(yn,yn.current),!0}function pv(n,i,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=fv(n,i,sa),h.__reactInternalMemoizedMergedChildContext=n,tt(yn),tt(Yt),Je(Yt,n)):tt(yn),Je(yn,a)}var ci=null,fd=!1,sg=!1;function gv(n){ci===null?ci=[n]:ci.push(n)}function b_(n){fd=!0,gv(n)}function lr(){if(!sg&&ci!==null){sg=!0;var n=0,i=We;try{var a=ci;for(We=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}ci=null,fd=!1}catch(g){throw ci!==null&&(ci=ci.slice(n+1)),yy(Ep,lr),g}finally{We=i,sg=!1}}return null}var Ho=[],Bo=0,pd=null,gd=0,Xn=[],qn=0,ia=null,ui=1,hi="";function ra(n,i){Ho[Bo++]=gd,Ho[Bo++]=pd,pd=n,gd=i}function mv(n,i,a){Xn[qn++]=ui,Xn[qn++]=hi,Xn[qn++]=ia,ia=n;var h=ui;n=hi;var g=32-us(h)-1;h&=~(1<<g),a+=1;var y=32-us(i)+g;if(30<y){var b=g-g%5;y=(h&(1<<b)-1).toString(32),h>>=b,g-=b,ui=1<<32-us(i)+g|a<<g|h,hi=y+n}else ui=1<<y|a<<g|h,hi=n}function ig(n){n.return!==null&&(ra(n,1),mv(n,1,0))}function rg(n){for(;n===pd;)pd=Ho[--Bo],Ho[Bo]=null,gd=Ho[--Bo],Ho[Bo]=null;for(;n===ia;)ia=Xn[--qn],Xn[qn]=null,hi=Xn[--qn],Xn[qn]=null,ui=Xn[--qn],Xn[qn]=null}var Rn=null,Mn=null,it=!1,ds=null;function yv(n,i){var a=Jn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function vv(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Rn=n,Mn=rr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Rn=n,Mn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ia!==null?{id:ui,overflow:hi}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Jn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,Rn=n,Mn=null,!0):!1;default:return!1}}function ag(n){return(n.mode&1)!==0&&(n.flags&128)===0}function og(n){if(it){var i=Mn;if(i){var a=i;if(!vv(n,i)){if(ag(n))throw Error(t(418));i=rr(a.nextSibling);var h=Rn;i&&vv(n,i)?yv(h,a):(n.flags=n.flags&-4097|2,it=!1,Rn=n)}}else{if(ag(n))throw Error(t(418));n.flags=n.flags&-4097|2,it=!1,Rn=n}}}function wv(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Rn=n}function md(n){if(n!==Rn)return!1;if(!it)return wv(n),it=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Jp(n.type,n.memoizedProps)),i&&(i=Mn)){if(ag(n))throw xv(),Error(t(418));for(;i;)yv(n,i),i=rr(i.nextSibling)}if(wv(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){Mn=rr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}Mn=null}}else Mn=Rn?rr(n.stateNode.nextSibling):null;return!0}function xv(){for(var n=Mn;n;)n=rr(n.nextSibling)}function Uo(){Mn=Rn=null,it=!1}function lg(n){ds===null?ds=[n]:ds.push(n)}var __=F.ReactCurrentBatchConfig;function Fc(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var g=h,y=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(b){var P=g.refs;b===null?delete P[y]:P[y]=b},i._stringRef=y,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function yd(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Av(n){var i=n._init;return i(n._payload)}function bv(n){function i(O,M){if(n){var j=O.deletions;j===null?(O.deletions=[M],O.flags|=16):j.push(M)}}function a(O,M){if(!n)return null;for(;M!==null;)i(O,M),M=M.sibling;return null}function h(O,M){for(O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function g(O,M){return O=mr(O,M),O.index=0,O.sibling=null,O}function y(O,M,j){return O.index=j,n?(j=O.alternate,j!==null?(j=j.index,j<M?(O.flags|=2,M):j):(O.flags|=2,M)):(O.flags|=1048576,M)}function b(O){return n&&O.alternate===null&&(O.flags|=2),O}function P(O,M,j,Y){return M===null||M.tag!==6?(M=Zg(j,O.mode,Y),M.return=O,M):(M=g(M,j),M.return=O,M)}function R(O,M,j,Y){var de=j.type;return de===$?X(O,M,j.props.children,Y,j.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ge&&Av(de)===M.type)?(Y=g(M,j.props),Y.ref=Fc(O,M,j),Y.return=O,Y):(Y=Bd(j.type,j.key,j.props,null,O.mode,Y),Y.ref=Fc(O,M,j),Y.return=O,Y)}function z(O,M,j,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=em(j,O.mode,Y),M.return=O,M):(M=g(M,j.children||[]),M.return=O,M)}function X(O,M,j,Y,de){return M===null||M.tag!==7?(M=fa(j,O.mode,Y,de),M.return=O,M):(M=g(M,j),M.return=O,M)}function q(O,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Zg(""+M,O.mode,j),M.return=O,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return j=Bd(M.type,M.key,M.props,null,O.mode,j),j.ref=Fc(O,null,M),j.return=O,j;case H:return M=em(M,O.mode,j),M.return=O,M;case ge:var Y=M._init;return q(O,Y(M._payload),j)}if(Zr(M)||re(M))return M=fa(M,O.mode,j,null),M.return=O,M;yd(O,M)}return null}function G(O,M,j,Y){var de=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return de!==null?null:P(O,M,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return j.key===de?R(O,M,j,Y):null;case H:return j.key===de?z(O,M,j,Y):null;case ge:return de=j._init,G(O,M,de(j._payload),Y)}if(Zr(j)||re(j))return de!==null?null:X(O,M,j,Y,null);yd(O,j)}return null}function se(O,M,j,Y,de){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return O=O.get(j)||null,P(M,O,""+Y,de);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return O=O.get(Y.key===null?j:Y.key)||null,R(M,O,Y,de);case H:return O=O.get(Y.key===null?j:Y.key)||null,z(M,O,Y,de);case ge:var Ae=Y._init;return se(O,M,j,Ae(Y._payload),de)}if(Zr(Y)||re(Y))return O=O.get(j)||null,X(M,O,Y,de,null);yd(M,Y)}return null}function ce(O,M,j,Y){for(var de=null,Ae=null,be=M,Se=M=0,Ft=null;be!==null&&Se<j.length;Se++){be.index>Se?(Ft=be,be=null):Ft=be.sibling;var Be=G(O,be,j[Se],Y);if(Be===null){be===null&&(be=Ft);break}n&&be&&Be.alternate===null&&i(O,be),M=y(Be,M,Se),Ae===null?de=Be:Ae.sibling=Be,Ae=Be,be=Ft}if(Se===j.length)return a(O,be),it&&ra(O,Se),de;if(be===null){for(;Se<j.length;Se++)be=q(O,j[Se],Y),be!==null&&(M=y(be,M,Se),Ae===null?de=be:Ae.sibling=be,Ae=be);return it&&ra(O,Se),de}for(be=h(O,be);Se<j.length;Se++)Ft=se(be,O,Se,j[Se],Y),Ft!==null&&(n&&Ft.alternate!==null&&be.delete(Ft.key===null?Se:Ft.key),M=y(Ft,M,Se),Ae===null?de=Ft:Ae.sibling=Ft,Ae=Ft);return n&&be.forEach(function(yr){return i(O,yr)}),it&&ra(O,Se),de}function ue(O,M,j,Y){var de=re(j);if(typeof de!="function")throw Error(t(150));if(j=de.call(j),j==null)throw Error(t(151));for(var Ae=de=null,be=M,Se=M=0,Ft=null,Be=j.next();be!==null&&!Be.done;Se++,Be=j.next()){be.index>Se?(Ft=be,be=null):Ft=be.sibling;var yr=G(O,be,Be.value,Y);if(yr===null){be===null&&(be=Ft);break}n&&be&&yr.alternate===null&&i(O,be),M=y(yr,M,Se),Ae===null?de=yr:Ae.sibling=yr,Ae=yr,be=Ft}if(Be.done)return a(O,be),it&&ra(O,Se),de;if(be===null){for(;!Be.done;Se++,Be=j.next())Be=q(O,Be.value,Y),Be!==null&&(M=y(Be,M,Se),Ae===null?de=Be:Ae.sibling=Be,Ae=Be);return it&&ra(O,Se),de}for(be=h(O,be);!Be.done;Se++,Be=j.next())Be=se(be,O,Se,Be.value,Y),Be!==null&&(n&&Be.alternate!==null&&be.delete(Be.key===null?Se:Be.key),M=y(Be,M,Se),Ae===null?de=Be:Ae.sibling=Be,Ae=Be);return n&&be.forEach(function(nS){return i(O,nS)}),it&&ra(O,Se),de}function yt(O,M,j,Y){if(typeof j=="object"&&j!==null&&j.type===$&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case B:e:{for(var de=j.key,Ae=M;Ae!==null;){if(Ae.key===de){if(de=j.type,de===$){if(Ae.tag===7){a(O,Ae.sibling),M=g(Ae,j.props.children),M.return=O,O=M;break e}}else if(Ae.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ge&&Av(de)===Ae.type){a(O,Ae.sibling),M=g(Ae,j.props),M.ref=Fc(O,Ae,j),M.return=O,O=M;break e}a(O,Ae);break}else i(O,Ae);Ae=Ae.sibling}j.type===$?(M=fa(j.props.children,O.mode,Y,j.key),M.return=O,O=M):(Y=Bd(j.type,j.key,j.props,null,O.mode,Y),Y.ref=Fc(O,M,j),Y.return=O,O=Y)}return b(O);case H:e:{for(Ae=j.key;M!==null;){if(M.key===Ae)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){a(O,M.sibling),M=g(M,j.children||[]),M.return=O,O=M;break e}else{a(O,M);break}else i(O,M);M=M.sibling}M=em(j,O.mode,Y),M.return=O,O=M}return b(O);case ge:return Ae=j._init,yt(O,M,Ae(j._payload),Y)}if(Zr(j))return ce(O,M,j,Y);if(re(j))return ue(O,M,j,Y);yd(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,M!==null&&M.tag===6?(a(O,M.sibling),M=g(M,j),M.return=O,O=M):(a(O,M),M=Zg(j,O.mode,Y),M.return=O,O=M),b(O)):a(O,M)}return yt}var Vo=bv(!0),_v=bv(!1),vd=ar(null),wd=null,$o=null,cg=null;function ug(){cg=$o=wd=null}function hg(n){var i=vd.current;tt(vd),n._currentValue=i}function dg(n,i,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===a)break;n=n.return}}function Wo(n,i){wd=n,cg=$o=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(wn=!0),n.firstContext=null)}function Yn(n){var i=n._currentValue;if(cg!==n)if(n={context:n,memoizedValue:i,next:null},$o===null){if(wd===null)throw Error(t(308));$o=n,wd.dependencies={lanes:0,firstContext:n}}else $o=$o.next=n;return i}var aa=null;function fg(n){aa===null?aa=[n]:aa.push(n)}function Sv(n,i,a,h){var g=i.interleaved;return g===null?(a.next=a,fg(i)):(a.next=g.next,g.next=a),i.interleaved=a,di(n,h)}function di(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var cr=!1;function pg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fi(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ur(n,i,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(He&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,di(n,a)}return g=h.interleaved,g===null?(i.next=i,fg(h)):(i.next=g.next,g.next=i),h.interleaved=i,di(n,a)}function xd(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,a|=h,i.lanes=a,Tp(n,a)}}function Cv(n,i){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var g=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?g=y=b:y=y.next=b,a=a.next}while(a!==null);y===null?g=y=i:y=y.next=i}else g=y=i;a={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Ad(n,i,a,h){var g=n.updateQueue;cr=!1;var y=g.firstBaseUpdate,b=g.lastBaseUpdate,P=g.shared.pending;if(P!==null){g.shared.pending=null;var R=P,z=R.next;R.next=null,b===null?y=z:b.next=z,b=R;var X=n.alternate;X!==null&&(X=X.updateQueue,P=X.lastBaseUpdate,P!==b&&(P===null?X.firstBaseUpdate=z:P.next=z,X.lastBaseUpdate=R))}if(y!==null){var q=g.baseState;b=0,X=z=R=null,P=y;do{var G=P.lane,se=P.eventTime;if((h&G)===G){X!==null&&(X=X.next={eventTime:se,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ce=n,ue=P;switch(G=i,se=a,ue.tag){case 1:if(ce=ue.payload,typeof ce=="function"){q=ce.call(se,q,G);break e}q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ue.payload,G=typeof ce=="function"?ce.call(se,q,G):ce,G==null)break e;q=J({},q,G);break e;case 2:cr=!0}}P.callback!==null&&P.lane!==0&&(n.flags|=64,G=g.effects,G===null?g.effects=[P]:G.push(P))}else se={eventTime:se,lane:G,tag:P.tag,payload:P.payload,callback:P.callback,next:null},X===null?(z=X=se,R=q):X=X.next=se,b|=G;if(P=P.next,P===null){if(P=g.shared.pending,P===null)break;G=P,P=G.next,G.next=null,g.lastBaseUpdate=G,g.shared.pending=null}}while(!0);if(X===null&&(R=q),g.baseState=R,g.firstBaseUpdate=z,g.lastBaseUpdate=X,i=g.shared.interleaved,i!==null){g=i;do b|=g.lane,g=g.next;while(g!==i)}else y===null&&(g.shared.lanes=0);ca|=b,n.lanes=b,n.memoizedState=q}}function kv(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],g=h.callback;if(g!==null){if(h.callback=null,h=a,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var Dc={},js=ar(Dc),Oc=ar(Dc),jc=ar(Dc);function oa(n){if(n===Dc)throw Error(t(174));return n}function gg(n,i){switch(Je(jc,i),Je(Oc,n),Je(js,Dc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Fs(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Fs(i,n)}tt(js),Je(js,i)}function Go(){tt(js),tt(Oc),tt(jc)}function Tv(n){oa(jc.current);var i=oa(js.current),a=Fs(i,n.type);i!==a&&(Je(Oc,n),Je(js,a))}function mg(n){Oc.current===n&&(tt(js),tt(Oc))}var at=ar(0);function bd(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yg=[];function vg(){for(var n=0;n<yg.length;n++)yg[n]._workInProgressVersionPrimary=null;yg.length=0}var _d=F.ReactCurrentDispatcher,wg=F.ReactCurrentBatchConfig,la=0,ot=null,Et=null,Nt=null,Sd=!1,zc=!1,Hc=0,S_=0;function Kt(){throw Error(t(321))}function xg(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!hs(n[a],i[a]))return!1;return!0}function Ag(n,i,a,h,g,y){if(la=y,ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_d.current=n===null||n.memoizedState===null?T_:P_,n=a(h,g),zc){y=0;do{if(zc=!1,Hc=0,25<=y)throw Error(t(301));y+=1,Nt=Et=null,i.updateQueue=null,_d.current=L_,n=a(h,g)}while(zc)}if(_d.current=kd,i=Et!==null&&Et.next!==null,la=0,Nt=Et=ot=null,Sd=!1,i)throw Error(t(300));return n}function bg(){var n=Hc!==0;return Hc=0,n}function zs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Kn(){if(Et===null){var n=ot.alternate;n=n!==null?n.memoizedState:null}else n=Et.next;var i=Nt===null?ot.memoizedState:Nt.next;if(i!==null)Nt=i,Et=n;else{if(n===null)throw Error(t(310));Et=n,n={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?ot.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Bc(n,i){return typeof i=="function"?i(n):i}function _g(n){var i=Kn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=Et,g=h.baseQueue,y=a.pending;if(y!==null){if(g!==null){var b=g.next;g.next=y.next,y.next=b}h.baseQueue=g=y,a.pending=null}if(g!==null){y=g.next,h=h.baseState;var P=b=null,R=null,z=y;do{var X=z.lane;if((la&X)===X)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),h=z.hasEagerState?z.eagerState:n(h,z.action);else{var q={lane:X,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(P=R=q,b=h):R=R.next=q,ot.lanes|=X,ca|=X}z=z.next}while(z!==null&&z!==y);R===null?b=h:R.next=P,hs(h,i.memoizedState)||(wn=!0),i.memoizedState=h,i.baseState=b,i.baseQueue=R,a.lastRenderedState=h}if(n=a.interleaved,n!==null){g=n;do y=g.lane,ot.lanes|=y,ca|=y,g=g.next;while(g!==n)}else g===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Sg(n){var i=Kn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,g=a.pending,y=i.memoizedState;if(g!==null){a.pending=null;var b=g=g.next;do y=n(y,b.action),b=b.next;while(b!==g);hs(y,i.memoizedState)||(wn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,h]}function Pv(){}function Lv(n,i){var a=ot,h=Kn(),g=i(),y=!hs(h.memoizedState,g);if(y&&(h.memoizedState=g,wn=!0),h=h.queue,Eg(Nv.bind(null,a,h,n),[n]),h.getSnapshot!==i||y||Nt!==null&&Nt.memoizedState.tag&1){if(a.flags|=2048,Uc(9,Mv.bind(null,a,h,g,i),void 0,null),It===null)throw Error(t(349));(la&30)!==0||Rv(a,i,g)}return g}function Rv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Mv(n,i,a,h){i.value=a,i.getSnapshot=h,Iv(i)&&Fv(n)}function Nv(n,i,a){return a(function(){Iv(i)&&Fv(n)})}function Iv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!hs(n,a)}catch{return!0}}function Fv(n){var i=di(n,1);i!==null&&ms(i,n,1,-1)}function Dv(n){var i=zs();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:n},i.queue=n,n=n.dispatch=k_.bind(null,ot,n),[i.memoizedState,n]}function Uc(n,i,a,h){return n={tag:n,create:i,destroy:a,deps:h,next:null},i=ot.updateQueue,i===null?(i={lastEffect:null,stores:null},ot.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,i.lastEffect=n)),n}function Ov(){return Kn().memoizedState}function Ed(n,i,a,h){var g=zs();ot.flags|=n,g.memoizedState=Uc(1|i,a,void 0,h===void 0?null:h)}function Cd(n,i,a,h){var g=Kn();h=h===void 0?null:h;var y=void 0;if(Et!==null){var b=Et.memoizedState;if(y=b.destroy,h!==null&&xg(h,b.deps)){g.memoizedState=Uc(i,a,y,h);return}}ot.flags|=n,g.memoizedState=Uc(1|i,a,y,h)}function jv(n,i){return Ed(8390656,8,n,i)}function Eg(n,i){return Cd(2048,8,n,i)}function zv(n,i){return Cd(4,2,n,i)}function Hv(n,i){return Cd(4,4,n,i)}function Bv(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Uv(n,i,a){return a=a!=null?a.concat([n]):null,Cd(4,4,Bv.bind(null,i,n),a)}function Cg(){}function Vv(n,i){var a=Kn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&xg(i,h[1])?h[0]:(a.memoizedState=[n,i],n)}function $v(n,i){var a=Kn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&xg(i,h[1])?h[0]:(n=n(),a.memoizedState=[n,i],n)}function Wv(n,i,a){return(la&21)===0?(n.baseState&&(n.baseState=!1,wn=!0),n.memoizedState=a):(hs(a,i)||(a=Ay(),ot.lanes|=a,ca|=a,n.baseState=!0),i)}function E_(n,i){var a=We;We=a!==0&&4>a?a:4,n(!0);var h=wg.transition;wg.transition={};try{n(!1),i()}finally{We=a,wg.transition=h}}function Gv(){return Kn().memoizedState}function C_(n,i,a){var h=pr(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Xv(n))qv(i,a);else if(a=Sv(n,i,a,h),a!==null){var g=cn();ms(a,n,h,g),Yv(a,i,h)}}function k_(n,i,a){var h=pr(n),g={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xv(n))qv(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var b=i.lastRenderedState,P=y(b,a);if(g.hasEagerState=!0,g.eagerState=P,hs(P,b)){var R=i.interleaved;R===null?(g.next=g,fg(i)):(g.next=R.next,R.next=g),i.interleaved=g;return}}catch{}finally{}a=Sv(n,i,g,h),a!==null&&(g=cn(),ms(a,n,h,g),Yv(a,i,h))}}function Xv(n){var i=n.alternate;return n===ot||i!==null&&i===ot}function qv(n,i){zc=Sd=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Yv(n,i,a){if((a&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,a|=h,i.lanes=a,Tp(n,a)}}var kd={readContext:Yn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},T_={readContext:Yn,useCallback:function(n,i){return zs().memoizedState=[n,i===void 0?null:i],n},useContext:Yn,useEffect:jv,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Ed(4194308,4,Bv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ed(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ed(4,2,n,i)},useMemo:function(n,i){var a=zs();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var h=zs();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=C_.bind(null,ot,n),[h.memoizedState,n]},useRef:function(n){var i=zs();return n={current:n},i.memoizedState=n},useState:Dv,useDebugValue:Cg,useDeferredValue:function(n){return zs().memoizedState=n},useTransition:function(){var n=Dv(!1),i=n[0];return n=E_.bind(null,n[1]),zs().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var h=ot,g=zs();if(it){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(la&30)!==0||Rv(h,i,a)}g.memoizedState=a;var y={value:a,getSnapshot:i};return g.queue=y,jv(Nv.bind(null,h,y,n),[n]),h.flags|=2048,Uc(9,Mv.bind(null,h,y,a,i),void 0,null),a},useId:function(){var n=zs(),i=It.identifierPrefix;if(it){var a=hi,h=ui;a=(h&~(1<<32-us(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Hc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=S_++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},P_={readContext:Yn,useCallback:Vv,useContext:Yn,useEffect:Eg,useImperativeHandle:Uv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:$v,useReducer:_g,useRef:Ov,useState:function(){return _g(Bc)},useDebugValue:Cg,useDeferredValue:function(n){var i=Kn();return Wv(i,Et.memoizedState,n)},useTransition:function(){var n=_g(Bc)[0],i=Kn().memoizedState;return[n,i]},useMutableSource:Pv,useSyncExternalStore:Lv,useId:Gv,unstable_isNewReconciler:!1},L_={readContext:Yn,useCallback:Vv,useContext:Yn,useEffect:Eg,useImperativeHandle:Uv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:$v,useReducer:Sg,useRef:Ov,useState:function(){return Sg(Bc)},useDebugValue:Cg,useDeferredValue:function(n){var i=Kn();return Et===null?i.memoizedState=n:Wv(i,Et.memoizedState,n)},useTransition:function(){var n=Sg(Bc)[0],i=Kn().memoizedState;return[n,i]},useMutableSource:Pv,useSyncExternalStore:Lv,useId:Gv,unstable_isNewReconciler:!1};function fs(n,i){if(n&&n.defaultProps){i=J({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function kg(n,i,a,h){i=n.memoizedState,a=a(h,i),a=a==null?i:J({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Td={isMounted:function(n){return(n=n._reactInternals)?ta(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var h=cn(),g=pr(n),y=fi(h,g);y.payload=i,a!=null&&(y.callback=a),i=ur(n,y,g),i!==null&&(ms(i,n,g,h),xd(i,n,g))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var h=cn(),g=pr(n),y=fi(h,g);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=ur(n,y,g),i!==null&&(ms(i,n,g,h),xd(i,n,g))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=cn(),h=pr(n),g=fi(a,h);g.tag=2,i!=null&&(g.callback=i),i=ur(n,g,h),i!==null&&(ms(i,n,h,a),xd(i,n,h))}};function Kv(n,i,a,h,g,y,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,y,b):i.prototype&&i.prototype.isPureReactComponent?!Tc(a,h)||!Tc(g,y):!0}function Qv(n,i,a){var h=!1,g=or,y=i.contextType;return typeof y=="object"&&y!==null?y=Yn(y):(g=vn(i)?sa:Yt.current,h=i.contextTypes,y=(h=h!=null)?zo(n,g):or),i=new i(a,y),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Td,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=g,n.__reactInternalMemoizedMaskedChildContext=y),i}function Jv(n,i,a,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==n&&Td.enqueueReplaceState(i,i.state,null)}function Tg(n,i,a,h){var g=n.stateNode;g.props=a,g.state=n.memoizedState,g.refs={},pg(n);var y=i.contextType;typeof y=="object"&&y!==null?g.context=Yn(y):(y=vn(i)?sa:Yt.current,g.context=zo(n,y)),g.state=n.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(kg(n,i,y,a),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Td.enqueueReplaceState(g,g.state,null),Ad(n,a,g,h),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308)}function Xo(n,i){try{var a="",h=i;do a+=ke(h),h=h.return;while(h);var g=a}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:n,source:i,stack:g,digest:null}}function Pg(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Lg(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var R_=typeof WeakMap=="function"?WeakMap:Map;function Zv(n,i,a){a=fi(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Fd||(Fd=!0,Wg=h),Lg(n,i)},a}function e1(n,i,a){a=fi(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var g=i.value;a.payload=function(){return h(g)},a.callback=function(){Lg(n,i)}}var y=n.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Lg(n,i),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),a}function t1(n,i,a){var h=n.pingCache;if(h===null){h=n.pingCache=new R_;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(a)||(g.add(a),n=W_.bind(null,n,i,a),i.then(n,n))}function n1(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function s1(n,i,a,h,g){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=fi(-1,1),i.tag=2,ur(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=g,n)}var M_=F.ReactCurrentOwner,wn=!1;function ln(n,i,a,h){i.child=n===null?_v(i,null,a,h):Vo(i,n.child,a,h)}function i1(n,i,a,h,g){a=a.render;var y=i.ref;return Wo(i,g),h=Ag(n,i,a,h,y,g),a=bg(),n!==null&&!wn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,pi(n,i,g)):(it&&a&&ig(i),i.flags|=1,ln(n,i,h,g),i.child)}function r1(n,i,a,h,g){if(n===null){var y=a.type;return typeof y=="function"&&!Jg(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,a1(n,i,y,h,g)):(n=Bd(a.type,null,h,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,(n.lanes&g)===0){var b=y.memoizedProps;if(a=a.compare,a=a!==null?a:Tc,a(b,h)&&n.ref===i.ref)return pi(n,i,g)}return i.flags|=1,n=mr(y,h),n.ref=i.ref,n.return=i,i.child=n}function a1(n,i,a,h,g){if(n!==null){var y=n.memoizedProps;if(Tc(y,h)&&n.ref===i.ref)if(wn=!1,i.pendingProps=h=y,(n.lanes&g)!==0)(n.flags&131072)!==0&&(wn=!0);else return i.lanes=n.lanes,pi(n,i,g)}return Rg(n,i,a,h,g)}function o1(n,i,a){var h=i.pendingProps,g=h.children,y=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Yo,Nn),Nn|=a;else{if((a&1073741824)===0)return n=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Je(Yo,Nn),Nn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,Je(Yo,Nn),Nn|=h}else y!==null?(h=y.baseLanes|a,i.memoizedState=null):h=a,Je(Yo,Nn),Nn|=h;return ln(n,i,g,a),i.child}function l1(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Rg(n,i,a,h,g){var y=vn(a)?sa:Yt.current;return y=zo(i,y),Wo(i,g),a=Ag(n,i,a,h,y,g),h=bg(),n!==null&&!wn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~g,pi(n,i,g)):(it&&h&&ig(i),i.flags|=1,ln(n,i,a,g),i.child)}function c1(n,i,a,h,g){if(vn(a)){var y=!0;dd(i)}else y=!1;if(Wo(i,g),i.stateNode===null)Ld(n,i),Qv(i,a,h),Tg(i,a,h,g),h=!0;else if(n===null){var b=i.stateNode,P=i.memoizedProps;b.props=P;var R=b.context,z=a.contextType;typeof z=="object"&&z!==null?z=Yn(z):(z=vn(a)?sa:Yt.current,z=zo(i,z));var X=a.getDerivedStateFromProps,q=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function";q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==h||R!==z)&&Jv(i,b,h,z),cr=!1;var G=i.memoizedState;b.state=G,Ad(i,h,b,g),R=i.memoizedState,P!==h||G!==R||yn.current||cr?(typeof X=="function"&&(kg(i,a,X,h),R=i.memoizedState),(P=cr||Kv(i,a,P,h,G,R,z))?(q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=R),b.props=h,b.state=R,b.context=z,h=P):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{b=i.stateNode,Ev(n,i),P=i.memoizedProps,z=i.type===i.elementType?P:fs(i.type,P),b.props=z,q=i.pendingProps,G=b.context,R=a.contextType,typeof R=="object"&&R!==null?R=Yn(R):(R=vn(a)?sa:Yt.current,R=zo(i,R));var se=a.getDerivedStateFromProps;(X=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P!==q||G!==R)&&Jv(i,b,h,R),cr=!1,G=i.memoizedState,b.state=G,Ad(i,h,b,g);var ce=i.memoizedState;P!==q||G!==ce||yn.current||cr?(typeof se=="function"&&(kg(i,a,se,h),ce=i.memoizedState),(z=cr||Kv(i,a,z,h,G,ce,R)||!1)?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,ce,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,ce,R)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||P===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ce),b.props=h,b.state=ce,b.context=R,h=z):(typeof b.componentDidUpdate!="function"||P===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),h=!1)}return Mg(n,i,a,h,y,g)}function Mg(n,i,a,h,g,y){l1(n,i);var b=(i.flags&128)!==0;if(!h&&!b)return g&&pv(i,a,!1),pi(n,i,y);h=i.stateNode,M_.current=i;var P=b&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&b?(i.child=Vo(i,n.child,null,y),i.child=Vo(i,null,P,y)):ln(n,i,P,y),i.memoizedState=h.state,g&&pv(i,a,!0),i.child}function u1(n){var i=n.stateNode;i.pendingContext?dv(n,i.pendingContext,i.pendingContext!==i.context):i.context&&dv(n,i.context,!1),gg(n,i.containerInfo)}function h1(n,i,a,h,g){return Uo(),lg(g),i.flags|=256,ln(n,i,a,h),i.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function Ig(n){return{baseLanes:n,cachePool:null,transitions:null}}function d1(n,i,a){var h=i.pendingProps,g=at.current,y=!1,b=(i.flags&128)!==0,P;if((P=b)||(P=n!==null&&n.memoizedState===null?!1:(g&2)!==0),P?(y=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(g|=1),Je(at,g&1),n===null)return og(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=h.children,n=h.fallback,y?(h=i.mode,y=i.child,b={mode:"hidden",children:b},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=Ud(b,h,0,null),n=fa(n,h,a,null),y.return=i,n.return=i,y.sibling=n,i.child=y,i.child.memoizedState=Ig(a),i.memoizedState=Ng,n):Fg(i,b));if(g=n.memoizedState,g!==null&&(P=g.dehydrated,P!==null))return N_(n,i,b,h,P,g,a);if(y){y=h.fallback,b=i.mode,g=n.child,P=g.sibling;var R={mode:"hidden",children:h.children};return(b&1)===0&&i.child!==g?(h=i.child,h.childLanes=0,h.pendingProps=R,i.deletions=null):(h=mr(g,R),h.subtreeFlags=g.subtreeFlags&14680064),P!==null?y=mr(P,y):(y=fa(y,b,a,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,b=n.child.memoizedState,b=b===null?Ig(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=n.childLanes&~a,i.memoizedState=Ng,h}return y=n.child,n=y.sibling,h=mr(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=h,i.memoizedState=null,h}function Fg(n,i){return i=Ud({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Pd(n,i,a,h){return h!==null&&lg(h),Vo(i,n.child,null,a),n=Fg(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function N_(n,i,a,h,g,y,b){if(a)return i.flags&256?(i.flags&=-257,h=Pg(Error(t(422))),Pd(n,i,b,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(y=h.fallback,g=i.mode,h=Ud({mode:"visible",children:h.children},g,0,null),y=fa(y,g,b,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Vo(i,n.child,null,b),i.child.memoizedState=Ig(b),i.memoizedState=Ng,y);if((i.mode&1)===0)return Pd(n,i,b,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=Pg(y,h,void 0),Pd(n,i,b,h)}if(P=(b&n.childLanes)!==0,wn||P){if(h=It,h!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|b))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,di(n,g),ms(h,n,g,-1))}return Qg(),h=Pg(Error(t(421))),Pd(n,i,b,h)}return g.data==="$?"?(i.flags|=128,i.child=n.child,i=G_.bind(null,n),g._reactRetry=i,null):(n=y.treeContext,Mn=rr(g.nextSibling),Rn=i,it=!0,ds=null,n!==null&&(Xn[qn++]=ui,Xn[qn++]=hi,Xn[qn++]=ia,ui=n.id,hi=n.overflow,ia=i),i=Fg(i,h.children),i.flags|=4096,i)}function f1(n,i,a){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),dg(n.return,i,a)}function Dg(n,i,a,h,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=g)}function p1(n,i,a){var h=i.pendingProps,g=h.revealOrder,y=h.tail;if(ln(n,i,h.children,a),h=at.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&f1(n,a,i);else if(n.tag===19)f1(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Je(at,h),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(a=i.child,g=null;a!==null;)n=a.alternate,n!==null&&bd(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=i.child,i.child=null):(g=a.sibling,a.sibling=null),Dg(i,!1,g,a,y);break;case"backwards":for(a=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&bd(n)===null){i.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}Dg(i,!0,a,null,y);break;case"together":Dg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ld(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function pi(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ca|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=mr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=mr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function I_(n,i,a){switch(i.tag){case 3:u1(i),Uo();break;case 5:Tv(i);break;case 1:vn(i.type)&&dd(i);break;case 4:gg(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,g=i.memoizedProps.value;Je(vd,h._currentValue),h._currentValue=g;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Je(at,at.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?d1(n,i,a):(Je(at,at.current&1),n=pi(n,i,a),n!==null?n.sibling:null);Je(at,at.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(n.flags&128)!==0){if(h)return p1(n,i,a);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(at,at.current),h)break;return null;case 22:case 23:return i.lanes=0,o1(n,i,a)}return pi(n,i,a)}var g1,Og,m1,y1;g1=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Og=function(){},m1=function(n,i,a,h){var g=n.memoizedProps;if(g!==h){n=i.stateNode,oa(js.current);var y=null;switch(a){case"input":g=st(n,g),h=st(n,h),y=[];break;case"select":g=J({},g,{value:void 0}),h=J({},h,{value:void 0}),y=[];break;case"textarea":g=hc(n,g),h=hc(n,h),y=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=cd)}yp(a,h);var b;a=null;for(z in g)if(!h.hasOwnProperty(z)&&g.hasOwnProperty(z)&&g[z]!=null)if(z==="style"){var P=g[z];for(b in P)P.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(r.hasOwnProperty(z)?y||(y=[]):(y=y||[]).push(z,null));for(z in h){var R=h[z];if(P=g!=null?g[z]:void 0,h.hasOwnProperty(z)&&R!==P&&(R!=null||P!=null))if(z==="style")if(P){for(b in P)!P.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in R)R.hasOwnProperty(b)&&P[b]!==R[b]&&(a||(a={}),a[b]=R[b])}else a||(y||(y=[]),y.push(z,a)),a=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,P=P?P.__html:void 0,R!=null&&P!==R&&(y=y||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(r.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&et("scroll",n),y||P===R||(y=[])):(y=y||[]).push(z,R))}a&&(y=y||[]).push("style",a);var z=y;(i.updateQueue=z)&&(i.flags|=4)}},y1=function(n,i,a,h){a!==h&&(i.flags|=4)};function Vc(n,i){if(!it)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Qt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(i)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=h,n.childLanes=a,i}function F_(n,i,a){var h=i.pendingProps;switch(rg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(i),null;case 1:return vn(i.type)&&hd(),Qt(i),null;case 3:return h=i.stateNode,Go(),tt(yn),tt(Yt),vg(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(md(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ds!==null&&(qg(ds),ds=null))),Og(n,i),Qt(i),null;case 5:mg(i);var g=oa(jc.current);if(a=i.type,n!==null&&i.stateNode!=null)m1(n,i,a,h,g),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Qt(i),null}if(n=oa(js.current),md(i)){h=i.stateNode,a=i.type;var y=i.memoizedProps;switch(h[Os]=i,h[Nc]=y,n=(i.mode&1)!==0,a){case"dialog":et("cancel",h),et("close",h);break;case"iframe":case"object":case"embed":et("load",h);break;case"video":case"audio":for(g=0;g<Lc.length;g++)et(Lc[g],h);break;case"source":et("error",h);break;case"img":case"image":case"link":et("error",h),et("load",h);break;case"details":et("toggle",h);break;case"input":St(h,y),et("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},et("invalid",h);break;case"textarea":jh(h,y),et("invalid",h)}yp(a,y),g=null;for(var b in y)if(y.hasOwnProperty(b)){var P=y[b];b==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&ld(h.textContent,P,n),g=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&ld(h.textContent,P,n),g=["children",""+P]):r.hasOwnProperty(b)&&P!=null&&b==="onScroll"&&et("scroll",h)}switch(a){case"input":Ns(h),Ji(h,y,!0);break;case"textarea":Ns(h),Hh(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=cd)}h=g,i.updateQueue=h,h!==null&&(i.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Bh(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=b.createElement(a,{is:h.is}):(n=b.createElement(a),a==="select"&&(b=n,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):n=b.createElementNS(n,a),n[Os]=i,n[Nc]=h,g1(n,i,!1,!1),i.stateNode=n;e:{switch(b=vp(a,h),a){case"dialog":et("cancel",n),et("close",n),g=h;break;case"iframe":case"object":case"embed":et("load",n),g=h;break;case"video":case"audio":for(g=0;g<Lc.length;g++)et(Lc[g],n);g=h;break;case"source":et("error",n),g=h;break;case"img":case"image":case"link":et("error",n),et("load",n),g=h;break;case"details":et("toggle",n),g=h;break;case"input":St(n,h),g=st(n,h),et("invalid",n);break;case"option":g=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},g=J({},h,{value:void 0}),et("invalid",n);break;case"textarea":jh(n,h),g=hc(n,h),et("invalid",n);break;default:g=h}yp(a,g),P=g;for(y in P)if(P.hasOwnProperty(y)){var R=P[y];y==="style"?ay(n,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ea(n,R)):y==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&oi(n,R):typeof R=="number"&&oi(n,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(r.hasOwnProperty(y)?R!=null&&y==="onScroll"&&et("scroll",n):R!=null&&D(n,y,R,b))}switch(a){case"input":Ns(n),Ji(n,h,!1);break;case"textarea":Ns(n),Hh(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Re(h.value));break;case"select":n.multiple=!!h.multiple,y=h.value,y!=null?cs(n,!!h.multiple,y,!1):h.defaultValue!=null&&cs(n,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(n.onclick=cd)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Qt(i),null;case 6:if(n&&i.stateNode!=null)y1(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=oa(jc.current),oa(js.current),md(i)){if(h=i.stateNode,a=i.memoizedProps,h[Os]=i,(y=h.nodeValue!==a)&&(n=Rn,n!==null))switch(n.tag){case 3:ld(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ld(h.nodeValue,a,(n.mode&1)!==0)}y&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Os]=i,i.stateNode=h}return Qt(i),null;case 13:if(tt(at),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&Mn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)xv(),Uo(),i.flags|=98560,y=!1;else if(y=md(i),h!==null&&h.dehydrated!==null){if(n===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Os]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Qt(i),y=!1}else ds!==null&&(qg(ds),ds=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(at.current&1)!==0?Ct===0&&(Ct=3):Qg())),i.updateQueue!==null&&(i.flags|=4),Qt(i),null);case 4:return Go(),Og(n,i),n===null&&Rc(i.stateNode.containerInfo),Qt(i),null;case 10:return hg(i.type._context),Qt(i),null;case 17:return vn(i.type)&&hd(),Qt(i),null;case 19:if(tt(at),y=i.memoizedState,y===null)return Qt(i),null;if(h=(i.flags&128)!==0,b=y.rendering,b===null)if(h)Vc(y,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=bd(n),b!==null){for(i.flags|=128,Vc(y,!1),h=b.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)y=a,n=h,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=n,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,n=b.dependencies,y.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Je(at,at.current&1|2),i.child}n=n.sibling}y.tail!==null&&mt()>Ko&&(i.flags|=128,h=!0,Vc(y,!1),i.lanes=4194304)}else{if(!h)if(n=bd(b),n!==null){if(i.flags|=128,h=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Vc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!it)return Qt(i),null}else 2*mt()-y.renderingStartTime>Ko&&a!==1073741824&&(i.flags|=128,h=!0,Vc(y,!1),i.lanes=4194304);y.isBackwards?(b.sibling=i.child,i.child=b):(a=y.last,a!==null?a.sibling=b:i.child=b,y.last=b)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=mt(),i.sibling=null,a=at.current,Je(at,h?a&1|2:a&1),i):(Qt(i),null);case 22:case 23:return Kg(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Nn&1073741824)!==0&&(Qt(i),i.subtreeFlags&6&&(i.flags|=8192)):Qt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function D_(n,i){switch(rg(i),i.tag){case 1:return vn(i.type)&&hd(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Go(),tt(yn),tt(Yt),vg(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return mg(i),null;case 13:if(tt(at),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Uo()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return tt(at),null;case 4:return Go(),null;case 10:return hg(i.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Rd=!1,Jt=!1,O_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function qo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){dt(n,i,h)}else a.current=null}function jg(n,i,a){try{a()}catch(h){dt(n,i,h)}}var v1=!1;function j_(n,i){if(Kp=Qh,n=Ky(),Up(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var b=0,P=-1,R=-1,z=0,X=0,q=n,G=null;t:for(;;){for(var se;q!==a||g!==0&&q.nodeType!==3||(P=b+g),q!==y||h!==0&&q.nodeType!==3||(R=b+h),q.nodeType===3&&(b+=q.nodeValue.length),(se=q.firstChild)!==null;)G=q,q=se;for(;;){if(q===n)break t;if(G===a&&++z===g&&(P=b),G===y&&++X===h&&(R=b),(se=q.nextSibling)!==null)break;q=G,G=q.parentNode}q=se}a=P===-1||R===-1?null:{start:P,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qp={focusedElem:n,selectionRange:a},Qh=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var ue=ce.memoizedProps,yt=ce.memoizedState,O=i.stateNode,M=O.getSnapshotBeforeUpdate(i.elementType===i.type?ue:fs(i.type,ue),yt);O.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Y){dt(i,i.return,Y)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return ce=v1,v1=!1,ce}function $c(n,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&n)===n){var y=g.destroy;g.destroy=void 0,y!==void 0&&jg(i,a,y)}g=g.next}while(g!==h)}}function Md(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function zg(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function w1(n){var i=n.alternate;i!==null&&(n.alternate=null,w1(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Os],delete i[Nc],delete i[tg],delete i[x_],delete i[A_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function x1(n){return n.tag===5||n.tag===3||n.tag===4}function A1(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||x1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hg(n,i,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cd));else if(h!==4&&(n=n.child,n!==null))for(Hg(n,i,a),n=n.sibling;n!==null;)Hg(n,i,a),n=n.sibling}function Bg(n,i,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Bg(n,i,a),n=n.sibling;n!==null;)Bg(n,i,a),n=n.sibling}var Ut=null,ps=!1;function hr(n,i,a){for(a=a.child;a!==null;)b1(n,i,a),a=a.sibling}function b1(n,i,a){if(Ds&&typeof Ds.onCommitFiberUnmount=="function")try{Ds.onCommitFiberUnmount(Wh,a)}catch{}switch(a.tag){case 5:Jt||qo(a,i);case 6:var h=Ut,g=ps;Ut=null,hr(n,i,a),Ut=h,ps=g,Ut!==null&&(ps?(n=Ut,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Ut.removeChild(a.stateNode));break;case 18:Ut!==null&&(ps?(n=Ut,a=a.stateNode,n.nodeType===8?eg(n.parentNode,a):n.nodeType===1&&eg(n,a),bc(n)):eg(Ut,a.stateNode));break;case 4:h=Ut,g=ps,Ut=a.stateNode.containerInfo,ps=!0,hr(n,i,a),Ut=h,ps=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var y=g,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&jg(a,i,b),g=g.next}while(g!==h)}hr(n,i,a);break;case 1:if(!Jt&&(qo(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(P){dt(a,i,P)}hr(n,i,a);break;case 21:hr(n,i,a);break;case 22:a.mode&1?(Jt=(h=Jt)||a.memoizedState!==null,hr(n,i,a),Jt=h):hr(n,i,a);break;default:hr(n,i,a)}}function _1(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new O_),i.forEach(function(h){var g=X_.bind(null,n,h);a.has(h)||(a.add(h),h.then(g,g))})}}function gs(n,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var g=a[h];try{var y=n,b=i,P=b;e:for(;P!==null;){switch(P.tag){case 5:Ut=P.stateNode,ps=!1;break e;case 3:Ut=P.stateNode.containerInfo,ps=!0;break e;case 4:Ut=P.stateNode.containerInfo,ps=!0;break e}P=P.return}if(Ut===null)throw Error(t(160));b1(y,b,g),Ut=null,ps=!1;var R=g.alternate;R!==null&&(R.return=null),g.return=null}catch(z){dt(g,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)S1(i,n),i=i.sibling}function S1(n,i){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gs(i,n),Hs(n),h&4){try{$c(3,n,n.return),Md(3,n)}catch(ue){dt(n,n.return,ue)}try{$c(5,n,n.return)}catch(ue){dt(n,n.return,ue)}}break;case 1:gs(i,n),Hs(n),h&512&&a!==null&&qo(a,a.return);break;case 5:if(gs(i,n),Hs(n),h&512&&a!==null&&qo(a,a.return),n.flags&32){var g=n.stateNode;try{oi(g,"")}catch(ue){dt(n,n.return,ue)}}if(h&4&&(g=n.stateNode,g!=null)){var y=n.memoizedProps,b=a!==null?a.memoizedProps:y,P=n.type,R=n.updateQueue;if(n.updateQueue=null,R!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&gt(g,y),vp(P,b);var z=vp(P,y);for(b=0;b<R.length;b+=2){var X=R[b],q=R[b+1];X==="style"?ay(g,q):X==="dangerouslySetInnerHTML"?ea(g,q):X==="children"?oi(g,q):D(g,X,q,z)}switch(P){case"input":Is(g,y);break;case"textarea":zh(g,y);break;case"select":var G=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var se=y.value;se!=null?cs(g,!!y.multiple,se,!1):G!==!!y.multiple&&(y.defaultValue!=null?cs(g,!!y.multiple,y.defaultValue,!0):cs(g,!!y.multiple,y.multiple?[]:"",!1))}g[Nc]=y}catch(ue){dt(n,n.return,ue)}}break;case 6:if(gs(i,n),Hs(n),h&4){if(n.stateNode===null)throw Error(t(162));g=n.stateNode,y=n.memoizedProps;try{g.nodeValue=y}catch(ue){dt(n,n.return,ue)}}break;case 3:if(gs(i,n),Hs(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{bc(i.containerInfo)}catch(ue){dt(n,n.return,ue)}break;case 4:gs(i,n),Hs(n);break;case 13:gs(i,n),Hs(n),g=n.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||($g=mt())),h&4&&_1(n);break;case 22:if(X=a!==null&&a.memoizedState!==null,n.mode&1?(Jt=(z=Jt)||X,gs(i,n),Jt=z):gs(i,n),Hs(n),h&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!X&&(n.mode&1)!==0)for(ae=n,X=n.child;X!==null;){for(q=ae=X;ae!==null;){switch(G=ae,se=G.child,G.tag){case 0:case 11:case 14:case 15:$c(4,G,G.return);break;case 1:qo(G,G.return);var ce=G.stateNode;if(typeof ce.componentWillUnmount=="function"){h=G,a=G.return;try{i=h,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(ue){dt(h,a,ue)}}break;case 5:qo(G,G.return);break;case 22:if(G.memoizedState!==null){k1(q);continue}}se!==null?(se.return=G,ae=se):k1(q)}X=X.sibling}e:for(X=null,q=n;;){if(q.tag===5){if(X===null){X=q;try{g=q.stateNode,z?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=q.stateNode,R=q.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,P.style.display=ry("display",b))}catch(ue){dt(n,n.return,ue)}}}else if(q.tag===6){if(X===null)try{q.stateNode.nodeValue=z?"":q.memoizedProps}catch(ue){dt(n,n.return,ue)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===n)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===n)break e;for(;q.sibling===null;){if(q.return===null||q.return===n)break e;X===q&&(X=null),q=q.return}X===q&&(X=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:gs(i,n),Hs(n),h&4&&_1(n);break;case 21:break;default:gs(i,n),Hs(n)}}function Hs(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(x1(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(oi(g,""),h.flags&=-33);var y=A1(n);Bg(n,y,g);break;case 3:case 4:var b=h.stateNode.containerInfo,P=A1(n);Hg(n,P,b);break;default:throw Error(t(161))}}catch(R){dt(n,n.return,R)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function z_(n,i,a){ae=n,E1(n)}function E1(n,i,a){for(var h=(n.mode&1)!==0;ae!==null;){var g=ae,y=g.child;if(g.tag===22&&h){var b=g.memoizedState!==null||Rd;if(!b){var P=g.alternate,R=P!==null&&P.memoizedState!==null||Jt;P=Rd;var z=Jt;if(Rd=b,(Jt=R)&&!z)for(ae=g;ae!==null;)b=ae,R=b.child,b.tag===22&&b.memoizedState!==null?T1(g):R!==null?(R.return=b,ae=R):T1(g);for(;y!==null;)ae=y,E1(y),y=y.sibling;ae=g,Rd=P,Jt=z}C1(n)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,ae=y):C1(n)}}function C1(n){for(;ae!==null;){var i=ae;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Jt||Md(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Jt)if(a===null)h.componentDidMount();else{var g=i.elementType===i.type?a.memoizedProps:fs(i.type,a.memoizedProps);h.componentDidUpdate(g,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&kv(i,y,h);break;case 3:var b=i.updateQueue;if(b!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}kv(i,b,a)}break;case 5:var P=i.stateNode;if(a===null&&i.flags&4){a=P;var R=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var X=z.memoizedState;if(X!==null){var q=X.dehydrated;q!==null&&bc(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||i.flags&512&&zg(i)}catch(G){dt(i,i.return,G)}}if(i===n){ae=null;break}if(a=i.sibling,a!==null){a.return=i.return,ae=a;break}ae=i.return}}function k1(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ae=a;break}ae=i.return}}function T1(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Md(4,i)}catch(R){dt(i,a,R)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var g=i.return;try{h.componentDidMount()}catch(R){dt(i,g,R)}}var y=i.return;try{zg(i)}catch(R){dt(i,y,R)}break;case 5:var b=i.return;try{zg(i)}catch(R){dt(i,b,R)}}}catch(R){dt(i,i.return,R)}if(i===n){ae=null;break}var P=i.sibling;if(P!==null){P.return=i.return,ae=P;break}ae=i.return}}var H_=Math.ceil,Nd=F.ReactCurrentDispatcher,Ug=F.ReactCurrentOwner,Qn=F.ReactCurrentBatchConfig,He=0,It=null,xt=null,Vt=0,Nn=0,Yo=ar(0),Ct=0,Wc=null,ca=0,Id=0,Vg=0,Gc=null,xn=null,$g=0,Ko=1/0,gi=null,Fd=!1,Wg=null,dr=null,Dd=!1,fr=null,Od=0,Xc=0,Gg=null,jd=-1,zd=0;function cn(){return(He&6)!==0?mt():jd!==-1?jd:jd=mt()}function pr(n){return(n.mode&1)===0?1:(He&2)!==0&&Vt!==0?Vt&-Vt:__.transition!==null?(zd===0&&(zd=Ay()),zd):(n=We,n!==0||(n=window.event,n=n===void 0?16:Ly(n.type)),n)}function ms(n,i,a,h){if(50<Xc)throw Xc=0,Gg=null,Error(t(185));yc(n,a,h),((He&2)===0||n!==It)&&(n===It&&((He&2)===0&&(Id|=a),Ct===4&&gr(n,Vt)),An(n,h),a===1&&He===0&&(i.mode&1)===0&&(Ko=mt()+500,fd&&lr()))}function An(n,i){var a=n.callbackNode;_b(n,i);var h=qh(n,n===It?Vt:0);if(h===0)a!==null&&vy(a),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(a!=null&&vy(a),i===1)n.tag===0?b_(L1.bind(null,n)):gv(L1.bind(null,n)),v_(function(){(He&6)===0&&lr()}),a=null;else{switch(by(h)){case 1:a=Ep;break;case 4:a=wy;break;case 16:a=$h;break;case 536870912:a=xy;break;default:a=$h}a=j1(a,P1.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function P1(n,i){if(jd=-1,zd=0,(He&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Qo()&&n.callbackNode!==a)return null;var h=qh(n,n===It?Vt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=Hd(n,h);else{i=h;var g=He;He|=2;var y=M1();(It!==n||Vt!==i)&&(gi=null,Ko=mt()+500,ha(n,i));do try{V_();break}catch(P){R1(n,P)}while(!0);ug(),Nd.current=y,He=g,xt!==null?i=0:(It=null,Vt=0,i=Ct)}if(i!==0){if(i===2&&(g=Cp(n),g!==0&&(h=g,i=Xg(n,g))),i===1)throw a=Wc,ha(n,0),gr(n,h),An(n,mt()),a;if(i===6)gr(n,h);else{if(g=n.current.alternate,(h&30)===0&&!B_(g)&&(i=Hd(n,h),i===2&&(y=Cp(n),y!==0&&(h=y,i=Xg(n,y))),i===1))throw a=Wc,ha(n,0),gr(n,h),An(n,mt()),a;switch(n.finishedWork=g,n.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:da(n,xn,gi);break;case 3:if(gr(n,h),(h&130023424)===h&&(i=$g+500-mt(),10<i)){if(qh(n,0)!==0)break;if(g=n.suspendedLanes,(g&h)!==h){cn(),n.pingedLanes|=n.suspendedLanes&g;break}n.timeoutHandle=Zp(da.bind(null,n,xn,gi),i);break}da(n,xn,gi);break;case 4:if(gr(n,h),(h&4194240)===h)break;for(i=n.eventTimes,g=-1;0<h;){var b=31-us(h);y=1<<b,b=i[b],b>g&&(g=b),h&=~y}if(h=g,h=mt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*H_(h/1960))-h,10<h){n.timeoutHandle=Zp(da.bind(null,n,xn,gi),h);break}da(n,xn,gi);break;case 5:da(n,xn,gi);break;default:throw Error(t(329))}}}return An(n,mt()),n.callbackNode===a?P1.bind(null,n):null}function Xg(n,i){var a=Gc;return n.current.memoizedState.isDehydrated&&(ha(n,i).flags|=256),n=Hd(n,i),n!==2&&(i=xn,xn=a,i!==null&&qg(i)),n}function qg(n){xn===null?xn=n:xn.push.apply(xn,n)}function B_(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var g=a[h],y=g.getSnapshot;g=g.value;try{if(!hs(y(),g))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gr(n,i){for(i&=~Vg,i&=~Id,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-us(i),h=1<<a;n[a]=-1,i&=~h}}function L1(n){if((He&6)!==0)throw Error(t(327));Qo();var i=qh(n,0);if((i&1)===0)return An(n,mt()),null;var a=Hd(n,i);if(n.tag!==0&&a===2){var h=Cp(n);h!==0&&(i=h,a=Xg(n,h))}if(a===1)throw a=Wc,ha(n,0),gr(n,i),An(n,mt()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,da(n,xn,gi),An(n,mt()),null}function Yg(n,i){var a=He;He|=1;try{return n(i)}finally{He=a,He===0&&(Ko=mt()+500,fd&&lr())}}function ua(n){fr!==null&&fr.tag===0&&(He&6)===0&&Qo();var i=He;He|=1;var a=Qn.transition,h=We;try{if(Qn.transition=null,We=1,n)return n()}finally{We=h,Qn.transition=a,He=i,(He&6)===0&&lr()}}function Kg(){Nn=Yo.current,tt(Yo)}function ha(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,y_(a)),xt!==null)for(a=xt.return;a!==null;){var h=a;switch(rg(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&hd();break;case 3:Go(),tt(yn),tt(Yt),vg();break;case 5:mg(h);break;case 4:Go();break;case 13:tt(at);break;case 19:tt(at);break;case 10:hg(h.type._context);break;case 22:case 23:Kg()}a=a.return}if(It=n,xt=n=mr(n.current,null),Vt=Nn=i,Ct=0,Wc=null,Vg=Id=ca=0,xn=Gc=null,aa!==null){for(i=0;i<aa.length;i++)if(a=aa[i],h=a.interleaved,h!==null){a.interleaved=null;var g=h.next,y=a.pending;if(y!==null){var b=y.next;y.next=g,h.next=b}a.pending=h}aa=null}return n}function R1(n,i){do{var a=xt;try{if(ug(),_d.current=kd,Sd){for(var h=ot.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Sd=!1}if(la=0,Nt=Et=ot=null,zc=!1,Hc=0,Ug.current=null,a===null||a.return===null){Ct=1,Wc=i,xt=null;break}e:{var y=n,b=a.return,P=a,R=i;if(i=Vt,P.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,X=P,q=X.tag;if((X.mode&1)===0&&(q===0||q===11||q===15)){var G=X.alternate;G?(X.updateQueue=G.updateQueue,X.memoizedState=G.memoizedState,X.lanes=G.lanes):(X.updateQueue=null,X.memoizedState=null)}var se=n1(b);if(se!==null){se.flags&=-257,s1(se,b,P,y,i),se.mode&1&&t1(y,z,i),i=se,R=z;var ce=i.updateQueue;if(ce===null){var ue=new Set;ue.add(R),i.updateQueue=ue}else ce.add(R);break e}else{if((i&1)===0){t1(y,z,i),Qg();break e}R=Error(t(426))}}else if(it&&P.mode&1){var yt=n1(b);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),s1(yt,b,P,y,i),lg(Xo(R,P));break e}}y=R=Xo(R,P),Ct!==4&&(Ct=2),Gc===null?Gc=[y]:Gc.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var O=Zv(y,R,i);Cv(y,O);break e;case 1:P=R;var M=y.type,j=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(dr===null||!dr.has(j)))){y.flags|=65536,i&=-i,y.lanes|=i;var Y=e1(y,P,i);Cv(y,Y);break e}}y=y.return}while(y!==null)}I1(a)}catch(de){i=de,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function M1(){var n=Nd.current;return Nd.current=kd,n===null?kd:n}function Qg(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),It===null||(ca&268435455)===0&&(Id&268435455)===0||gr(It,Vt)}function Hd(n,i){var a=He;He|=2;var h=M1();(It!==n||Vt!==i)&&(gi=null,ha(n,i));do try{U_();break}catch(g){R1(n,g)}while(!0);if(ug(),He=a,Nd.current=h,xt!==null)throw Error(t(261));return It=null,Vt=0,Ct}function U_(){for(;xt!==null;)N1(xt)}function V_(){for(;xt!==null&&!pb();)N1(xt)}function N1(n){var i=O1(n.alternate,n,Nn);n.memoizedProps=n.pendingProps,i===null?I1(n):xt=i,Ug.current=null}function I1(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=F_(a,i,Nn),a!==null){xt=a;return}}else{if(a=D_(a,i),a!==null){a.flags&=32767,xt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,xt=null;return}}if(i=i.sibling,i!==null){xt=i;return}xt=i=n}while(i!==null);Ct===0&&(Ct=5)}function da(n,i,a){var h=We,g=Qn.transition;try{Qn.transition=null,We=1,$_(n,i,a,h)}finally{Qn.transition=g,We=h}return null}function $_(n,i,a,h){do Qo();while(fr!==null);if((He&6)!==0)throw Error(t(327));a=n.finishedWork;var g=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var y=a.lanes|a.childLanes;if(Sb(n,y),n===It&&(xt=It=null,Vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Dd||(Dd=!0,j1($h,function(){return Qo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Qn.transition,Qn.transition=null;var b=We;We=1;var P=He;He|=4,Ug.current=null,j_(n,a),S1(a,n),u_(Qp),Qh=!!Kp,Qp=Kp=null,n.current=a,z_(a),gb(),He=P,We=b,Qn.transition=y}else n.current=a;if(Dd&&(Dd=!1,fr=n,Od=g),y=n.pendingLanes,y===0&&(dr=null),vb(a.stateNode),An(n,mt()),i!==null)for(h=n.onRecoverableError,a=0;a<i.length;a++)g=i[a],h(g.value,{componentStack:g.stack,digest:g.digest});if(Fd)throw Fd=!1,n=Wg,Wg=null,n;return(Od&1)!==0&&n.tag!==0&&Qo(),y=n.pendingLanes,(y&1)!==0?n===Gg?Xc++:(Xc=0,Gg=n):Xc=0,lr(),null}function Qo(){if(fr!==null){var n=by(Od),i=Qn.transition,a=We;try{if(Qn.transition=null,We=16>n?16:n,fr===null)var h=!1;else{if(n=fr,fr=null,Od=0,(He&6)!==0)throw Error(t(331));var g=He;for(He|=4,ae=n.current;ae!==null;){var y=ae,b=y.child;if((ae.flags&16)!==0){var P=y.deletions;if(P!==null){for(var R=0;R<P.length;R++){var z=P[R];for(ae=z;ae!==null;){var X=ae;switch(X.tag){case 0:case 11:case 15:$c(8,X,y)}var q=X.child;if(q!==null)q.return=X,ae=q;else for(;ae!==null;){X=ae;var G=X.sibling,se=X.return;if(w1(X),X===z){ae=null;break}if(G!==null){G.return=se,ae=G;break}ae=se}}}var ce=y.alternate;if(ce!==null){var ue=ce.child;if(ue!==null){ce.child=null;do{var yt=ue.sibling;ue.sibling=null,ue=yt}while(ue!==null)}}ae=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,ae=b;else e:for(;ae!==null;){if(y=ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:$c(9,y,y.return)}var O=y.sibling;if(O!==null){O.return=y.return,ae=O;break e}ae=y.return}}var M=n.current;for(ae=M;ae!==null;){b=ae;var j=b.child;if((b.subtreeFlags&2064)!==0&&j!==null)j.return=b,ae=j;else e:for(b=M;ae!==null;){if(P=ae,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:Md(9,P)}}catch(de){dt(P,P.return,de)}if(P===b){ae=null;break e}var Y=P.sibling;if(Y!==null){Y.return=P.return,ae=Y;break e}ae=P.return}}if(He=g,lr(),Ds&&typeof Ds.onPostCommitFiberRoot=="function")try{Ds.onPostCommitFiberRoot(Wh,n)}catch{}h=!0}return h}finally{We=a,Qn.transition=i}}return!1}function F1(n,i,a){i=Xo(a,i),i=Zv(n,i,1),n=ur(n,i,1),i=cn(),n!==null&&(yc(n,1,i),An(n,i))}function dt(n,i,a){if(n.tag===3)F1(n,n,a);else for(;i!==null;){if(i.tag===3){F1(i,n,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(dr===null||!dr.has(h))){n=Xo(a,n),n=e1(i,n,1),i=ur(i,n,1),n=cn(),i!==null&&(yc(i,1,n),An(i,n));break}}i=i.return}}function W_(n,i,a){var h=n.pingCache;h!==null&&h.delete(i),i=cn(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Vt&a)===a&&(Ct===4||Ct===3&&(Vt&130023424)===Vt&&500>mt()-$g?ha(n,0):Vg|=a),An(n,i)}function D1(n,i){i===0&&((n.mode&1)===0?i=1:(i=Xh,Xh<<=1,(Xh&130023424)===0&&(Xh=4194304)));var a=cn();n=di(n,i),n!==null&&(yc(n,i,a),An(n,a))}function G_(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),D1(n,a)}function X_(n,i){var a=0;switch(n.tag){case 13:var h=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),D1(n,a)}var O1;O1=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||yn.current)wn=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return wn=!1,I_(n,i,a);wn=(n.flags&131072)!==0}else wn=!1,it&&(i.flags&1048576)!==0&&mv(i,gd,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Ld(n,i),n=i.pendingProps;var g=zo(i,Yt.current);Wo(i,a),g=Ag(null,i,h,n,g,a);var y=bg();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,vn(h)?(y=!0,dd(i)):y=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,pg(i),g.updater=Td,i.stateNode=g,g._reactInternals=i,Tg(i,h,n,a),i=Mg(null,i,h,!0,y,a)):(i.tag=0,it&&y&&ig(i),ln(null,i,g,a),i=i.child),i;case 16:h=i.elementType;e:{switch(Ld(n,i),n=i.pendingProps,g=h._init,h=g(h._payload),i.type=h,g=i.tag=Y_(h),n=fs(h,n),g){case 0:i=Rg(null,i,h,n,a);break e;case 1:i=c1(null,i,h,n,a);break e;case 11:i=i1(null,i,h,n,a);break e;case 14:i=r1(null,i,h,fs(h.type,n),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:fs(h,g),Rg(n,i,h,g,a);case 1:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:fs(h,g),c1(n,i,h,g,a);case 3:e:{if(u1(i),n===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,g=y.element,Ev(n,i),Ad(i,h,null,a);var b=i.memoizedState;if(h=b.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){g=Xo(Error(t(423)),i),i=h1(n,i,h,a,g);break e}else if(h!==g){g=Xo(Error(t(424)),i),i=h1(n,i,h,a,g);break e}else for(Mn=rr(i.stateNode.containerInfo.firstChild),Rn=i,it=!0,ds=null,a=_v(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Uo(),h===g){i=pi(n,i,a);break e}ln(n,i,h,a)}i=i.child}return i;case 5:return Tv(i),n===null&&og(i),h=i.type,g=i.pendingProps,y=n!==null?n.memoizedProps:null,b=g.children,Jp(h,g)?b=null:y!==null&&Jp(h,y)&&(i.flags|=32),l1(n,i),ln(n,i,b,a),i.child;case 6:return n===null&&og(i),null;case 13:return d1(n,i,a);case 4:return gg(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=Vo(i,null,h,a):ln(n,i,h,a),i.child;case 11:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:fs(h,g),i1(n,i,h,g,a);case 7:return ln(n,i,i.pendingProps,a),i.child;case 8:return ln(n,i,i.pendingProps.children,a),i.child;case 12:return ln(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,g=i.pendingProps,y=i.memoizedProps,b=g.value,Je(vd,h._currentValue),h._currentValue=b,y!==null)if(hs(y.value,b)){if(y.children===g.children&&!yn.current){i=pi(n,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var P=y.dependencies;if(P!==null){b=y.child;for(var R=P.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=fi(-1,a&-a),R.tag=2;var z=y.updateQueue;if(z!==null){z=z.shared;var X=z.pending;X===null?R.next=R:(R.next=X.next,X.next=R),z.pending=R}}y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),dg(y.return,a,i),P.lanes|=a;break}R=R.next}}else if(y.tag===10)b=y.type===i.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(t(341));b.lanes|=a,P=b.alternate,P!==null&&(P.lanes|=a),dg(b,a,i),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===i){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}ln(n,i,g.children,a),i=i.child}return i;case 9:return g=i.type,h=i.pendingProps.children,Wo(i,a),g=Yn(g),h=h(g),i.flags|=1,ln(n,i,h,a),i.child;case 14:return h=i.type,g=fs(h,i.pendingProps),g=fs(h.type,g),r1(n,i,h,g,a);case 15:return a1(n,i,i.type,i.pendingProps,a);case 17:return h=i.type,g=i.pendingProps,g=i.elementType===h?g:fs(h,g),Ld(n,i),i.tag=1,vn(h)?(n=!0,dd(i)):n=!1,Wo(i,a),Qv(i,h,g),Tg(i,h,g,a),Mg(null,i,h,!0,n,a);case 19:return p1(n,i,a);case 22:return o1(n,i,a)}throw Error(t(156,i.tag))};function j1(n,i){return yy(n,i)}function q_(n,i,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,i,a,h){return new q_(n,i,a,h)}function Jg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Y_(n){if(typeof n=="function")return Jg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===_e)return 11;if(n===we)return 14}return 2}function mr(n,i){var a=n.alternate;return a===null?(a=Jn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Bd(n,i,a,h,g,y){var b=2;if(h=n,typeof n=="function")Jg(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case $:return fa(a.children,g,y,i);case W:b=8,g|=8;break;case Q:return n=Jn(12,a,i,g|2),n.elementType=Q,n.lanes=y,n;case fe:return n=Jn(13,a,i,g),n.elementType=fe,n.lanes=y,n;case he:return n=Jn(19,a,i,g),n.elementType=he,n.lanes=y,n;case K:return Ud(a,g,y,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:b=10;break e;case te:b=9;break e;case _e:b=11;break e;case we:b=14;break e;case ge:b=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Jn(b,a,i,g),i.elementType=n,i.type=h,i.lanes=y,i}function fa(n,i,a,h){return n=Jn(7,n,h,i),n.lanes=a,n}function Ud(n,i,a,h){return n=Jn(22,n,h,i),n.elementType=K,n.lanes=a,n.stateNode={isHidden:!1},n}function Zg(n,i,a){return n=Jn(6,n,null,i),n.lanes=a,n}function em(n,i,a){return i=Jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function K_(n,i,a,h,g){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function tm(n,i,a,h,g,y,b,P,R){return n=new K_(n,i,a,P,R),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Jn(3,null,null,i),n.current=y,y.stateNode=n,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(y),n}function Q_(n,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:h==null?null:""+h,children:n,containerInfo:i,implementation:a}}function z1(n){if(!n)return or;n=n._reactInternals;e:{if(ta(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(vn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(vn(a))return fv(n,a,i)}return i}function H1(n,i,a,h,g,y,b,P,R){return n=tm(a,h,!0,n,g,y,b,P,R),n.context=z1(null),a=n.current,h=cn(),g=pr(a),y=fi(h,g),y.callback=i??null,ur(a,y,g),n.current.lanes=g,yc(n,g,h),An(n,h),n}function Vd(n,i,a,h){var g=i.current,y=cn(),b=pr(g);return a=z1(a),i.context===null?i.context=a:i.pendingContext=a,i=fi(y,b),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=ur(g,i,b),n!==null&&(ms(n,g,b,y),xd(n,g,b)),b}function $d(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function B1(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function nm(n,i){B1(n,i),(n=n.alternate)&&B1(n,i)}function J_(){return null}var U1=typeof reportError=="function"?reportError:function(n){console.error(n)};function sm(n){this._internalRoot=n}Wd.prototype.render=sm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Vd(n,i,null,null)},Wd.prototype.unmount=sm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ua(function(){Vd(null,n,null,null)}),i[li]=null}};function Wd(n){this._internalRoot=n}Wd.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ey();n={blockedOn:null,target:n,priority:i};for(var a=0;a<nr.length&&i!==0&&i<nr[a].priority;a++);nr.splice(a,0,n),a===0&&Ty(n)}};function im(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function V1(){}function Z_(n,i,a,h,g){if(g){if(typeof h=="function"){var y=h;h=function(){var z=$d(b);y.call(z)}}var b=H1(i,h,n,0,null,!1,!1,"",V1);return n._reactRootContainer=b,n[li]=b.current,Rc(n.nodeType===8?n.parentNode:n),ua(),b}for(;g=n.lastChild;)n.removeChild(g);if(typeof h=="function"){var P=h;h=function(){var z=$d(R);P.call(z)}}var R=tm(n,0,!1,null,null,!1,!1,"",V1);return n._reactRootContainer=R,n[li]=R.current,Rc(n.nodeType===8?n.parentNode:n),ua(function(){Vd(i,R,a,h)}),R}function Xd(n,i,a,h,g){var y=a._reactRootContainer;if(y){var b=y;if(typeof g=="function"){var P=g;g=function(){var R=$d(b);P.call(R)}}Vd(i,b,n,g)}else b=Z_(a,i,n,g,h);return $d(b)}_y=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=mc(i.pendingLanes);a!==0&&(Tp(i,a|1),An(i,mt()),(He&6)===0&&(Ko=mt()+500,lr()))}break;case 13:ua(function(){var h=di(n,1);if(h!==null){var g=cn();ms(h,n,1,g)}}),nm(n,1)}},Pp=function(n){if(n.tag===13){var i=di(n,134217728);if(i!==null){var a=cn();ms(i,n,134217728,a)}nm(n,134217728)}},Sy=function(n){if(n.tag===13){var i=pr(n),a=di(n,i);if(a!==null){var h=cn();ms(a,n,i,h)}nm(n,i)}},Ey=function(){return We},Cy=function(n,i){var a=We;try{return We=n,i()}finally{We=a}},Ap=function(n,i,a){switch(i){case"input":if(Is(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==n&&h.form===n.form){var g=ud(h);if(!g)throw Error(t(90));Qi(h),Is(h,g)}}}break;case"textarea":zh(n,a);break;case"select":i=a.value,i!=null&&cs(n,!!a.multiple,i,!1)}},uy=Yg,hy=ua;var eS={usingClientEntryPoint:!1,Events:[Ic,Oo,ud,ly,cy,Yg]},qc={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tS={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=gy(n),n===null?null:n.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||J_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Wh=qd.inject(tS),Ds=qd}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS,bn.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(i))throw Error(t(200));return Q_(n,i,null,a)},bn.createRoot=function(n,i){if(!im(n))throw Error(t(299));var a=!1,h="",g=U1;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=tm(n,1,!1,null,null,a,!1,h,g),n[li]=i.current,Rc(n.nodeType===8?n.parentNode:n),new sm(i)},bn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=gy(i),n=n===null?null:n.stateNode,n},bn.flushSync=function(n){return ua(n)},bn.hydrate=function(n,i,a){if(!Gd(i))throw Error(t(200));return Xd(null,n,i,!0,a)},bn.hydrateRoot=function(n,i,a){if(!im(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,g=!1,y="",b=U1;if(a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),i=H1(i,null,n,1,a??null,g,!1,y,b),n[li]=i.current,Rc(n),h)for(n=0;n<h.length;n++)a=h[n],g=a._getVersion,g=g(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,g]:i.mutableSourceEagerHydrationData.push(a,g);return new Wd(i)},bn.render=function(n,i,a){if(!Gd(i))throw Error(t(200));return Xd(null,n,i,!1,a)},bn.unmountComponentAtNode=function(n){if(!Gd(n))throw Error(t(40));return n._reactRootContainer?(ua(function(){Xd(null,null,n,!1,function(){n._reactRootContainer=null,n[li]=null})}),!0):!1},bn.unstable_batchedUpdates=Yg,bn.unstable_renderSubtreeIntoContainer=function(n,i,a,h){if(!Gd(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Xd(n,i,a,!1,h)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var J1;function hS(){if(J1)return lm.exports;J1=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(e){console.error(e)}}return f(),lm.exports=uS(),lm.exports}var Z1;function dS(){if(Z1)return Yd;Z1=1;var f=hS();return Yd.createRoot=f.createRoot,Yd.hydrateRoot=f.hydrateRoot,Yd}var fS=dS();function pS(){const f=(e,t)=>{e.preventDefault();const s=document.getElementById(t);s&&s.scrollIntoView({behavior:"smooth",block:"start"})};return S.jsx("div",{className:"w-full bg-white py-6 px-10 shadow-sm fixed z-100 top-0",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center",children:[S.jsx("div",{className:"text-2xl font-bold text-green-700 mb-4 md:mb-0",children:S.jsx("h1",{children:"Mrityunjay Maharana"})}),S.jsx("nav",{children:S.jsx("ul",{className:"flex flex-wrap justify-center gap-4 md:gap-8",children:[{id:"about_section",label:"About"},{id:"skills_section",label:"Skills"},{id:"projects_section",label:"Projects"},{id:"experience_section",label:"Experience"},{id:"resume_section",label:"Resume"},{id:"certification_section",label:"Certifications"},{id:"contact_section",label:"Contact"}].map(e=>S.jsx("li",{children:S.jsx("a",{href:`#${e.id}`,onClick:t=>f(t,e.id),className:"text-gray-700 hover:text-green-700 transition-colors font-medium",children:e.label})},e.id))})})]})})}var Fw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ew=vo.createContext&&vo.createContext(Fw),gS=["attr","size","title"];function mS(f,e){if(f==null)return{};var t=yS(f,e),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(f);for(r=0;r<o.length;r++)s=o[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(f,s)&&(t[s]=f[s])}return t}function yS(f,e){if(f==null)return{};var t={};for(var s in f)if(Object.prototype.hasOwnProperty.call(f,s)){if(e.indexOf(s)>=0)continue;t[s]=f[s]}return t}function Nf(){return Nf=Object.assign?Object.assign.bind():function(f){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(f[s]=t[s])}return f},Nf.apply(this,arguments)}function tw(f,e){var t=Object.keys(f);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(f);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(f,r).enumerable})),t.push.apply(t,s)}return t}function If(f){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tw(Object(t),!0).forEach(function(s){vS(f,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(t)):tw(Object(t)).forEach(function(s){Object.defineProperty(f,s,Object.getOwnPropertyDescriptor(t,s))})}return f}function vS(f,e,t){return e=wS(e),e in f?Object.defineProperty(f,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):f[e]=t,f}function wS(f){var e=xS(f,"string");return typeof e=="symbol"?e:e+""}function xS(f,e){if(typeof f!="object"||!f)return f;var t=f[Symbol.toPrimitive];if(t!==void 0){var s=t.call(f,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(f)}function Dw(f){return f&&f.map((e,t)=>vo.createElement(e.tag,If({key:t},e.attr),Dw(e.child)))}function Gn(f){return e=>vo.createElement(AS,Nf({attr:If({},f.attr)},e),Dw(f.child))}function AS(f){var e=t=>{var{attr:s,size:r,title:o}=f,c=mS(f,gS),u=r||t.size||"1em",d;return t.className&&(d=t.className),f.className&&(d=(d?d+" ":"")+f.className),vo.createElement("svg",Nf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:d,style:If(If({color:f.color||t.color},t.style),f.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&vo.createElement("title",null,o),f.children)};return ew!==void 0?vo.createElement(ew.Consumer,null,t=>e(t)):e(Fw)}function ip(f){return Gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(f)}function Ow(f){return Gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(f)}function bS(f){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(f)}function hm(f){return Gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(f)}function jw(f){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(f)}function _S(f){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(f)}function SS(f){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(f)}function Ff(f){return Gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(f)}function dm(f){return Gn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(f)}function ES(f){return Gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(f)}function CS(f){return Gn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(f)}function zw(f){return Gn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.4883 14.651L15.25 21H22.25L14.3917 10.5223L20.9308 3H18.2808L13.1643 8.88578L8.75 3H1.75L9.26086 13.0145L2.31915 21H4.96917L10.4883 14.651ZM16.25 19L5.75 5H7.75L18.25 19H16.25Z"},child:[]}]})(f)}function kS(){return S.jsx("footer",{className:"bg-gray-900 text-white py-12 px-10",children:S.jsxs("div",{className:"max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8",children:[S.jsxs("div",{className:"text-center md:text-left",children:[S.jsx("h2",{className:"text-2xl font-bold text-green-500 mb-2",children:"Mrityunjay Maharana"}),S.jsx("p",{className:"text-gray-400",children:"Full Stack Developer & Designer"})]}),S.jsxs("nav",{className:"flex flex-wrap justify-center gap-6",children:[S.jsx("a",{href:"#about_section",className:"text-gray-300 hover:text-green-500 transition",children:"About"}),S.jsx("a",{href:"#skills_section",className:"text-gray-300 hover:text-green-500 transition",children:"Skills"}),S.jsx("a",{href:"#projects_section",className:"text-gray-300 hover:text-green-500 transition",children:"Projects"}),S.jsx("a",{href:"#certification_section",className:"text-gray-300 hover:text-green-500 transition",children:"Certifications"}),S.jsx("a",{href:"#contact_section",className:"text-gray-300 hover:text-green-500 transition",children:"Contact"})]}),S.jsxs("div",{className:"flex gap-6 text-2xl",children:[S.jsx("a",{href:"https://github.com/MrityunjayMaharana",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-green-500 transition","aria-label":"GitHub",children:S.jsx(ip,{})}),S.jsx("a",{href:"https://www.linkedin.com/in/mrityunjay-maharana/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-green-500 transition","aria-label":"LinkedIn",children:S.jsx(Ow,{})}),S.jsx("a",{href:"https://x.com/Mrityunjay1608?s=09",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-green-500 transition","aria-label":"Twitter/X",children:S.jsx(zw,{})})]})]}),S.jsxs("div",{className:"border-t border-gray-800 mt-10 pt-8 text-center text-gray-500",children:[S.jsxs("p",{children:[" ",new Date().getFullYear()," Mrityunjay Maharana. All rights reserved."]}),S.jsx("p",{className:"mt-2 text-sm",children:"Built with React and Tailwind CSS"})]})]})})}const TS="/MrityunjayPortfolio/assets/my_photo-Bwf0-OvA.jpg";function PS(f){return Gn({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 2a5 5 0 0 1 5 5v10a5 5 0 0 1 -5 5h-10a5 5 0 0 1 -5 -5v-10a5 5 0 0 1 5 -5zm-9 8a1 1 0 0 0 -1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0 -1 -1m6 0a3 3 0 0 0 -1.168 .236l-.125 .057a1 1 0 0 0 -1.707 .707v5a1 1 0 0 0 2 0v-3a1 1 0 0 1 2 0v3a1 1 0 0 0 2 0v-3a3 3 0 0 0 -3 -3m-6 -3a1 1 0 0 0 -.993 .883l-.007 .127a1 1 0 0 0 1.993 .117l.007 -.127a1 1 0 0 0 -1 -1"},child:[]}]})(f)}function LS(){return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"About Me"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"})]}),S.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-10",children:[S.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col gap-12",children:[S.jsx("div",{className:"text-xl font-extrabold",children:S.jsxs("h1",{className:"flex flex-col leading-tight",children:[S.jsx("span",{className:"text-gray-800",children:"Turning Ideas"}),S.jsx("span",{className:"text-gray-700",children:"into Interactive"}),S.jsx("span",{className:"text-gray-900",children:"Web Realities"})]})}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("p",{className:"text-lg sm:text-xl text-gray-700",children:["Hello, I'm ",S.jsx("u",{children:"Mrityunjay Maharana"})," , a passionate Computer Science student at Lovely Professional University, specializing in:"]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("span",{className:"inline-block bg-green-100 px-6 py-2 rounded-full text-gray-800",children:"Full-Stack Development"}),"",S.jsx("span",{className:"inline-block bg-green-100 px-6 py-2 rounded-full text-gray-800",children:"IOS Development"}),S.jsx("span",{className:"inline-block bg-green-100 px-6 py-2 rounded-full text-gray-800",children:"Cloud Computing"})]}),S.jsx("p",{className:"text-lg sm:text-xl text-gray-700",children:"I'm deeply committed to building innovative and scalable applications that tackle real-world problems through technology."})]}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{className:"bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition",children:S.jsx("a",{href:"",children:"Resume"})}),S.jsx("button",{className:"border border-gray-800 px-6 py-2 rounded-lg hover:bg-gray-100 transition",children:S.jsx("a",{href:"",children:"Projects"})})]})]}),S.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center gap-8 p-8",children:[S.jsx("div",{children:S.jsx("img",{className:"w-90 h-90 object-cover rounded-full border-4 border-gray-300 shadow-md",src:TS,alt:"Mrityunjay Maharana"})}),S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("h1",{className:"text-2xl font-bold text-green-700",children:"Mrityunjay Maharana"}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[S.jsx("span",{className:"text-gray-700",children:"Ambitious Fullstack Developer"}),S.jsx("span",{className:"text-gray-700",children:""}),S.jsx("span",{className:"text-gray-700",children:"UX/UI Designer"}),S.jsx("span",{className:"text-gray-700",children:""}),S.jsx("span",{className:"text-gray-700",children:"IOS Developer"})]})]}),S.jsxs("div",{className:"flex gap-6 text-3xl text-gray-700",children:[S.jsx("a",{target:"_blank",href:"https://github.com/MrityunjayMaharana",className:"hover:text-gray-900 transition",children:S.jsx(ip,{})}),S.jsx("a",{target:"_blank",href:"https://www.linkedin.com/in/mrityunjay-maharana/",className:"hover:text-blue-600 transition",children:S.jsx(PS,{})}),S.jsx("a",{target:"_blank",href:"https://x.com/Mrityunjay1608?s=09",className:"hover:text-gray-900 transition",children:S.jsx(zw,{})})]})]})]})]})}function RS(){return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",id:"skills_section",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Technical Skills"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"Programming Languages"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"C++ (proficient)"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Java"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Python"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"JavaScript"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"PHP"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"HTML"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"CSS"})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Frameworks & Databases"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"React"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"MongoDB"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"PostgreSQL"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Node.js"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Express"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Laravel"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Tailwind"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Bootstrap"})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Core Subjects"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Operating Systems"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Computer Networking"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"DBMS"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Automata Theory"})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),"Version Control"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Git"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"GitHub"})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),"Operating Systems"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Windows"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Linux"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"MAC OS"})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-xl font-semibold text-green-700 mb-4 flex items-center",children:[S.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Soft Skills"]}),S.jsxs("div",{className:"flex flex-wrap gap-3",children:[S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Problem Solving"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Time Management"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Communication"}),S.jsx("span",{className:"bg-green-100 px-4 py-2 rounded-full text-gray-800",children:"Adaptability"})]})]})]})]})}function MS(){const[f,e]=le.useState({name:"",email:"",message:""}),[t,s]=le.useState(!1),[r,o]=le.useState(!1),[c,u]=le.useState(null),d=m=>{const{name:v,value:w}=m.target;e(A=>({...A,[v]:w}))},p=async m=>{m.preventDefault(),o(!0),u(null);try{if((await fetch("https://formspree.io/f/mrityunjaymaharana8@gmail.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)})).ok)s(!0),e({name:"",email:"",message:""});else throw new Error("Failed to send message")}catch(v){console.error("Error submitting form:",v),u("Failed to send message. Please try again later.")}finally{o(!1)}};return S.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-20 max-w-7xl mx-auto",id:"contact_section",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-800 mb-4",children:"Get In Touch"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-md border border-gray-100",children:[S.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-green-700 mb-6",children:"Send me a message"}),t?S.jsx("div",{className:"bg-green-100 text-green-800 p-4 rounded-lg mb-6",children:"Thank you for your message! I'll get back to you soon."}):S.jsxs("form",{onSubmit:p,noValidate:!0,children:[c&&S.jsx("div",{className:"bg-red-100 text-red-800 p-4 rounded-lg mb-6",children:c}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-2",children:"Your Name"}),S.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Your Email"}),S.jsx("input",{type:"email",id:"email",name:"email",value:f.email,onChange:d,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"message",className:"block text-gray-700 mb-2",children:"Your Message"}),S.jsx("textarea",{id:"message",name:"message",value:f.message,onChange:d,required:!0,rows:"5",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),S.jsx("button",{type:"submit",disabled:r,className:`bg-gray-800 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition font-medium w-full ${r?"opacity-75 cursor-not-allowed":""}`,children:r?"Sending...":"Send Message"})]})]}),S.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-md border border-gray-100",children:[S.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-green-700 mb-6",children:"Contact Information"}),S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4 flex-shrink-0",children:S.jsx(_S,{className:"text-green-700 text-xl"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Email"}),S.jsx("a",{href:"mailto:mrityunjaymaharana8@gmail.com",className:"text-gray-600 hover:text-green-700 transition",children:"mrityunjaymaharana8@gmail.com"})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4 flex-shrink-0",children:S.jsx(ES,{className:"text-green-700 text-xl"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"Phone"}),S.jsx("a",{href:"tel:+919692650975",className:"text-gray-600 hover:text-green-700 transition",children:"+91 9692650975"})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4 flex-shrink-0",children:S.jsx(Ow,{className:"text-green-700 text-xl"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"LinkedIn"}),S.jsx("a",{href:"https://www.linkedin.com/in/mrityunjay-maharana/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-green-700 transition",children:"linkedin.com/in/mrityunjay-maharana"})]})]}),S.jsxs("div",{className:"flex items-start",children:[S.jsx("div",{className:"bg-green-100 p-3 rounded-full mr-4 flex-shrink-0",children:S.jsx(ip,{className:"text-green-700 text-xl"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-medium text-gray-800",children:"GitHub"}),S.jsx("a",{href:"https://github.com/MrityunjayMaharana",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-green-700 transition",children:"github.com/MrityunjayMaharana"})]})]})]})]})]})]})}const NS="/MrityunjayPortfolio/assets/s-CdLuey_N.png",IS="/MrityunjayPortfolio/assets/o-B9WV8Kbk.png";function FS(){const f=[{title:"OneLaw - Law Practice Management",description:"A comprehensive law practice management system with, client management, Law professional Onboarding, and Incentives for Profeesionals. Currently under active development.",technologies:["Laravel","PHP","MySQL","Tailwind CSS","HTML5"],githubLink:"#",liveLink:"#",imagePath:IS,isCurrent:!0},{title:"Sorting Algorithm Visualizer",description:"Interactive visualization tool demonstrating various sorting algorithms with real-time animations and performance metrics.",technologies:["React","JavaScript","CSS","D3.js"],githubLink:"https://github.com/MrityunjayMaharana/sorting-visualizer",liveLink:"#",imagePath:NS},{title:"ATS Resume Tracker",description:"Application Tracking System that analyzes resumes using AI and provides match percentage with job descriptions.",technologies:["Python","Streamlit","LLM","Gemini API"],githubLink:"https://github.com/MrityunjayMaharana/ATS-Resume-Tracker",liveLink:"#",imagePath:"/path-to-ats-tracker.jpg"},{title:"Planit - Project Management",description:"Project management platform with workspace creation, task assignment, and progress tracking features.",technologies:["React","Prisma","Express","Tailwind CSS"],githubLink:"https://github.com/MrityunjayMaharana/Planit",liveLink:"#",imagePath:"/path-to-planit.jpg"}];return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",id:"projects_section",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"My Projects"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"}),S.jsx("p",{className:"text-gray-600 mt-4",children:"Here are some of my recent works, including my current focus"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:f.map((e,t)=>S.jsxs("div",{className:`bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow duration-300 relative ${e.isCurrent?"ring-2 ring-green-500":""}`,children:[e.isCurrent&&S.jsx("div",{className:"absolute top-4 right-4 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Current Project"}),S.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:S.jsx("img",{src:e.imagePath,alt:e.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",onError:s=>{s.target.onerror=null,s.target.src="https://via.placeholder.com/600x400?text=Project+Image"}})}),S.jsxs("div",{className:"p-6",children:[S.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:e.title}),S.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:e.technologies.map((s,r)=>S.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${e.isCurrent&&s==="Laravel"?"bg-green-600 text-white":"bg-green-100 text-green-800"}`,children:s},r))}),S.jsxs("div",{className:"flex gap-4",children:[e.githubLink&&S.jsxs("a",{href:e.githubLink,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 transition ${e.isCurrent?"text-green-600 hover:text-green-800":"text-gray-700 hover:text-green-600"}`,children:[S.jsx(ip,{})," Code"]}),e.liveLink&&S.jsxs("a",{href:e.liveLink,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 transition ${e.isCurrent?"text-green-600 hover:text-green-800":"text-gray-700 hover:text-green-600"}`,children:[S.jsx(SS,{})," ",e.isCurrent?"Preview":"Live Demo"]})]})]})]},t))})]})}function DS(){const f=[{id:1,role:"Summer Training",company:"CipherSchools",duration:"June 2024 - July 2024",description:["Completed intensive training in MERN stack development","Built a full-stack blogging application with user authentication","Implemented RESTful APIs and rich text editing functionality","Developed features for image uploads and content management"],technologies:["MERN Stack","React","Node.js","Express","MongoDB"]},{id:2,role:"Project Development",company:"Self-Learning",duration:"2023 - Present",description:["Developed multiple full-stack applications independently","Implemented various sorting algorithm visualizations","Created ATS resume analysis tool using Python and GenAI","Built project management platforms with JWT authentication"],technologies:["React","Python","JavaScript","Tailwind CSS","SQL"]}];return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",id:"experience_section",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Experience & Training"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"})]}),S.jsx("div",{className:"space-y-12",children:f.map(e=>S.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:S.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[S.jsxs("div",{className:"md:w-1/3",children:[S.jsx("h3",{className:"text-2xl font-bold text-green-700",children:e.role}),S.jsx("p",{className:"text-lg text-gray-600",children:e.company}),S.jsx("p",{className:"text-gray-500",children:e.duration})]}),S.jsxs("div",{className:"md:w-2/3",children:[S.jsx("ul",{className:"list-disc pl-5 space-y-2 mb-6",children:e.description.map((t,s)=>S.jsx("li",{className:"text-gray-700",children:t},s))}),S.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologies.map((t,s)=>S.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:t},s))})]})]})},e.id))})]})}const OS="/MrityunjayPortfolio/assets/c1-ht8Lvf13.pdf",jS="/MrityunjayPortfolio/assets/c2-DdQrmdVt.pdf",zS="/MrityunjayPortfolio/assets/c3-DWeTkafk.pdf",HS="/MrityunjayPortfolio/assets/c4-DkUJbXyj.pdf",BS="/MrityunjayPortfolio/assets/c5-BXXwnl3l.pdf",US="/MrityunjayPortfolio/assets/c6-C4iSwQUw.pdf",VS="/MrityunjayPortfolio/assets/c7-i9Rea7Ku.pdf",$S="/MrityunjayPortfolio/assets/c8-FpNnPyRs.pdf",WS="/MrityunjayPortfolio/assets/c9-B_bUyIoH.pdf";function GS(){const f=[{id:1,title:"Prompt Engineering for ChatGPT",issuer:"Vanderbilt University",date:"Completed March 2024",categories:["Creativity","Problem Solving","Writing"],pdfFile:BS},{id:2,title:"Generative AI with Large Language Models",issuer:"DeepLearning.AI",date:"Completed April 2024",categories:["Natural Language Processing","Machine Learning","Python Programming"],pdfFile:WS},{id:3,title:"Dynamic Programming, Greedy Algorithms",issuer:"University of Colorado Boulder",date:"Completed April 2024",categories:["Algorithms","Computer Programming","Problem Solving"],pdfFile:OS},{id:4,title:"ChatGPT Advanced Data Analysis",issuer:"Vanderbilt University",date:"Completed May 2024",categories:["Data Analysis","Leadership and Management"],pdfFile:HS},{id:5,title:"Build AI Apps with ChatGPT, Dall-E, and GPT-4",issuer:"Scrimba",date:"Completed May 2024",categories:["Javascript","Web Development","Machine Learning"],pdfFile:zS},{id:6,title:"Approximation Algorithms and Linear Programming",issuer:"University of Colorado Boulder",date:"Completed May 2024",categories:["Algorithms","Computer Programming"],pdfFile:VS},{id:7,title:"ChatGPT for Beginners: Save time with Microsoft Excel",issuer:"Coursera Project Network",date:"Completed April 2024",categories:["Data Analysis","Microsoft Excel"],pdfFile:jS},{id:8,title:"Learn to code with AI",issuer:"Scrimba",date:"Completed April 2024",categories:["Javascript","Machine Learning"],pdfFile:US},{id:9,title:"ChatGPT Playground for Beginners: Intro to NLP AI",issuer:"Coursera Project Network",date:"Completed May 2024",categories:["Microsoft Excel"],pdfFile:$S}];return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",id:"certification_section",children:[S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Certifications"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(e=>S.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:[S.jsxs("div",{className:"h-48 bg-gray-100 flex flex-col items-center justify-center p-4",children:[S.jsx(Ff,{className:"text-red-500 text-6xl mb-4"}),S.jsx("p",{className:"text-gray-600 text-center font-medium",children:e.title}),S.jsx("p",{className:"text-gray-500 text-sm text-center",children:e.issuer})]}),S.jsxs("div",{className:"p-6",children:[S.jsx("p",{className:"text-gray-500 text-sm mb-4",children:e.date}),S.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:e.categories.map((t,s)=>S.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:t},s))}),S.jsxs("div",{className:"flex gap-3",children:[S.jsxs("a",{href:e.pdfFile,download:!0,className:"flex-1 flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition text-sm",children:[S.jsx(jw,{})," Download"]}),S.jsxs("a",{href:e.pdfFile,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 border border-gray-800 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm",children:[S.jsx(Ff,{})," Open PDF"]})]})]})]},e.id))})]})}const XS="modulepreload",qS=function(f){return"/MrityunjayPortfolio/"+f},nw={},Kd=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=c(t.map(p=>{if(p=qS(p),p in nw)return;nw[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":XS,m||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),m)return new Promise((A,E)=>{w.addEventListener("load",A),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var gu={};gu.d=(f,e)=>{for(var t in e)gu.o(e,t)&&!gu.o(f,t)&&Object.defineProperty(f,t,{enumerable:!0,get:e[t]})};gu.o=(f,e)=>Object.prototype.hasOwnProperty.call(f,e);var Te=globalThis.pdfjsLib={};gu.d(Te,{AbortException:()=>Co,AnnotationEditorLayer:()=>M0,AnnotationEditorParamsType:()=>Ce,AnnotationEditorType:()=>Le,AnnotationEditorUIManager:()=>xo,AnnotationLayer:()=>G2,AnnotationMode:()=>xr,ColorPicker:()=>zf,DOMSVGFactory:()=>Z0,DrawLayer:()=>D0,FeatureTest:()=>pn,GlobalWorkerOptions:()=>Wi,ImageKind:()=>nf,InvalidPDFException:()=>Bw,MissingPDFException:()=>Eo,OPS:()=>vs,OutputScale:()=>Em,PDFDataRangeTransport:()=>Ox,PDFDateString:()=>G0,PDFWorker:()=>ll,PasswordResponses:()=>JS,PermissionFlag:()=>QS,PixelsPerInch:()=>qr,RenderingCancelledException:()=>$0,TextLayer:()=>Zm,UnexpectedResponseException:()=>lp,Util:()=>pe,VerbosityLevel:()=>rp,XfaLayer:()=>zx,build:()=>C2,createValidAbsoluteUrl:()=>nE,fetchData:()=>up,getDocument:()=>y2,getFilenameFromUrl:()=>hE,getPdfFilenameFromUrl:()=>dE,getXfaPageViewport:()=>fE,isDataScheme:()=>hp,isPdfFile:()=>W0,noContextMenu:()=>ls,normalizeUnicode:()=>lE,setLayerDimensions:()=>wo,shadow:()=>ze,version:()=>E2});const on=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Hw=[1,0,0,1,0,0],Am=[.001,0,0,.001,0,0],YS=1e7,fm=1.35,Vn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},KS="pdfjs_internal_editor_",Le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Ce={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},QS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Zt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},nf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},kt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Kc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},rp={ERRORS:0,WARNINGS:1,INFOS:5},vs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},JS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ap=rp.WARNINGS;function ZS(f){Number.isInteger(f)&&(ap=f)}function eE(){return ap}function op(f){ap>=rp.INFOS&&console.log(`Info: ${f}`)}function Ne(f){ap>=rp.WARNINGS&&console.log(`Warning: ${f}`)}function nt(f){throw new Error(f)}function Rt(f,e){f||nt(e)}function tE(f){switch(f==null?void 0:f.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nE(f,e=null,t=null){if(!f)return null;try{if(t&&typeof f=="string"){if(t.addDefaultProtocol&&f.startsWith("www.")){const r=f.match(/\./g);(r==null?void 0:r.length)>=2&&(f=`http://${f}`)}if(t.tryConvertEncoding)try{f=oE(f)}catch{}}const s=e?new URL(f,e):new URL(f);if(tE(s))return s}catch{}return null}function ze(f,e,t,s=!1){return Object.defineProperty(f,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const Jr=function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e}();class bm extends Jr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _m extends Jr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Bw extends Jr{constructor(e){super(e,"InvalidPDFException")}}class Eo extends Jr{constructor(e){super(e,"MissingPDFException")}}class lp extends Jr{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class sE extends Jr{constructor(e){super(e,"FormatError")}}class Co extends Jr{constructor(e){super(e,"AbortException")}}function Uw(f){(typeof f!="object"||(f==null?void 0:f.length)===void 0)&&nt("Invalid argument for bytesToString");const e=f.length,t=8192;if(e<t)return String.fromCharCode.apply(null,f);const s=[];for(let r=0;r<e;r+=t){const o=Math.min(r+t,e),c=f.subarray(r,o);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function cp(f){typeof f!="string"&&nt("Invalid argument for stringToBytes");const e=f.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=f.charCodeAt(s)&255;return t}function iE(f){return String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,f&255)}function U0(f){const e=Object.create(null);for(const[t,s]of f)e[t]=s;return e}function rE(){const f=new Uint8Array(4);return f[0]=1,new Uint32Array(f.buffer,0,1)[0]===1}function aE(){try{return new Function(""),!0}catch{return!1}}class pn{static get isLittleEndian(){return ze(this,"isLittleEndian",rE())}static get isEvalSupported(){return ze(this,"isEvalSupported",aE())}static get isOffscreenCanvasSupported(){return ze(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?ze(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):ze(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return ze(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const pm=Array.from(Array(256).keys(),f=>f.toString(16).padStart(2,"0"));var Xi,sf,Sm;class pe{static makeHexColor(e,t,s){return`#${pm[e]}${pm[t]}${pm[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const s=e[0]*t[0]+e[1]*t[2]+t[4],r=e[0]*t[1]+e[1]*t[3]+t[5];return[s,r]}static applyInverseTransform(e,t){const s=t[0]*t[3]-t[1]*t[2],r=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/s,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/s;return[r,o]}static getAxialAlignedBoundingBox(e,t){const s=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),c=this.applyTransform([e[2],e[1]],t);return[Math.min(s[0],r[0],o[0],c[0]),Math.min(s[1],r[1],o[1],c[1]),Math.max(s[0],r[0],o[0],c[0]),Math.max(s[1],r[1],o[1],c[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],s=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],c=e[2]*t[1]+e[3]*t[3],u=(s+c)/2,d=Math.sqrt((s+c)**2-4*(s*c-o*r))/2,p=u+d||1,m=u-d||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>c?null:[s,o,r,c]}static bezierBoundingBox(e,t,s,r,o,c,u,d,p){return p?(p[0]=Math.min(p[0],e,u),p[1]=Math.min(p[1],t,d),p[2]=Math.max(p[2],e,u),p[3]=Math.max(p[3],t,d)):p=[Math.min(e,u),Math.min(t,d),Math.max(e,u),Math.max(t,d)],_(this,Xi,Sm).call(this,e,s,o,u,t,r,c,d,3*(-e+3*(s-o)+u),6*(e-2*s+o),3*(s-e),p),_(this,Xi,Sm).call(this,e,s,o,u,t,r,c,d,3*(-t+3*(r-c)+d),6*(t-2*r+c),3*(r-t),p),p}}Xi=new WeakSet,sf=function(e,t,s,r,o,c,u,d,p,m){if(p<=0||p>=1)return;const v=1-p,w=p*p,A=w*p,E=v*(v*(v*e+3*p*t)+3*w*s)+A*r,k=v*(v*(v*o+3*p*c)+3*w*u)+A*d;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],k),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],k)},Sm=function(e,t,s,r,o,c,u,d,p,m,v,w){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&_(this,Xi,sf).call(this,e,t,s,r,o,c,u,d,-v/m,w);return}const A=m**2-4*v*p;if(A<0)return;const E=Math.sqrt(A),k=2*p;_(this,Xi,sf).call(this,e,t,s,r,o,c,u,d,(-m+E)/k,w),_(this,Xi,sf).call(this,e,t,s,r,o,c,u,d,(-m-E)/k,w)},C(pe,Xi);function oE(f){return decodeURIComponent(escape(f))}let gm=null,sw=null;function lE(f){return gm||(gm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,sw=new Map([["","t"]])),f.replaceAll(gm,(e,t,s)=>t?t.normalize("NFKC"):sw.get(s))}function cE(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const f=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(f);else for(let e=0;e<32;e++)f[e]=Math.floor(Math.random()*255);return Uw(f)}const V0="pdfjs_internal_id_",mi={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function uE(f){return Uint8Array.prototype.toBase64?f.toBase64():btoa(Uw(f))}const vi="http://www.w3.org/2000/svg",wa=class wa{};Ee(wa,"CSS",96),Ee(wa,"PDF",72),Ee(wa,"PDF_TO_CSS_UNITS",wa.CSS/wa.PDF);let qr=wa;async function up(f,e="text"){if(Zc(f,document.baseURI)){const t=await fetch(f);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const r=new XMLHttpRequest;r.open("GET",f,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Ih{constructor({viewBox:e,scale:t,rotation:s,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.scale=t,this.rotation=s,this.offsetX=r,this.offsetY=o;const u=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let p,m,v,w;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,m=0,v=0,w=1;break;case 90:p=0,m=1,v=1,w=0;break;case 270:p=0,m=-1,v=-1,w=0;break;case 0:p=1,m=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,w=-w);let A,E,k,L;p===0?(A=Math.abs(d-e[1])*t+r,E=Math.abs(u-e[0])*t+o,k=(e[3]-e[1])*t,L=(e[2]-e[0])*t):(A=Math.abs(u-e[0])*t+r,E=Math.abs(d-e[1])*t+o,k=(e[2]-e[0])*t,L=(e[3]-e[1])*t),this.transform=[p*t,m*t,v*t,w*t,A-p*t*u-v*t*d,E-m*t*u-w*t*d],this.width=k,this.height=L}get rawDims(){const{viewBox:e}=this;return ze(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Ih({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:o})}convertToViewportPoint(e,t){return pe.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=pe.applyTransform([e[0],e[1]],this.transform),s=pe.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){return pe.applyInverseTransform([e,t],this.transform)}}class $0 extends Jr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function hp(f){const e=f.length;let t=0;for(;t<e&&f[t].trim()==="";)t++;return f.substring(t,t+5).toLowerCase()==="data:"}function W0(f){return typeof f=="string"&&/\.pdf$/i.test(f)}function hE(f){return[f]=f.split(/[#?]/,1),f.substring(f.lastIndexOf("/")+1)}function dE(f,e="document.pdf"){if(typeof f!="string")return e;if(hp(f))return Ne('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=t.exec(f);let o=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=s.exec(decodeURIComponent(o))[0]}catch{}return o||e}class iw{constructor(){Ee(this,"started",Object.create(null));Ee(this,"times",[])}time(e){e in this.started&&Ne(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ne(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:r,end:o}of this.times)e.push(`${s.padEnd(t)} ${o-r}ms
`);return e.join("")}}function Zc(f,e){try{const{protocol:t}=e?new URL(f,e):new URL(f);return t==="http:"||t==="https:"}catch{return!1}}function ls(f){f.preventDefault()}function rw(f){console.log("Deprecated API usage: "+f)}var wu;class G0{static toDateObject(e){if(!e||typeof e!="string")return null;l(this,wu)||x(this,wu,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,wu).exec(e);if(!t)return null;const s=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let c=parseInt(t[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const p=t[7]||"Z";let m=parseInt(t[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(t[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(c+=m,u+=v):p==="+"&&(c-=m,u-=v),new Date(Date.UTC(s,r,o,c,u,d))}}wu=new WeakMap,C(G0,wu);function fE(f,{scale:e=1,rotation:t=0}){const{width:s,height:r}=f.attributes.style,o=[0,0,parseInt(s),parseInt(r)];return new Ih({viewBox:o,scale:e,rotation:t})}function X0(f){if(f.startsWith("#")){const e=parseInt(f.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return f.startsWith("rgb(")?f.slice(4,-1).split(",").map(e=>parseInt(e)):f.startsWith("rgba(")?f.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ne(`Not a valid color format: "${f}"`),[0,0,0])}function pE(f){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of f.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;f.set(t,X0(s))}e.remove()}function ht(f){const{a:e,b:t,c:s,d:r,e:o,f:c}=f.getTransform();return[e,t,s,r,o,c]}function yi(f){const{a:e,b:t,c:s,d:r,e:o,f:c}=f.getTransform().invertSelf();return[e,t,s,r,o,c]}function wo(f,e,t=!1,s=!0){if(e instanceof Ih){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:c}=f,u=pn.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${o}px`,m=u?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,v=u?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!t||e.rotation%180===0?(c.width=m,c.height=v):(c.width=v,c.height=m)}s&&f.setAttribute("data-main-rotation",e.rotation)}class Em{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Ar,Aa,ws,ba,xu,Au,Bf,Vw,gn,$w,Ww,rf,Gw,km;const wi=class wi{constructor(e){C(this,gn);C(this,Ar,null);C(this,Aa,null);C(this,ws);C(this,ba,null);C(this,xu,null);x(this,ws,e),l(wi,Au)||x(wi,Au,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=x(this,Ar,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,ws)._uiManager._signal;e.addEventListener("contextmenu",ls,{signal:t}),e.addEventListener("pointerdown",_(wi,Bf,Vw),{signal:t});const s=x(this,ba,document.createElement("div"));s.className="buttons",e.append(s);const r=l(this,ws).toolbarPosition;if(r){const{style:o}=e,c=l(this,ws)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*c}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,gn,Gw).call(this),e}get div(){return l(this,Ar)}hide(){var e;l(this,Ar).classList.add("hidden"),(e=l(this,Aa))==null||e.hideDropdown()}show(){var e;l(this,Ar).classList.remove("hidden"),(e=l(this,xu))==null||e.shown()}async addAltText(e){const t=await e.render();_(this,gn,rf).call(this,t),l(this,ba).prepend(t,l(this,gn,km)),x(this,xu,e)}addColorPicker(e){x(this,Aa,e);const t=e.renderButton();_(this,gn,rf).call(this,t),l(this,ba).prepend(t,l(this,gn,km))}remove(){var e;l(this,Ar).remove(),(e=l(this,Aa))==null||e.destroy(),x(this,Aa,null)}};Ar=new WeakMap,Aa=new WeakMap,ws=new WeakMap,ba=new WeakMap,xu=new WeakMap,Au=new WeakMap,Bf=new WeakSet,Vw=function(e){e.stopPropagation()},gn=new WeakSet,$w=function(e){l(this,ws)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},Ww=function(e){l(this,ws)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},rf=function(e){const t=l(this,ws)._uiManager._signal;e.addEventListener("focusin",_(this,gn,$w).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",_(this,gn,Ww).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ls,{signal:t})},Gw=function(){const{editorType:e,_uiManager:t}=l(this,ws),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",l(wi,Au)[e]),_(this,gn,rf).call(this,s),s.addEventListener("click",r=>{t.delete()},{signal:t._signal}),l(this,ba).append(s)},km=function(){const e=document.createElement("div");return e.className="divider",e},C(wi,Bf),C(wi,Au,null);let Cm=wi;var bu,_a,Sa,Kr,Xw,qw,Yw;class gE{constructor(e){C(this,Kr);C(this,bu,null);C(this,_a,null);C(this,Sa);x(this,Sa,e)}show(e,t,s){const[r,o]=_(this,Kr,qw).call(this,t,s),{style:c}=l(this,_a)||x(this,_a,_(this,Kr,Xw).call(this));e.append(l(this,_a)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,_a).remove()}}bu=new WeakMap,_a=new WeakMap,Sa=new WeakMap,Kr=new WeakSet,Xw=function(){const e=x(this,_a,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",ls,{signal:l(this,Sa)._signal});const t=x(this,bu,document.createElement("div"));return t.className="buttons",e.append(t),_(this,Kr,Yw).call(this),e},qw=function(e,t){let s=0,r=0;for(const o of e){const c=o.y+o.height;if(c<s)continue;const u=o.x+(t?o.width:0);if(c>s){r=u,s=c;continue}t?u>r&&(r=u):u<r&&(r=u)}return[t?1-r:r,s]},Yw=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=l(this,Sa)._signal;e.addEventListener("contextmenu",ls,{signal:s}),e.addEventListener("click",()=>{l(this,Sa).highlightSelection("floating_button")},{signal:s}),l(this,bu).append(e)};function Df(f,e,t){for(const s of t)e.addEventListener(s,f[s].bind(f))}function mE(f){return Math.round(Math.min(255,Math.max(1,255*f))).toString(16).padStart(2,"0")}var Uf;class yE{constructor(){C(this,Uf,0)}get id(){return`${KS}${un(this,Uf)._++}`}}Uf=new WeakMap;var hl,_u,tn,dl,af;const ny=class ny{constructor(){C(this,dl);C(this,hl,cE());C(this,_u,0);C(this,tn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return ze(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:t,name:s,size:r,type:o}=e;return _(this,dl,af).call(this,`${t}_${s}_${r}_${o}`,e)}async getFromUrl(e){return _(this,dl,af).call(this,e,e)}async getFromBlob(e,t){const s=await t;return _(this,dl,af).call(this,e,s)}async getFromId(e){l(this,tn)||x(this,tn,new Map);const t=l(this,tn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,tn)||x(this,tn,new Map);let s=l(this,tn).get(e);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${l(this,hl)}_${un(this,_u)._++}`,refCounter:1,isSvg:!1},l(this,tn).set(e,s),l(this,tn).set(s.id,s),s}getSvgUrl(e){const t=l(this,tn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;l(this,tn)||x(this,tn,new Map);const t=l(this,tn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const o=new OffscreenCanvas(s.width,s.height);o.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=o.convertToBlob()}(r=s.close)==null||r.call(s),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,hl)}_`)}};hl=new WeakMap,_u=new WeakMap,tn=new WeakMap,dl=new WeakSet,af=async function(e,t){l(this,tn)||x(this,tn,new Map);let s=l(this,tn).get(e);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,hl)}_${un(this,_u)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(s.url=t,r=await up(t,"blob")):t instanceof File?r=s.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const o=ny._isSVGFittingCanvas,c=new FileReader,u=new Image,d=new Promise((p,m)=>{u.onload=()=>{s.bitmap=u,s.isSvg=!0,p()},c.onload=async()=>{const v=s.svgUrl=c.result;u.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},u.onerror=c.onerror=m});c.readAsDataURL(r),await d}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return l(this,tn).set(e,s),s&&l(this,tn).set(s.id,s),s};let Tm=ny;var Ot,br,Su,jt;class vE{constructor(e=128){C(this,Ot,[]);C(this,br,!1);C(this,Su);C(this,jt,-1);x(this,Su,e)}add({cmd:e,undo:t,post:s,mustExec:r,type:o=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&e(),l(this,br))return;const d={cmd:e,undo:t,post:s,type:o};if(l(this,jt)===-1){l(this,Ot).length>0&&(l(this,Ot).length=0),x(this,jt,0),l(this,Ot).push(d);return}if(c&&l(this,Ot)[l(this,jt)].type===o){u&&(d.undo=l(this,Ot)[l(this,jt)].undo),l(this,Ot)[l(this,jt)]=d;return}const p=l(this,jt)+1;p===l(this,Su)?l(this,Ot).splice(0,1):(x(this,jt,p),p<l(this,Ot).length&&l(this,Ot).splice(p)),l(this,Ot).push(d)}undo(){if(l(this,jt)===-1)return;x(this,br,!0);const{undo:e,post:t}=l(this,Ot)[l(this,jt)];e(),t==null||t(),x(this,br,!1),x(this,jt,l(this,jt)-1)}redo(){if(l(this,jt)<l(this,Ot).length-1){x(this,jt,l(this,jt)+1),x(this,br,!0);const{cmd:e,post:t}=l(this,Ot)[l(this,jt)];e(),t==null||t(),x(this,br,!1)}}hasSomethingToUndo(){return l(this,jt)!==-1}hasSomethingToRedo(){return l(this,jt)<l(this,Ot).length-1}destroy(){x(this,Ot,null)}}Ot=new WeakMap,br=new WeakMap,Su=new WeakMap,jt=new WeakMap;var Vf,Kw;class Fh{constructor(e){C(this,Vf);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=pn.platform;for(const[s,r,o={}]of e)for(const c of s){const u=c.startsWith("mac+");t&&u?(this.callbacks.set(c.slice(4),{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1))):!t&&!u&&(this.callbacks.set(c,{callback:r,options:o}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(_(this,Vf,Kw).call(this,t));if(!s)return;const{callback:r,options:{bubbles:o=!1,args:c=[],checker:u=null}}=s;u&&!u(e,t)||(r.bind(e,...c,t)(),o||(t.stopPropagation(),t.preventDefault()))}}Vf=new WeakSet,Kw=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const $f=class $f{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return pE(e),ze(this,"_colors",e)}convert(e){const t=X0(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,r]of this._colors)if(r.every((o,c)=>o===t[c]))return $f._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?pe.makeHexColor(...t):e}};Ee($f,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pm=$f;var fl,Fn,Tt,Wt,pl,Ai,gl,xs,_r,ml,Ea,Us,As,Ca,Eu,Cu,yl,ku,Vs,Sr,vl,Er,$s,Wf,Cr,Tu,kr,ka,Pu,Lu,zt,Ge,bi,Ta,Ru,Mu,Tr,Ws,_i,Nu,es,ee,of,Lm,Qw,Jw,lf,Zw,ex,tx,Rm,nx,Mm,Nm,sx,hn,vr,ix,rx,Im,ax,eu,Fm;const al=class al{constructor(e,t,s,r,o,c,u,d,p,m,v){C(this,ee);C(this,fl,new AbortController);C(this,Fn,null);C(this,Tt,new Map);C(this,Wt,new Map);C(this,pl,null);C(this,Ai,null);C(this,gl,null);C(this,xs,new vE);C(this,_r,null);C(this,ml,0);C(this,Ea,new Set);C(this,Us,null);C(this,As,null);C(this,Ca,new Set);C(this,Eu,!1);C(this,Cu,!1);C(this,yl,!1);C(this,ku,null);C(this,Vs,null);C(this,Sr,null);C(this,vl,null);C(this,Er,!1);C(this,$s,null);C(this,Wf,new yE);C(this,Cr,!1);C(this,Tu,!1);C(this,kr,null);C(this,ka,null);C(this,Pu,null);C(this,Lu,null);C(this,zt,Le.NONE);C(this,Ge,new Set);C(this,bi,null);C(this,Ta,null);C(this,Ru,null);C(this,Mu,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});C(this,Tr,[0,0]);C(this,Ws,null);C(this,_i,null);C(this,Nu,null);C(this,es,null);const w=this._signal=l(this,fl).signal;x(this,_i,e),x(this,Nu,t),x(this,pl,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:w}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),r._on("setpreference",this.onSetPreference.bind(this),{signal:w}),r._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:w}),_(this,ee,Zw).call(this),_(this,ee,sx).call(this),_(this,ee,Rm).call(this),x(this,Ai,o.annotationStorage),x(this,ku,o.filterFactory),x(this,Ta,c),x(this,vl,u||null),x(this,Eu,d),x(this,Cu,p),x(this,yl,m),x(this,Lu,v||null),this.viewParameters={realScale:qr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=al.prototype,t=c=>l(c,_i).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Fh([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&l(c,_i).contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&l(c,_i).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}]]))}destroy(){var e,t,s,r;(e=l(this,es))==null||e.resolve(),x(this,es,null),(t=l(this,fl))==null||t.abort(),x(this,fl,null),this._signal=null;for(const o of l(this,Wt).values())o.destroy();l(this,Wt).clear(),l(this,Tt).clear(),l(this,Ca).clear(),x(this,Fn,null),l(this,Ge).clear(),l(this,xs).destroy(),(s=l(this,pl))==null||s.destroy(),(r=l(this,$s))==null||r.hide(),x(this,$s,null),l(this,Vs)&&(clearTimeout(l(this,Vs)),x(this,Vs,null)),l(this,Ws)&&(clearTimeout(l(this,Ws)),x(this,Ws,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Lu)}get useNewAltTextFlow(){return l(this,Cu)}get useNewAltTextWhenAddingImage(){return l(this,yl)}get hcmFilter(){return ze(this,"hcmFilter",l(this,Ta)?l(this,ku).addHCMFilter(l(this,Ta).foreground,l(this,Ta).background):"none")}get direction(){return ze(this,"direction",getComputedStyle(l(this,_i)).direction)}get highlightColors(){return ze(this,"highlightColors",l(this,vl)?new Map(l(this,vl).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return ze(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){x(this,Pu,e)}editAltText(e,t=!1){var s;(s=l(this,pl))==null||s.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":x(this,yl,t);break}}onPageChanging({pageNumber:e}){x(this,ml,e-1)}focusMainContainer(){l(this,_i).focus()}findParent(e,t){for(const s of l(this,Wt).values()){const{x:r,y:o,width:c,height:u}=s.div.getBoundingClientRect();if(e>=r&&e<=r+c&&t>=o&&t<=o+u)return s}return null}disableUserSelect(e=!1){l(this,Nu).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,Ca).add(e)}removeShouldRescale(e){l(this,Ca).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*qr.PDF_TO_CSS_UNITS;for(const t of l(this,Ca))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c}=t,u=t.toString(),p=_(this,ee,of).call(this,t).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;t.empty();const v=_(this,ee,Lm).call(this,p),w=l(this,zt)===Le.NONE,A=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:s,anchorOffset:r,focusNode:o,focusOffset:c,text:u}),w&&this.showAllEditors("highlight",!0,!0)};if(w){this.switchToMode(Le.HIGHLIGHT,A);return}A()}addToAnnotationStorage(e){!e.isEmpty()&&l(this,Ai)&&!l(this,Ai).has(e.id)&&l(this,Ai).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,l(this,Er)&&(x(this,Er,!1),_(this,ee,lf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Ge))if(t.div.contains(e)){x(this,ka,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,ka))return;const[e,t]=l(this,ka);x(this,ka,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){_(this,ee,Rm).call(this),_(this,ee,Mm).call(this)}removeEditListeners(){_(this,ee,nx).call(this),_(this,ee,Nm).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of l(this,As))if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of l(this,As))if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var s;if(e.preventDefault(),(s=l(this,Fn))==null||s.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of l(this,Ge)){const o=r.serialize(!0);o&&t.push(o)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const o of t.items)for(const c of l(this,As))if(c.isHandlingMimeForPasting(o.type)){c.paste(o,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(o){Ne(`paste: "${o.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of s){const p=await r.deserialize(d);if(!p)return;o.push(p)}const c=()=>{for(const d of o)_(this,ee,Im).call(this,d);_(this,ee,Fm).call(this,o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(o){Ne(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,zt)!==Le.NONE&&!this.isEditorHandlingKeyboard&&al._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Er)&&(x(this,Er,!1),_(this,ee,lf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,ee,ex).call(this),_(this,ee,Mm).call(this),_(this,ee,hn).call(this,{isEditing:l(this,zt)!==Le.NONE,isEmpty:_(this,ee,eu).call(this),hasSomethingToUndo:l(this,xs).hasSomethingToUndo(),hasSomethingToRedo:l(this,xs).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,ee,tx).call(this),_(this,ee,Nm).call(this),_(this,ee,hn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,As)){x(this,As,e);for(const t of l(this,As))_(this,ee,vr).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,Wf).id}get currentLayer(){return l(this,Wt).get(l(this,ml))}getLayer(e){return l(this,Wt).get(e)}get currentPageIndex(){return l(this,ml)}addLayer(e){l(this,Wt).set(e.pageIndex,e),l(this,Cr)?e.enable():e.disable()}removeLayer(e){l(this,Wt).delete(e.pageIndex)}async updateMode(e,t=null,s=!1){if(l(this,zt)!==e&&!(l(this,es)&&(await l(this,es).promise,!l(this,es)))){if(x(this,es,Promise.withResolvers()),x(this,zt,e),e===Le.NONE){this.setEditingState(!1),_(this,ee,rx).call(this),l(this,es).resolve();return}this.setEditingState(!0),await _(this,ee,ix).call(this),this.unselectAll();for(const r of l(this,Wt).values())r.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),l(this,es).resolve();return}for(const r of l(this,Tt).values())r.annotationElementId===t?(this.setSelected(r),r.enterInEditMode()):r.unselect();l(this,es).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==l(this,zt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var s;if(l(this,As)){switch(e){case Ce.CREATE:this.currentLayer.addNewEditor();return;case Ce.HIGHLIGHT_DEFAULT_COLOR:(s=l(this,Pu))==null||s.updateColor(t);break;case Ce.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Ru)||x(this,Ru,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const r of l(this,Ge))r.updateParams(e,t);for(const r of l(this,As))r.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){var o;for(const c of l(this,Tt).values())c.editorType===e&&c.show(t);(((o=l(this,Ru))==null?void 0:o.get(Ce.HIGHLIGHT_SHOW_ALL))??!0)!==t&&_(this,ee,vr).call(this,[[Ce.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Tu)!==e){x(this,Tu,e);for(const t of l(this,Wt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const s of l(this,Tt).values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return l(this,Tt).get(e)}addEditor(e){l(this,Tt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(l(this,Vs)&&clearTimeout(l(this,Vs)),x(this,Vs,setTimeout(()=>{this.focusMainContainer(),x(this,Vs,null)},0))),l(this,Tt).delete(e.id),this.unselect(e),(!e.annotationElementId||!l(this,Ea).has(e.annotationElementId))&&((t=l(this,Ai))==null||t.remove(e.id))}addDeletedAnnotationElement(e){l(this,Ea).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Ea).has(e)}removeDeletedAnnotationElement(e){l(this,Ea).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,Fn)!==e&&(x(this,Fn,e),e&&_(this,ee,vr).call(this,e.propertiesToUpdate))}updateUI(e){l(this,ee,ax)===e&&_(this,ee,vr).call(this,e.propertiesToUpdate)}toggleSelected(e){if(l(this,Ge).has(e)){l(this,Ge).delete(e),e.unselect(),_(this,ee,hn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Ge).add(e),e.select(),_(this,ee,vr).call(this,e.propertiesToUpdate),_(this,ee,hn).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of l(this,Ge))t!==e&&t.unselect();l(this,Ge).clear(),l(this,Ge).add(e),e.select(),_(this,ee,vr).call(this,e.propertiesToUpdate),_(this,ee,hn).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Ge).has(e)}get firstSelectedEditor(){return l(this,Ge).values().next().value}unselect(e){e.unselect(),l(this,Ge).delete(e),_(this,ee,hn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Ge).size!==0}get isEnterHandled(){return l(this,Ge).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,xs).undo(),_(this,ee,hn).call(this,{hasSomethingToUndo:l(this,xs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,ee,eu).call(this)})}redo(){l(this,xs).redo(),_(this,ee,hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,xs).hasSomethingToRedo(),isEmpty:_(this,ee,eu).call(this)})}addCommands(e){l(this,xs).add(e),_(this,ee,hn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,ee,eu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...l(this,Ge)],t=()=>{for(const r of e)r.remove()},s=()=>{for(const r of e)_(this,ee,Im).call(this,r)};this.addCommands({cmd:t,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=l(this,Fn))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,Fn)||this.hasSelection}selectAll(){for(const e of l(this,Ge))e.commit();_(this,ee,Fm).call(this,l(this,Tt).values())}unselectAll(){if(!(l(this,Fn)&&(l(this,Fn).commitOrRemove(),l(this,zt)!==Le.NONE))&&this.hasSelection){for(const e of l(this,Ge))e.unselect();l(this,Ge).clear(),_(this,ee,hn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,Tr)[0]+=e,l(this,Tr)[1]+=t;const[r,o]=l(this,Tr),c=[...l(this,Ge)],u=1e3;l(this,Ws)&&clearTimeout(l(this,Ws)),x(this,Ws,setTimeout(()=>{x(this,Ws,null),l(this,Tr)[0]=l(this,Tr)[1]=0,this.addCommands({cmd:()=>{for(const d of c)l(this,Tt).has(d.id)&&d.translateInPage(r,o)},undo:()=>{for(const d of c)l(this,Tt).has(d.id)&&d.translateInPage(-r,-o)},mustExec:!1})},u));for(const d of c)d.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Us,new Map);for(const e of l(this,Ge))l(this,Us).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Us))return!1;this.disableUserSelect(!1);const e=l(this,Us);x(this,Us,null);let t=!1;for(const[{x:r,y:o,pageIndex:c},u]of e)u.newX=r,u.newY=o,u.newPageIndex=c,t||(t=r!==u.savedX||o!==u.savedY||c!==u.savedPageIndex);if(!t)return!1;const s=(r,o,c,u)=>{if(l(this,Tt).has(r.id)){const d=l(this,Wt).get(u);d?r._setParentAndPosition(d,o,c):(r.pageIndex=u,r.x=o,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:c,newPageIndex:u}]of e)s(r,o,c,u)},undo:()=>{for(const[r,{savedX:o,savedY:c,savedPageIndex:u}]of e)s(r,o,c,u)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,Us))for(const s of l(this,Us).keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Ge).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,Fn)===e}getActive(){return l(this,Fn)}getMode(){return l(this,zt)}get imageManager(){return ze(this,"imageManager",new Tm)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let p=0,m=t.rangeCount;p<m;p++)if(!e.contains(t.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:o,height:c}=e.getBoundingClientRect();let u;switch(e.getAttribute("data-main-rotation")){case"90":u=(p,m,v,w)=>({x:(m-r)/c,y:1-(p+v-s)/o,width:w/c,height:v/o});break;case"180":u=(p,m,v,w)=>({x:1-(p+v-s)/o,y:1-(m+w-r)/c,width:v/o,height:w/c});break;case"270":u=(p,m,v,w)=>({x:1-(m+w-r)/c,y:(p-s)/o,width:w/c,height:v/o});break;default:u=(p,m,v,w)=>({x:(p-s)/o,y:(m-r)/c,width:v/o,height:w/c});break}const d=[];for(let p=0,m=t.rangeCount;p<m;p++){const v=t.getRangeAt(p);if(!v.collapsed)for(const{x:w,y:A,width:E,height:k}of v.getClientRects())E===0||k===0||d.push(u(w,A,E,k))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,gl)||x(this,gl,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,gl))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=l(this,gl))==null?void 0:r.get(e.data.id);if(!t)return;const s=l(this,Ai).getRawValue(t);s&&(l(this,zt)===Le.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}};fl=new WeakMap,Fn=new WeakMap,Tt=new WeakMap,Wt=new WeakMap,pl=new WeakMap,Ai=new WeakMap,gl=new WeakMap,xs=new WeakMap,_r=new WeakMap,ml=new WeakMap,Ea=new WeakMap,Us=new WeakMap,As=new WeakMap,Ca=new WeakMap,Eu=new WeakMap,Cu=new WeakMap,yl=new WeakMap,ku=new WeakMap,Vs=new WeakMap,Sr=new WeakMap,vl=new WeakMap,Er=new WeakMap,$s=new WeakMap,Wf=new WeakMap,Cr=new WeakMap,Tu=new WeakMap,kr=new WeakMap,ka=new WeakMap,Pu=new WeakMap,Lu=new WeakMap,zt=new WeakMap,Ge=new WeakMap,bi=new WeakMap,Ta=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,Tr=new WeakMap,Ws=new WeakMap,_i=new WeakMap,Nu=new WeakMap,es=new WeakMap,ee=new WeakSet,of=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Lm=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of l(this,Wt).values())if(s.hasTextLayer(e))return s;return null},Qw=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=_(this,ee,of).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(l(this,$s)||x(this,$s,new gE(this)),l(this,$s).show(s,r,this.direction==="ltr"))},Jw=function(){var o,c,u;const e=document.getSelection();if(!e||e.isCollapsed){l(this,bi)&&((o=l(this,$s))==null||o.hide(),x(this,bi,null),_(this,ee,hn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,bi))return;const r=_(this,ee,of).call(this,e).closest(".textLayer");if(!r){l(this,bi)&&((c=l(this,$s))==null||c.hide(),x(this,bi,null),_(this,ee,hn).call(this,{hasSelectedText:!1}));return}if((u=l(this,$s))==null||u.hide(),x(this,bi,t),_(this,ee,hn).call(this,{hasSelectedText:!0}),!(l(this,zt)!==Le.HIGHLIGHT&&l(this,zt)!==Le.NONE)&&(l(this,zt)===Le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,Er,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=l(this,zt)===Le.HIGHLIGHT?_(this,ee,Lm).call(this,r):null;d==null||d.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),v=w=>{w.type==="pointerup"&&w.button!==0||(p.abort(),d==null||d.toggleDrawing(!0),w.type==="pointerup"&&_(this,ee,lf).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},lf=function(e=""){l(this,zt)===Le.HIGHLIGHT?this.highlightSelection(e):l(this,Eu)&&_(this,ee,Qw).call(this)},Zw=function(){document.addEventListener("selectionchange",_(this,ee,Jw).bind(this),{signal:this._signal})},ex=function(){if(l(this,Sr))return;x(this,Sr,new AbortController);const e=this.combinedSignal(l(this,Sr));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},tx=function(){var e;(e=l(this,Sr))==null||e.abort(),x(this,Sr,null)},Rm=function(){if(l(this,kr))return;x(this,kr,new AbortController);const e=this.combinedSignal(l(this,kr));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},nx=function(){var e;(e=l(this,kr))==null||e.abort(),x(this,kr,null)},Mm=function(){if(l(this,_r))return;x(this,_r,new AbortController);const e=this.combinedSignal(l(this,_r));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Nm=function(){var e;(e=l(this,_r))==null||e.abort(),x(this,_r,null)},sx=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},hn=function(e){Object.entries(e).some(([s,r])=>l(this,Mu)[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Mu),e)}),l(this,zt)===Le.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,ee,vr).call(this,[[Ce.HIGHLIGHT_FREE,!0]]))},vr=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},ix=async function(){if(!l(this,Cr)){x(this,Cr,!0);const e=[];for(const t of l(this,Wt).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,Tt).values())t.enable()}},rx=function(){if(this.unselectAll(),l(this,Cr)){x(this,Cr,!1);for(const e of l(this,Wt).values())e.disable();for(const e of l(this,Tt).values())e.disable()}},Im=function(e){const t=l(this,Wt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ax=function(){let e=null;for(e of l(this,Ge));return e},eu=function(){if(l(this,Tt).size===0)return!0;if(l(this,Tt).size===1)for(const e of l(this,Tt).values())return e.isEmpty();return!1},Fm=function(e){for(const t of l(this,Ge))t.unselect();l(this,Ge).clear();for(const t of e)t.isEmpty()||(l(this,Ge).add(t),t.select());_(this,ee,hn).call(this,{hasSelectedEditor:this.hasSelection})},Ee(al,"TRANSLATE_SMALL",1),Ee(al,"TRANSLATE_BIG",10);let xo=al;var Ht,Gs,bs,wl,Xs,Dn,xl,qs,En,Si,Pa,Ys,Pr,Ms,tu,cf;const dn=class dn{constructor(e){C(this,Ms);C(this,Ht,null);C(this,Gs,!1);C(this,bs,null);C(this,wl,null);C(this,Xs,null);C(this,Dn,null);C(this,xl,!1);C(this,qs,null);C(this,En,null);C(this,Si,null);C(this,Pa,null);C(this,Ys,!1);x(this,En,e),x(this,Ys,e._uiManager.useNewAltTextFlow),l(dn,Pr)||x(dn,Pr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){dn._l10n??(dn._l10n=e)}async render(){const e=x(this,bs,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=x(this,wl,document.createElement("span"));e.append(t),l(this,Ys)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(dn,Pr).missing),t.setAttribute("data-l10n-id",l(dn,Pr)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=l(this,En)._uiManager._signal;e.addEventListener("contextmenu",ls,{signal:s}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:s});const r=o=>{o.preventDefault(),l(this,En)._uiManager.editAltText(l(this,En)),l(this,Ys)&&l(this,En)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Ms,tu)}})};return e.addEventListener("click",r,{capture:!0,signal:s}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(x(this,xl,!0),r(o))},{signal:s}),await _(this,Ms,cf).call(this),e}finish(){l(this,bs)&&(l(this,bs).focus({focusVisible:l(this,xl)}),x(this,xl,!1))}isEmpty(){return l(this,Ys)?l(this,Ht)===null:!l(this,Ht)&&!l(this,Gs)}hasData(){return l(this,Ys)?l(this,Ht)!==null||!!l(this,Si):this.isEmpty()}get guessedText(){return l(this,Si)}async setGuessedText(e){l(this,Ht)===null&&(x(this,Si,e),x(this,Pa,await dn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_(this,Ms,cf).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Ys)||l(this,Ht)){(t=l(this,qs))==null||t.remove(),x(this,qs,null);return}if(!l(this,qs)){const s=x(this,qs,document.createElement("div"));s.className="noAltTextBadge",l(this,En).div.append(s)}l(this,qs).classList.toggle("hidden",!e)}serialize(e){let t=l(this,Ht);return!e&&l(this,Si)===t&&(t=l(this,Pa)),{altText:t,decorative:l(this,Gs),guessedText:l(this,Si),textWithDisclaimer:l(this,Pa)}}get data(){return{altText:l(this,Ht),decorative:l(this,Gs)}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:r,cancel:o=!1}){s&&(x(this,Si,s),x(this,Pa,r)),!(l(this,Ht)===e&&l(this,Gs)===t)&&(o||(x(this,Ht,e),x(this,Gs,t)),_(this,Ms,cf).call(this))}toggle(e=!1){l(this,bs)&&(!e&&l(this,Dn)&&(clearTimeout(l(this,Dn)),x(this,Dn,null)),l(this,bs).disabled=!e)}shown(){l(this,En)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Ms,tu)}})}destroy(){var e,t;(e=l(this,bs))==null||e.remove(),x(this,bs,null),x(this,wl,null),x(this,Xs,null),(t=l(this,qs))==null||t.remove(),x(this,qs,null)}};Ht=new WeakMap,Gs=new WeakMap,bs=new WeakMap,wl=new WeakMap,Xs=new WeakMap,Dn=new WeakMap,xl=new WeakMap,qs=new WeakMap,En=new WeakMap,Si=new WeakMap,Pa=new WeakMap,Ys=new WeakMap,Pr=new WeakMap,Ms=new WeakSet,tu=function(){return l(this,Ht)&&"added"||l(this,Ht)===null&&this.guessedText&&"review"||"missing"},cf=async function(){var r,o,c;const e=l(this,bs);if(!e)return;if(l(this,Ys)){if(e.classList.toggle("done",!!l(this,Ht)),e.setAttribute("data-l10n-id",l(dn,Pr)[l(this,Ms,tu)]),(r=l(this,wl))==null||r.setAttribute("data-l10n-id",l(dn,Pr)[`${l(this,Ms,tu)}-label`]),!l(this,Ht)){(o=l(this,Xs))==null||o.remove();return}}else{if(!l(this,Ht)&&!l(this,Gs)){e.classList.remove("done"),(c=l(this,Xs))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,Xs);if(!t){x(this,Xs,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,En).id}`;const u=100,d=l(this,En)._uiManager._signal;d.addEventListener("abort",()=>{clearTimeout(l(this,Dn)),x(this,Dn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{x(this,Dn,setTimeout(()=>{x(this,Dn,null),l(this,Xs).classList.add("show"),l(this,En)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:d}),e.addEventListener("mouseleave",()=>{var p;l(this,Dn)&&(clearTimeout(l(this,Dn)),x(this,Dn,null)),(p=l(this,Xs))==null||p.classList.remove("show")},{signal:d})}l(this,Gs)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,Ht)),t.parentNode||e.append(t);const s=l(this,En).getImageForAltText();s==null||s.setAttribute("aria-describedby",t.id)},C(dn,Pr,null),Ee(dn,"_l10n",null);let Of=dn;var La,_s,ct,Al,Ra,Gt,Ma,Lr,Iu,Na,Rr,Fu,Ia,Ei,Ks,bl,_l,ts,Du,Gf,Me,Dm,Ou,Om,jm,ox,lx,zm,Hm,Bm,cx,Um,ux,hx,dx,Vm,nu;const $e=class $e{constructor(e){C(this,Me);C(this,La,null);C(this,_s,null);C(this,ct,null);C(this,Al,!1);C(this,Ra,!1);C(this,Gt,null);C(this,Ma,null);C(this,Lr,null);C(this,Iu,"");C(this,Na,!1);C(this,Rr,null);C(this,Fu,!1);C(this,Ia,!1);C(this,Ei,!1);C(this,Ks,null);C(this,bl,0);C(this,_l,0);C(this,ts,null);Ee(this,"_editToolbar",null);Ee(this,"_initialOptions",Object.create(null));Ee(this,"_initialData",null);Ee(this,"_isVisible",!0);Ee(this,"_uiManager",null);Ee(this,"_focusEventsAllowed",!0);C(this,Du,!1);C(this,Gf,$e._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:r,pageX:o,pageY:c}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[o,c];const[u,d]=this.parentDimensions;this.x=e.x/u,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=$e.prototype._resizeWithKeyboard,t=xo.TRANSLATE_SMALL,s=xo.TRANSLATE_BIG;return ze(this,"_resizerKeyboardManager",new Fh([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],$e.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ze(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wE({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if($e._l10n??($e._l10n=e),$e._l10nResizer||($e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$e._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);$e._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Du)}set _isDraggable(e){var t;x(this,Du,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Gf)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,Me,nu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,Na)?x(this,Na,!1):this.parent.setSelected(this))}focusout(e){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,r){const[o,c]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(e+s)/o,this.y=(t+r)/c,this.fixAndSetPosition()}translate(e,t){_(this,Me,Dm).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,Rr)||x(this,Rr,[this.x,this.y]),_(this,Me,Dm).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){l(this,Rr)||x(this,Rr,[this.x,this.y]);const[s,r]=this.parentDimensions;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,d]=this.getBaseTranslation();o+=u,c+=d,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,Rr)&&(l(this,Rr)[0]!==this.x||l(this,Rr)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=$e,r=s/e,o=s/t;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,s]=this.pageDimensions;let{x:r,y:o,width:c,height:u}=this;if(c*=t,u*=s,r*=t,o*=s,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-c,r)),o=Math.max(0,Math.min(s-u,o));break;case 90:r=Math.max(0,Math.min(t-u,r)),o=Math.min(s,Math.max(c,o));break;case 180:r=Math.min(t,Math.max(c,r)),o=Math.min(s,Math.max(u,o));break;case 270:r=Math.min(t,Math.max(u,r)),o=Math.max(0,Math.min(s-c,o));break}this.x=r/=t,this.y=o/=s;const[d,p]=this.getBaseTranslation();r+=d,o+=p;const{style:m}=this.div;m.left=`${(100*r).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var s;return _(s=$e,Ou,Om).call(s,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var s;return _(s=$e,Ou,Om).call(s,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*e/s).toFixed(2)}%`,l(this,Ra)||(this.div.style.height=`${(100*t/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,r=s.endsWith("%"),o=!l(this,Ra)&&t.endsWith("%");if(r&&o)return;const[c,u]=this.parentDimensions;r||(e.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!l(this,Ra)&&!o&&(e.height=`${(100*parseFloat(t)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=l(this,ct))==null||e.finish()}async addEditToolbar(){return this._editToolbar||l(this,Ia)?this._editToolbar:(this._editToolbar=new Cm(this),this.div.append(this._editToolbar.render()),l(this,ct)&&await this._editToolbar.addAltText(l(this,ct)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=l(this,ct))==null||e.destroy())}addContainer(e){var s;const t=(s=this._editToolbar)==null?void 0:s.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,ct)||(Of.initialize($e._l10n),x(this,ct,new Of(this)),l(this,La)&&(l(this,ct).data=l(this,La),x(this,La,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=l(this,ct))==null?void 0:e.data}set altTextData(e){l(this,ct)&&(l(this,ct).data=e)}get guessedAltText(){var e;return(e=l(this,ct))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,ct))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,ct))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,ct)&&!l(this,ct).isEmpty()}hasAltTextData(){var e;return((e=l(this,ct))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,Al)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,Me,Um).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),Df(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=pn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(x(this,Na,!0),this._isDraggable){_(this,Me,cx).call(this,e);return}_(this,Me,Bm).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){l(this,Ks)&&clearTimeout(l(this,Ks)),x(this,Ks,setTimeout(()=>{var e;x(this,Ks,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition()}getRect(e,t,s=this.rotation){const r=this.parentScale,[o,c]=this.pageDimensions,[u,d]=this.pageTranslation,p=e/r,m=t/r,v=this.x*o,w=this.y*c,A=this.width*o,E=this.height*c;switch(s){case 0:return[v+p+u,c-w-m-E+d,v+p+A+u,c-w-m+d];case 90:return[v+m+u,c-w+p+d,v+m+E+u,c-w+p+A+d];case 180:return[v-p-A+u,c-w+m+d,v-p+u,c-w+m+E+d];case 270:return[v-m-E+u,c-w-p-A+d,v-m+u,c-w-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,r,o,c]=e,u=o-s,d=c-r;switch(this.rotation){case 0:return[s,t-c,u,d];case 90:return[s,t-r,d,u];case 180:return[o,t-r,u,d];case 270:return[o,t-c,d,u];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){x(this,Ia,!0)}disableEditMode(){x(this,Ia,!1)}isInEditMode(){return l(this,Ia)}shouldGetKeyboardEvents(){return l(this,Ei)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_(this,Me,Um).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){nt("An editor must be serializable")}static async deserialize(e,t,s){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s});r.rotation=e.rotation,x(r,La,e.accessibilityData);const[o,c]=r.pageDimensions,[u,d,p,m]=r.getRectInCurrentCoords(e.rect,c);return r.x=u/o,r.y=d/c,r.width=p/o,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=l(this,Lr))==null||e.abort(),x(this,Lr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Ks)&&(clearTimeout(l(this,Ks)),x(this,Ks,null)),_(this,Me,nu).call(this),this.removeEditToolbar(),l(this,ts)){for(const t of l(this,ts).values())clearTimeout(t);x(this,ts,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,Me,ox).call(this),l(this,Gt).classList.remove("hidden"),Df(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),x(this,Ma,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Gt).children;if(!l(this,_s)){x(this,_s,Array.from(t));const c=_(this,Me,ux).bind(this),u=_(this,Me,hx).bind(this),d=this._uiManager._signal;for(const p of l(this,_s)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:d}),p.addEventListener("blur",u,{signal:d}),p.addEventListener("focus",_(this,Me,dx).bind(this,m),{signal:d}),p.setAttribute("data-l10n-id",$e._l10nResizer[m])}}const s=l(this,_s)[0];let r=0;for(const c of t){if(c===s)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(l(this,_s).length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)l(this,Gt).append(l(this,Gt).firstChild);else if(o>r)for(let u=0;u<o-r;u++)l(this,Gt).firstChild.before(l(this,Gt).lastChild);let c=0;for(const u of t){const p=l(this,_s)[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",$e._l10nResizer[p])}}_(this,Me,Vm).call(this,0),x(this,Ei,!0),l(this,Gt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Ei)&&_(this,Me,Hm).call(this,l(this,Iu),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){_(this,Me,nu).call(this),this.div.focus()}select(){var e,t,s;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(t=this._editToolbar)==null||t.show(),(s=l(this,ct))==null||s.toggleAltTextBadge(!1)}unselect(){var e,t,s,r,o;(e=l(this,Gt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=l(this,ct))==null||o.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,Fu)}set isEditing(e){x(this,Fu,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){x(this,Ra,!0);const s=e/t,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,ts)||x(this,ts,new Map);const{action:s}=e;let r=l(this,ts).get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),l(this,ts).delete(s),l(this,ts).size===0&&x(this,ts,null)},$e._telemetryTimeout),l(this,ts).set(s,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),x(this,Al,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Al,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};La=new WeakMap,_s=new WeakMap,ct=new WeakMap,Al=new WeakMap,Ra=new WeakMap,Gt=new WeakMap,Ma=new WeakMap,Lr=new WeakMap,Iu=new WeakMap,Na=new WeakMap,Rr=new WeakMap,Fu=new WeakMap,Ia=new WeakMap,Ei=new WeakMap,Ks=new WeakMap,bl=new WeakMap,_l=new WeakMap,ts=new WeakMap,Du=new WeakMap,Gf=new WeakMap,Me=new WeakSet,Dm=function([e,t],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/e,this.y+=r/t,this.fixAndSetPosition()},Ou=new WeakSet,Om=function(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},jm=function(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}},ox=function(){if(l(this,Gt))return;x(this,Gt,document.createElement("div")),l(this,Gt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const r=document.createElement("div");l(this,Gt).append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",_(this,Me,lx).bind(this,s),{signal:t}),r.addEventListener("contextmenu",ls,{signal:t}),r.tabIndex=-1}this.div.prepend(l(this,Gt))},lx=function(e,t){var E;t.preventDefault();const{isMac:s}=pn.platform;if(t.button!==0||t.ctrlKey&&s)return;(E=l(this,ct))==null||E.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const o=new AbortController,c=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,Me,Hm).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",ls,{signal:c});const u=this.x,d=this.y,p=this.width,m=this.height,v=this.parent.div.style.cursor,w=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const A=()=>{var k;o.abort(),this.parent.togglePointerEvents(!0),(k=l(this,ct))==null||k.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=w,_(this,Me,zm).call(this,u,d,p,m)};window.addEventListener("pointerup",A,{signal:c}),window.addEventListener("blur",A,{signal:c})},zm=function(e,t,s,r){const o=this.x,c=this.y,u=this.width,d=this.height;o===e&&c===t&&u===s&&d===r||this.addCommands({cmd:()=>{this.width=u,this.height=d,this.x=o,this.y=c;const[p,m]=this.parentDimensions;this.setDims(p*u,m*d),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=e,this.y=t;const[p,m]=this.parentDimensions;this.setDims(p*s,m*r),this.fixAndSetPosition()},mustExec:!0})},Hm=function(e,t){const[s,r]=this.parentDimensions,o=this.x,c=this.y,u=this.width,d=this.height,p=$e.MIN_SIZE/s,m=$e.MIN_SIZE/r,v=K=>Math.round(K*1e4)/1e4,w=_(this,Me,jm).call(this,this.rotation),A=(K,U)=>[w[0]*K+w[2]*U,w[1]*K+w[3]*U],E=_(this,Me,jm).call(this,360-this.rotation),k=(K,U)=>[E[0]*K+E[2]*U,E[1]*K+E[3]*U];let L,T,I=!1,D=!1;switch(e){case"topLeft":I=!0,L=(K,U)=>[0,0],T=(K,U)=>[K,U];break;case"topMiddle":L=(K,U)=>[K/2,0],T=(K,U)=>[K/2,U];break;case"topRight":I=!0,L=(K,U)=>[K,0],T=(K,U)=>[0,U];break;case"middleRight":D=!0,L=(K,U)=>[K,U/2],T=(K,U)=>[0,U/2];break;case"bottomRight":I=!0,L=(K,U)=>[K,U],T=(K,U)=>[0,0];break;case"bottomMiddle":L=(K,U)=>[K/2,U],T=(K,U)=>[K/2,0];break;case"bottomLeft":I=!0,L=(K,U)=>[0,U],T=(K,U)=>[K,0];break;case"middleLeft":D=!0,L=(K,U)=>[0,U/2],T=(K,U)=>[K,U/2];break}const F=L(u,d),B=T(u,d);let H=A(...B);const $=v(o+H[0]),W=v(c+H[1]);let Q=1,ne=1,[te,_e]=this.screenToPageTranslation(t.movementX,t.movementY);if([te,_e]=k(te/s,_e/r),I){const K=Math.hypot(u,d);Q=ne=Math.max(Math.min(Math.hypot(B[0]-F[0]-te,B[1]-F[1]-_e)/K,1/u,1/d),p/u,m/d)}else D?Q=Math.max(p,Math.min(1,Math.abs(B[0]-F[0]-te)))/u:ne=Math.max(m,Math.min(1,Math.abs(B[1]-F[1]-_e)))/d;const fe=v(u*Q),he=v(d*ne);H=A(...T(fe,he));const we=$-H[0],ge=W-H[1];this.width=fe,this.height=he,this.x=we,this.y=ge,this.setDims(s*fe,r*he),this.fixAndSetPosition()},Bm=function(e){const{isMac:t}=pn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},cx=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(t){this.div.classList.add("moving"),x(this,bl,e.clientX),x(this,_l,e.clientY);const c=u=>{const{clientX:d,clientY:p}=u,[m,v]=this.screenToPageTranslation(d-l(this,bl),p-l(this,_l));x(this,bl,d),x(this,_l,p),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const o=()=>{s.abort(),t&&this.div.classList.remove("moving"),x(this,Na,!1),this._uiManager.endDragSession()||_(this,Me,Bm).call(this,e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},Um=function(){if(l(this,Lr)||!this.div)return;x(this,Lr,new AbortController);const e=this._uiManager.combinedSignal(l(this,Lr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},ux=function(e){$e._resizerKeyboardManager.exec(this,e)},hx=function(e){var t;l(this,Ei)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Gt)&&_(this,Me,nu).call(this)},dx=function(e){x(this,Iu,l(this,Ei)?e:"")},Vm=function(e){if(l(this,_s))for(const t of l(this,_s))t.tabIndex=e},nu=function(){if(x(this,Ei,!1),_(this,Me,Vm).call(this,-1),l(this,Ma)){const{savedX:e,savedY:t,savedWidth:s,savedHeight:r}=l(this,Ma);_(this,Me,zm).call(this,e,t,s,r),x(this,Ma,null)}},C($e,Ou),Ee($e,"_l10n",null),Ee($e,"_l10nResizer",null),Ee($e,"_borderLineWidth",-1),Ee($e,"_colorManager",new Pm),Ee($e,"_zIndex",1),Ee($e,"_telemetryTimeout",1e3);let qe=$e;class wE extends qe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aw=3285377520,Zn=4294901760,Bs=65535;class fx{constructor(e){this.h1=e?e&4294967295:aw,this.h2=e?e&4294967295:aw}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let k=0,L=e.length;k<L;k++){const T=e.charCodeAt(k);T<=255?t[s++]=T:(t[s++]=T>>>8,t[s++]=T&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,o=s-r*4,c=new Uint32Array(t.buffer,0,r);let u=0,d=0,p=this.h1,m=this.h2;const v=3432918353,w=461845907,A=v&Bs,E=w&Bs;for(let k=0;k<r;k++)k&1?(u=c[k],u=u*v&Zn|u*A&Bs,u=u<<15|u>>>17,u=u*w&Zn|u*E&Bs,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(d=c[k],d=d*v&Zn|d*A&Bs,d=d<<15|d>>>17,d=d*w&Zn|d*E&Bs,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,o){case 3:u^=t[r*4+2]<<16;case 2:u^=t[r*4+1]<<8;case 1:u^=t[r*4],u=u*v&Zn|u*A&Bs,u=u<<15|u>>>17,u=u*w&Zn|u*E&Bs,r&1?p^=u:m^=u}this.h1=p,this.h2=m}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Zn|e*36045&Bs,t=t*4283543511&Zn|((t<<16|e>>>16)*2950163797&Zn)>>>16,e^=t>>>1,e=e*444984403&Zn|e*60499&Bs,t=t*3301882366&Zn|((t<<16|e>>>16)*3120437893&Zn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const $m=Object.freeze({map:null,hash:"",transfer:void 0});var Fa,Da,Bt,Xf,px;class q0{constructor(){C(this,Xf);C(this,Fa,!1);C(this,Da,null);C(this,Bt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=l(this,Bt).get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return l(this,Bt).get(e)}remove(e){if(l(this,Bt).delete(e),l(this,Bt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of l(this,Bt).values())if(t instanceof qe)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=l(this,Bt).get(e);let r=!1;if(s!==void 0)for(const[o,c]of Object.entries(t))s[o]!==c&&(r=!0,s[o]=c);else r=!0,l(this,Bt).set(e,t);r&&_(this,Xf,px).call(this),t instanceof qe&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return l(this,Bt).has(e)}getAll(){return l(this,Bt).size>0?U0(l(this,Bt)):null}setAll(e){for(const[t,s]of Object.entries(e))this.setValue(t,s)}get size(){return l(this,Bt).size}resetModified(){l(this,Fa)&&(x(this,Fa,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new gx(this)}get serializable(){if(l(this,Bt).size===0)return $m;const e=new Map,t=new fx,s=[],r=Object.create(null);let o=!1;for(const[c,u]of l(this,Bt)){const d=u instanceof qe?u.serialize(!1,r):u;d&&(e.set(c,d),t.update(`${c}:${JSON.stringify(d)}`),o||(o=!!d.bitmap))}if(o)for(const c of e.values())c.bitmap&&s.push(c.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:$m}get editorStats(){let e=null;const t=new Map;for(const s of l(this,Bt).values()){if(!(s instanceof qe))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:o}=r;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const c=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(r)){if(u==="type")continue;let p=c.get(u);p||(p=new Map,c.set(u,p));const m=p.get(d)??0;p.set(d,m+1)}}for(const[s,r]of t)e[s]=r.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){x(this,Da,null)}get modifiedIds(){if(l(this,Da))return l(this,Da);const e=[];for(const t of l(this,Bt).values())!(t instanceof qe)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return x(this,Da,{ids:new Set(e),hash:e.join(",")})}}Fa=new WeakMap,Da=new WeakMap,Bt=new WeakMap,Xf=new WeakSet,px=function(){l(this,Fa)||(x(this,Fa,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var ju;class gx extends q0{constructor(t){super();C(this,ju);const{map:s,hash:r,transfer:o}=t.serializable,c=structuredClone(s,o?{transfer:o}:null);x(this,ju,{map:c,hash:r,transfer:o})}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,ju)}get modifiedIds(){return ze(this,"modifiedIds",{ids:new Set,hash:""})}}ju=new WeakMap;var Sl;class xE{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){C(this,Sl,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,Sl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||l(this,Sl).has(e.loadedName))){if(Rt(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:o}=e,c=new FontFace(s,r,o);this.addNativeFontFace(c);try{await c.load(),l(this,Sl).add(s),t==null||t(e)}catch{Ne(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ne(`Failed to load font '${s.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return ze(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(on||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ze(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Rt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const o=s.shift();setTimeout(o.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:t,callback:e};return s.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ze(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(F,B){return F.charCodeAt(B)<<24|F.charCodeAt(B+1)<<16|F.charCodeAt(B+2)<<8|F.charCodeAt(B+3)&255}function r(F,B,H,$){const W=F.substring(0,B),Q=F.substring(B+H);return W+$+Q}let o,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let p=0;function m(F,B){if(++p>30){Ne("Load test font never loaded."),B();return}if(d.font="30px "+F,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){B();return}setTimeout(m.bind(null,F,B))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let w=this._loadTestFont;w=r(w,976,v.length,v);const E=16,k=1482184792;let L=s(w,E);for(o=0,c=v.length-3;o<c;o+=4)L=L-k+s(v,o)|0;o<v.length&&(L=L-k+s(v+"XXX",o)|0),w=r(w,E,4,iE(L));const T=`url(data:font/opentype;base64,${btoa(w)});`,I=`@font-face {font-family:"${v}";src:${T}}`;this.insertRule(I);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const F of[e.loadedName,v]){const B=this._document.createElement("span");B.textContent="Hi",B.style.fontFamily=F,D.append(B)}this._document.body.append(D),m(v,()=>{D.remove(),t.complete()})}}Sl=new WeakMap;class AE{constructor(e,{disableFontFace:t=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=t===!0,this._inspectFont=s}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${uE(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(s=this._inspectFont)==null||s.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(o){Ne(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[t]=function(o,c){};const r=[];for(let o=0,c=s.length;o<c;)switch(s[o++]){case mi.BEZIER_CURVE_TO:{const[u,d,p,m,v,w]=s.slice(o,o+6);r.push(A=>A.bezierCurveTo(u,d,p,m,v,w)),o+=6}break;case mi.MOVE_TO:{const[u,d]=s.slice(o,o+2);r.push(p=>p.moveTo(u,d)),o+=2}break;case mi.LINE_TO:{const[u,d]=s.slice(o,o+2);r.push(p=>p.lineTo(u,d)),o+=2}break;case mi.QUADRATIC_CURVE_TO:{const[u,d,p,m]=s.slice(o,o+4);r.push(v=>v.quadraticCurveTo(u,d,p,m)),o+=4}break;case mi.RESTORE:r.push(u=>u.restore());break;case mi.SAVE:r.push(u=>u.save());break;case mi.SCALE:Rt(r.length===2,"Scale command is only valid at the third position.");break;case mi.TRANSFORM:{const[u,d,p,m,v,w]=s.slice(o,o+6);r.push(A=>A.transform(u,d,p,m,v,w)),o+=6}break;case mi.TRANSLATE:{const[u,d]=s.slice(o,o+2);r.push(p=>p.translate(u,d)),o+=2}break}return this.compiledGlyphs[t]=function(c,u){r[0](c),r[1](c),c.scale(u,-u);for(let d=2,p=r.length;d<p;d++)r[d](c)}}}var zu;class mx{constructor({enableHWA:e=!1}){C(this,zu,!1);x(this,zu,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,zu)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}}zu=new WeakMap;class bE extends mx{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class yx{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class vx extends yx{async _fetch(e){const t=await up(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):cp(t)}}class wx{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,r,o){return"none"}destroy(e=!1){}}var Oa,ja,Qs,Ci,nn,qf,za,ie,en,Jo,Zo,uf,el,xx,Wm,tl,su,iu,Gm,ru;class _E extends wx{constructor({docId:t,ownerDocument:s=globalThis.document}){super();C(this,ie);C(this,Oa);C(this,ja);C(this,Qs);C(this,Ci);C(this,nn);C(this,qf);C(this,za,0);x(this,Ci,t),x(this,nn,s)}addFilter(t){if(!t)return"none";let s=l(this,ie,en).get(t);if(s)return s;const[r,o,c]=_(this,ie,uf).call(this,t),u=t.length===1?r:`${r}${o}${c}`;if(s=l(this,ie,en).get(u),s)return l(this,ie,en).set(t,s),s;const d=`g_${l(this,Ci)}_transfer_map_${un(this,za)._++}`,p=_(this,ie,el).call(this,d);l(this,ie,en).set(t,p),l(this,ie,en).set(u,p);const m=_(this,ie,tl).call(this,d);return _(this,ie,iu).call(this,r,o,c,m),p}addHCMFilter(t,s){var E;const r=`${t}-${s}`,o="base";let c=l(this,ie,Jo).get(o);if((c==null?void 0:c.key)===r||(c?((E=c.filter)==null||E.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},l(this,ie,Jo).set(o,c)),!t||!s))return c.url;const u=_(this,ie,ru).call(this,t);t=pe.makeHexColor(...u);const d=_(this,ie,ru).call(this,s);if(s=pe.makeHexColor(...d),l(this,ie,Zo).style.color="",t==="#000000"&&s==="#ffffff"||t===s)return c.url;const p=new Array(256);for(let k=0;k<=255;k++){const L=k/255;p[k]=L<=.03928?L/12.92:((L+.055)/1.055)**2.4}const m=p.join(","),v=`g_${l(this,Ci)}_hcm_filter`,w=c.filter=_(this,ie,tl).call(this,v);_(this,ie,iu).call(this,m,m,m,w),_(this,ie,Wm).call(this,w);const A=(k,L)=>{const T=u[k]/255,I=d[k]/255,D=new Array(L+1);for(let F=0;F<=L;F++)D[F]=T+F/L*(I-T);return D.join(",")};return _(this,ie,iu).call(this,A(0,5),A(1,5),A(2,5),w),c.url=_(this,ie,el).call(this,v),c.url}addAlphaFilter(t){let s=l(this,ie,en).get(t);if(s)return s;const[r]=_(this,ie,uf).call(this,[t]),o=`alpha_${r}`;if(s=l(this,ie,en).get(o),s)return l(this,ie,en).set(t,s),s;const c=`g_${l(this,Ci)}_alpha_map_${un(this,za)._++}`,u=_(this,ie,el).call(this,c);l(this,ie,en).set(t,u),l(this,ie,en).set(o,u);const d=_(this,ie,tl).call(this,c);return _(this,ie,Gm).call(this,r,d),u}addLuminosityFilter(t){let s=l(this,ie,en).get(t||"luminosity");if(s)return s;let r,o;if(t?([r]=_(this,ie,uf).call(this,[t]),o=`luminosity_${r}`):o="luminosity",s=l(this,ie,en).get(o),s)return l(this,ie,en).set(t,s),s;const c=`g_${l(this,Ci)}_luminosity_map_${un(this,za)._++}`,u=_(this,ie,el).call(this,c);l(this,ie,en).set(t,u),l(this,ie,en).set(o,u);const d=_(this,ie,tl).call(this,c);return _(this,ie,xx).call(this,d),t&&_(this,ie,Gm).call(this,r,d),u}addHighlightHCMFilter(t,s,r,o,c){var I;const u=`${s}-${r}-${o}-${c}`;let d=l(this,ie,Jo).get(t);if((d==null?void 0:d.key)===u||(d?((I=d.filter)==null||I.remove(),d.key=u,d.url="none",d.filter=null):(d={key:u,url:"none",filter:null},l(this,ie,Jo).set(t,d)),!s||!r))return d.url;const[p,m]=[s,r].map(_(this,ie,ru).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),w=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,E]=[o,c].map(_(this,ie,ru).bind(this));w<v&&([v,w,A,E]=[w,v,E,A]),l(this,ie,Zo).style.color="";const k=(D,F,B)=>{const H=new Array(256),$=(w-v)/B,W=D/255,Q=(F-D)/(255*B);let ne=0;for(let te=0;te<=B;te++){const _e=Math.round(v+te*$),fe=W+te*Q;for(let he=ne;he<=_e;he++)H[he]=fe;ne=_e+1}for(let te=ne;te<256;te++)H[te]=H[ne-1];return H.join(",")},L=`g_${l(this,Ci)}_hcm_${t}_filter`,T=d.filter=_(this,ie,tl).call(this,L);return _(this,ie,Wm).call(this,T),_(this,ie,iu).call(this,k(A[0],E[0],5),k(A[1],E[1],5),k(A[2],E[2],5),T),d.url=_(this,ie,el).call(this,L),d.url}destroy(t=!1){t&&l(this,ie,Jo).size!==0||(l(this,Qs)&&(l(this,Qs).parentNode.parentNode.remove(),x(this,Qs,null)),l(this,ja)&&(l(this,ja).clear(),x(this,ja,null)),x(this,za,0))}}Oa=new WeakMap,ja=new WeakMap,Qs=new WeakMap,Ci=new WeakMap,nn=new WeakMap,qf=new WeakMap,za=new WeakMap,ie=new WeakSet,en=function(){return l(this,ja)||x(this,ja,new Map)},Jo=function(){return l(this,qf)||x(this,qf,new Map)},Zo=function(){if(!l(this,Qs)){const t=l(this,nn).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const r=l(this,nn).createElementNS(vi,"svg");r.setAttribute("width",0),r.setAttribute("height",0),x(this,Qs,l(this,nn).createElementNS(vi,"defs")),t.append(r),r.append(l(this,Qs)),l(this,nn).body.append(t)}return l(this,Qs)},uf=function(t){if(t.length===1){const p=t[0],m=new Array(256);for(let w=0;w<256;w++)m[w]=p[w]/255;const v=m.join(",");return[v,v,v]}const[s,r,o]=t,c=new Array(256),u=new Array(256),d=new Array(256);for(let p=0;p<256;p++)c[p]=s[p]/255,u[p]=r[p]/255,d[p]=o[p]/255;return[c.join(","),u.join(","),d.join(",")]},el=function(t){if(l(this,Oa)===void 0){x(this,Oa,"");const s=l(this,nn).URL;s!==l(this,nn).baseURI&&(hp(s)?Ne('#createUrl: ignore "data:"-URL for performance reasons.'):x(this,Oa,s.split("#",1)[0]))}return`url(${l(this,Oa)}#${t})`},xx=function(t){const s=l(this,nn).createElementNS(vi,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)},Wm=function(t){const s=l(this,nn).createElementNS(vi,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)},tl=function(t){const s=l(this,nn).createElementNS(vi,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),l(this,ie,Zo).append(s),s},su=function(t,s,r){const o=l(this,nn).createElementNS(vi,s);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),t.append(o)},iu=function(t,s,r,o){const c=l(this,nn).createElementNS(vi,"feComponentTransfer");o.append(c),_(this,ie,su).call(this,c,"feFuncR",t),_(this,ie,su).call(this,c,"feFuncG",s),_(this,ie,su).call(this,c,"feFuncB",r)},Gm=function(t,s){const r=l(this,nn).createElementNS(vi,"feComponentTransfer");s.append(r),_(this,ie,su).call(this,r,"feFuncA",t)},ru=function(t){return l(this,ie,Zo).style.color=t,X0(getComputedStyle(l(this,ie,Zo)).getPropertyValue("color"))};class Ax{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class bx extends Ax{async _fetch(e){const t=await up(e,"arraybuffer");return new Uint8Array(t)}}if(on){var Xm=Promise.withResolvers(),mu=null;(async()=>{const e=await Kd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Kd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Kd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Kd(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,c;return new Map(Object.entries({fs:e,http:t,https:s,url:r,canvas:o,path2d:c}))})().then(e=>{mu=e,Xm.resolve()},e=>{Ne(`loadPackages: ${e}`),mu=new Map,Xm.resolve()})}class Yr{static get promise(){return Xm.promise}static get(e){return mu==null?void 0:mu.get(e)}}async function _x(f){const t=await Yr.get("fs").promises.readFile(f);return new Uint8Array(t)}class SE extends wx{}class EE extends mx{_createCanvas(e,t){return Yr.get("canvas").createCanvas(e,t)}}class CE extends yx{async _fetch(e){return _x(e)}}class kE extends Ax{async _fetch(e){return _x(e)}}const fn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qm(f,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,s),f.clip(r)}class Y0{getPattern(){nt("Abstract method `getPattern` called.")}}class TE extends Y0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,r){let o;if(r===fn.STROKE||r===fn.FILL){const c=t.current.getClippedPathBoundingBox(r,ht(e))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,d=Math.ceil(c[3]-c[1])||1,p=t.cachedCanvases.getCanvas("pattern",u,d),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),s=pe.transform(s,[1,0,0,1,c[0],c[1]]),m.transform(...t.baseTransform),this.matrix&&m.transform(...this.matrix),qm(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=e.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(s);o.setTransform(v)}else qm(e,this._bbox),o=this._createGradient(e);return o}}function mm(f,e,t,s,r,o,c,u){const d=e.coords,p=e.colors,m=f.data,v=f.width*4;let w;d[t+1]>d[s+1]&&(w=t,t=s,s=w,w=o,o=c,c=w),d[s+1]>d[r+1]&&(w=s,s=r,r=w,w=c,c=u,u=w),d[t+1]>d[s+1]&&(w=t,t=s,s=w,w=o,o=c,c=w);const A=(d[t]+e.offsetX)*e.scaleX,E=(d[t+1]+e.offsetY)*e.scaleY,k=(d[s]+e.offsetX)*e.scaleX,L=(d[s+1]+e.offsetY)*e.scaleY,T=(d[r]+e.offsetX)*e.scaleX,I=(d[r+1]+e.offsetY)*e.scaleY;if(E>=I)return;const D=p[o],F=p[o+1],B=p[o+2],H=p[c],$=p[c+1],W=p[c+2],Q=p[u],ne=p[u+1],te=p[u+2],_e=Math.round(E),fe=Math.round(I);let he,we,ge,K,U,re,J,N;for(let V=_e;V<=fe;V++){if(V<L){const me=V<E?0:(E-V)/(E-L);he=A-(A-k)*me,we=D-(D-H)*me,ge=F-(F-$)*me,K=B-(B-W)*me}else{let me;V>I?me=1:L===I?me=0:me=(L-V)/(L-I),he=k-(k-T)*me,we=H-(H-Q)*me,ge=$-($-ne)*me,K=W-(W-te)*me}let oe;V<E?oe=0:V>I?oe=1:oe=(E-V)/(E-I),U=A-(A-T)*oe,re=D-(D-Q)*oe,J=F-(F-ne)*oe,N=B-(B-te)*oe;const xe=Math.round(Math.min(he,U)),ke=Math.round(Math.max(he,U));let ye=v*V+xe*4;for(let me=xe;me<=ke;me++)oe=(he-me)/(he-U),oe<0?oe=0:oe>1&&(oe=1),m[ye++]=we-(we-re)*oe|0,m[ye++]=ge-(ge-J)*oe|0,m[ye++]=K-(K-N)*oe|0,m[ye++]=255}}function PE(f,e,t){const s=e.coords,r=e.colors;let o,c;switch(e.type){case"lattice":const u=e.verticesPerRow,d=Math.floor(s.length/u)-1,p=u-1;for(o=0;o<d;o++){let m=o*u;for(let v=0;v<p;v++,m++)mm(f,t,s[m],s[m+1],s[m+u],r[m],r[m+1],r[m+u]),mm(f,t,s[m+u+1],s[m+1],s[m+u],r[m+u+1],r[m+1],r[m+u])}break;case"triangles":for(o=0,c=s.length;o<c;o+=3)mm(f,t,s[o],s[o+1],s[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class LE extends Y0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,s){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(m*e[1]*1.1)),3e3),A=p/v,E=m/w,k={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/A,scaleY:1/E},L=v+2*2,T=w+2*2,I=s.getCanvas("mesh",L,T),D=I.context,F=D.createImageData(v,w);if(t){const H=F.data;for(let $=0,W=H.length;$<W;$+=4)H[$]=t[0],H[$+1]=t[1],H[$+2]=t[2],H[$+3]=255}for(const H of this._figures)PE(F,H,k);return D.putImageData(F,2,2),{canvas:I.canvas,offsetX:u-2*A,offsetY:d-2*E,scaleX:A,scaleY:E}}getPattern(e,t,s,r){qm(e,this._bbox);let o;if(r===fn.SHADING)o=pe.singularValueDecompose2dScale(ht(e));else if(o=pe.singularValueDecompose2dScale(t.baseTransform),this.matrix){const u=pe.singularValueDecompose2dScale(this.matrix);o=[o[0]*u[0],o[1]*u[1]]}const c=this._createMeshCanvas(o,r===fn.SHADING?null:this._background,t.cachedCanvases);return r!==fn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class RE extends Y0{getPattern(){return"hotpink"}}function ME(f){switch(f[0]){case"RadialAxial":return new TE(f);case"Mesh":return new LE(f);case"Dummy":return new RE}throw new Error(`Unknown IR type: ${f[0]}`)}const ow={COLORED:1,UNCOLORED:2},Yf=class Yf{constructor(e,t,s,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),op("TilingType: "+o);const m=t[0],v=t[1],w=t[2],A=t[3],E=w-m,k=A-v,L=pe.singularValueDecompose2dScale(this.matrix),T=pe.singularValueDecompose2dScale(this.baseTransform),I=L[0]*T[0],D=L[1]*T[1];let F=E,B=k,H=!1,$=!1;const W=Math.ceil(d*I),Q=Math.ceil(p*D),ne=Math.ceil(E*I),te=Math.ceil(k*D);W>=ne?F=d:H=!0,Q>=te?B=p:$=!0;const _e=this.getSizeAndScale(F,this.ctx.canvas.width,I),fe=this.getSizeAndScale(B,this.ctx.canvas.height,D),he=e.cachedCanvases.getCanvas("pattern",_e.size,fe.size),we=he.context,ge=u.createCanvasGraphics(we);if(ge.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ge,r,c),we.translate(-_e.scale*m,-fe.scale*v),ge.transform(_e.scale,0,0,fe.scale,0,0),we.save(),this.clipBbox(ge,m,v,w,A),ge.baseTransform=ht(ge.ctx),ge.executeOperatorList(s),ge.endDrawing(),we.restore(),H||$){const K=he.canvas;H&&(F=d),$&&(B=p);const U=this.getSizeAndScale(F,this.ctx.canvas.width,I),re=this.getSizeAndScale(B,this.ctx.canvas.height,D),J=U.size,N=re.size,V=e.cachedCanvases.getCanvas("pattern-workaround",J,N),oe=V.context,xe=H?Math.floor(E/d):0,ke=$?Math.floor(k/p):0;for(let ye=0;ye<=xe;ye++)for(let me=0;me<=ke;me++)oe.drawImage(K,J*ye,N*me,J,N,0,0,J,N);return{canvas:V.canvas,scaleX:U.scale,scaleY:re.scale,offsetX:m,offsetY:v}}return{canvas:he.canvas,scaleX:_e.scale,scaleY:fe.scale,offsetX:m,offsetY:v}}getSizeAndScale(e,t,s){const r=Math.max(Yf.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*s);return o>=r?o=r:s=o/e,{scale:s,size:o}}clipBbox(e,t,s,r,o){const c=r-t,u=o-s;e.ctx.rect(t,s,c,u),e.current.updateRectMinMax(ht(e.ctx),[t,s,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const r=e.ctx,o=e.current;switch(t){case ow.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,o.fillColor=c.fillStyle,o.strokeColor=c.strokeStyle;break;case ow.UNCOLORED:const u=pe.makeHexColor(s[0],s[1],s[2]);r.fillStyle=u,r.strokeStyle=u,o.fillColor=u,o.strokeColor=u;break;default:throw new sE(`Unsupported paint type: ${t}`)}}getPattern(e,t,s,r){let o=s;r!==fn.SHADING&&(o=pe.transform(o,t.baseTransform),this.matrix&&(o=pe.transform(o,this.matrix)));const c=this.createPatternCanvas(t);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const d=e.createPattern(c.canvas,"repeat");return d.setTransform(u),d}};Ee(Yf,"MAX_PATTERN_SIZE",3e3);let Ym=Yf;function NE({src:f,srcPos:e=0,dest:t,width:s,height:r,nonBlackColor:o=4294967295,inverseDecode:c=!1}){const u=pn.isLittleEndian?4278190080:255,[d,p]=c?[o,u]:[u,o],m=s>>3,v=s&7,w=f.length;t=new Uint32Array(t.buffer);let A=0;for(let E=0;E<r;E++){for(const L=e+m;e<L;e++){const T=e<w?f[e]:255;t[A++]=T&128?p:d,t[A++]=T&64?p:d,t[A++]=T&32?p:d,t[A++]=T&16?p:d,t[A++]=T&8?p:d,t[A++]=T&4?p:d,t[A++]=T&2?p:d,t[A++]=T&1?p:d}if(v===0)continue;const k=e<w?f[e++]:255;for(let L=0;L<v;L++)t[A++]=k&1<<7-L?p:d}return{srcPos:e,destPos:A}}const lw=16,cw=100,IE=15,uw=10,hw=1e3,Tn=16;function FE(f,e){if(f._removeMirroring)throw new Error("Context is already forwarding operations.");f.__originalSave=f.save,f.__originalRestore=f.restore,f.__originalRotate=f.rotate,f.__originalScale=f.scale,f.__originalTranslate=f.translate,f.__originalTransform=f.transform,f.__originalSetTransform=f.setTransform,f.__originalResetTransform=f.resetTransform,f.__originalClip=f.clip,f.__originalMoveTo=f.moveTo,f.__originalLineTo=f.lineTo,f.__originalBezierCurveTo=f.bezierCurveTo,f.__originalRect=f.rect,f.__originalClosePath=f.closePath,f.__originalBeginPath=f.beginPath,f._removeMirroring=()=>{f.save=f.__originalSave,f.restore=f.__originalRestore,f.rotate=f.__originalRotate,f.scale=f.__originalScale,f.translate=f.__originalTranslate,f.transform=f.__originalTransform,f.setTransform=f.__originalSetTransform,f.resetTransform=f.__originalResetTransform,f.clip=f.__originalClip,f.moveTo=f.__originalMoveTo,f.lineTo=f.__originalLineTo,f.bezierCurveTo=f.__originalBezierCurveTo,f.rect=f.__originalRect,f.closePath=f.__originalClosePath,f.beginPath=f.__originalBeginPath,delete f._removeMirroring},f.save=function(){e.save(),this.__originalSave()},f.restore=function(){e.restore(),this.__originalRestore()},f.translate=function(s,r){e.translate(s,r),this.__originalTranslate(s,r)},f.scale=function(s,r){e.scale(s,r),this.__originalScale(s,r)},f.transform=function(s,r,o,c,u,d){e.transform(s,r,o,c,u,d),this.__originalTransform(s,r,o,c,u,d)},f.setTransform=function(s,r,o,c,u,d){e.setTransform(s,r,o,c,u,d),this.__originalSetTransform(s,r,o,c,u,d)},f.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},f.rotate=function(s){e.rotate(s),this.__originalRotate(s)},f.clip=function(s){e.clip(s),this.__originalClip(s)},f.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},f.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},f.bezierCurveTo=function(t,s,r,o,c,u){e.bezierCurveTo(t,s,r,o,c,u),this.__originalBezierCurveTo(t,s,r,o,c,u)},f.rect=function(t,s,r,o){e.rect(t,s,r,o),this.__originalRect(t,s,r,o)},f.closePath=function(){e.closePath(),this.__originalClosePath()},f.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class DE{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,s)):(r=this.canvasFactory.create(t,s),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Qd(f,e,t,s,r,o,c,u,d,p){const[m,v,w,A,E,k]=ht(f);if(v===0&&w===0){const I=c*m+E,D=Math.round(I),F=u*A+k,B=Math.round(F),H=(c+d)*m+E,$=Math.abs(Math.round(H)-D)||1,W=(u+p)*A+k,Q=Math.abs(Math.round(W)-B)||1;return f.setTransform(Math.sign(m),0,0,Math.sign(A),D,B),f.drawImage(e,t,s,r,o,0,0,$,Q),f.setTransform(m,v,w,A,E,k),[$,Q]}if(m===0&&A===0){const I=u*w+E,D=Math.round(I),F=c*v+k,B=Math.round(F),H=(u+p)*w+E,$=Math.abs(Math.round(H)-D)||1,W=(c+d)*v+k,Q=Math.abs(Math.round(W)-B)||1;return f.setTransform(0,Math.sign(v),Math.sign(w),0,D,B),f.drawImage(e,t,s,r,o,0,0,Q,$),f.setTransform(m,v,w,A,E,k),[Q,$]}f.drawImage(e,t,s,r,o,c,u,d,p);const L=Math.hypot(m,v),T=Math.hypot(w,A);return[L*d,T*p]}function OE(f){const{width:e,height:t}=f;if(e>hw||t>hw)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let c=new Uint8Array(o*(t+1)),u,d,p;const m=e+7&-8;let v=new Uint8Array(m*t),w=0;for(const T of f.data){let I=128;for(;I>0;)v[w++]=T&I?0:255,I>>=1}let A=0;for(w=0,v[w]!==0&&(c[0]=1,++A),d=1;d<e;d++)v[w]!==v[w+1]&&(c[d]=v[w]?2:1,++A),w++;for(v[w]!==0&&(c[d]=2,++A),u=1;u<t;u++){w=u*m,p=u*o,v[w-m]!==v[w]&&(c[p]=v[w]?1:8,++A);let T=(v[w]?4:0)+(v[w-m]?8:0);for(d=1;d<e;d++)T=(T>>2)+(v[w+1]?4:0)+(v[w-m+1]?8:0),r[T]&&(c[p+d]=r[T],++A),w++;if(v[w-m]!==v[w]&&(c[p+d]=v[w]?2:4,++A),A>s)return null}for(w=m*(t-1),p=u*o,v[w]!==0&&(c[p]=8,++A),d=1;d<e;d++)v[w]!==v[w+1]&&(c[p+d]=v[w]?4:8,++A),w++;if(v[w]!==0&&(c[p+d]=4,++A),A>s)return null;const E=new Int32Array([0,o,-1,0,-o,0,0,0,1]),k=new Path2D;for(u=0;A&&u<=t;u++){let T=u*o;const I=T+e;for(;T<I&&!c[T];)T++;if(T===I)continue;k.moveTo(T%o,u);const D=T;let F=c[T];do{const B=E[F];do T+=B;while(!c[T]);const H=c[T];H!==5&&H!==10?(F=H,c[T]=0):(F=H&51*F>>4,c[T]&=F>>2|F<<2),k.lineTo(T%o,T/o|0),c[T]||--A}while(D!==T);--u}return v=null,c=null,function(T){T.save(),T.scale(1/e,-1/t),T.translate(0,-t),T.fill(k),T.beginPath(),T.restore()}}class dw{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Hw,this.textMatrixScale=1,this.fontMatrix=Am,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Zt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,s){[t,s]=pe.applyTransform([t,s],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(e,t){const s=pe.applyTransform(t,e),r=pe.applyTransform(t.slice(2),e),o=pe.applyTransform([t[0],t[3]],e),c=pe.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,s[0],r[0],o[0],c[0]),this.minY=Math.min(this.minY,s[1],r[1],o[1],c[1]),this.maxX=Math.max(this.maxX,s[0],r[0],o[0],c[0]),this.maxY=Math.max(this.maxY,s[1],r[1],o[1],c[1])}updateScalingPathMinMax(e,t){pe.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,s,r,o,c,u,d,p,m){const v=pe.bezierBoundingBox(t,s,r,o,c,u,d,p,m);m||this.updateRectMinMax(e,v)}getPathBoundingBox(e=fn.FILL,t=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(e===fn.STROKE){t||nt("Stroke bounding box must include transform.");const r=pe.singularValueDecompose2dScale(t),o=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;s[0]-=o,s[1]-=c,s[2]+=o,s[3]+=c}return s}updateClipFromPath(){const e=pe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=fn.FILL,t=null){return pe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function fw(f,e){if(typeof ImageData<"u"&&e instanceof ImageData){f.putImageData(e,0,0);return}const t=e.height,s=e.width,r=t%Tn,o=(t-r)/Tn,c=r===0?o:o+1,u=f.createImageData(s,Tn);let d=0,p;const m=e.data,v=u.data;let w,A,E,k;if(e.kind===nf.GRAYSCALE_1BPP){const L=m.byteLength,T=new Uint32Array(v.buffer,0,v.byteLength>>2),I=T.length,D=s+7>>3,F=4294967295,B=pn.isLittleEndian?4278190080:255;for(w=0;w<c;w++){for(E=w<o?Tn:r,p=0,A=0;A<E;A++){const H=L-d;let $=0;const W=H>D?s:H*8-7,Q=W&-8;let ne=0,te=0;for(;$<Q;$+=8)te=m[d++],T[p++]=te&128?F:B,T[p++]=te&64?F:B,T[p++]=te&32?F:B,T[p++]=te&16?F:B,T[p++]=te&8?F:B,T[p++]=te&4?F:B,T[p++]=te&2?F:B,T[p++]=te&1?F:B;for(;$<W;$++)ne===0&&(te=m[d++],ne=128),T[p++]=te&ne?F:B,ne>>=1}for(;p<I;)T[p++]=0;f.putImageData(u,0,w*Tn)}}else if(e.kind===nf.RGBA_32BPP){for(A=0,k=s*Tn*4,w=0;w<o;w++)v.set(m.subarray(d,d+k)),d+=k,f.putImageData(u,0,A),A+=Tn;w<c&&(k=s*r*4,v.set(m.subarray(d,d+k)),f.putImageData(u,0,A))}else if(e.kind===nf.RGB_24BPP)for(E=Tn,k=s*E,w=0;w<c;w++){for(w>=o&&(E=r,k=s*E),p=0,A=k;A--;)v[p++]=m[d++],v[p++]=m[d++],v[p++]=m[d++],v[p++]=255;f.putImageData(u,0,w*Tn)}else throw new Error(`bad image kind: ${e.kind}`)}function pw(f,e){if(e.bitmap){f.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,r=t%Tn,o=(t-r)/Tn,c=r===0?o:o+1,u=f.createImageData(s,Tn);let d=0;const p=e.data,m=u.data;for(let v=0;v<c;v++){const w=v<o?Tn:r;({srcPos:d}=NE({src:p,srcPos:d,dest:m,width:s,height:w,nonBlackColor:0})),f.putImageData(u,0,v*Tn)}}function Qc(f,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)f[s]!==void 0&&(e[s]=f[s]);f.setLineDash!==void 0&&(e.setLineDash(f.getLineDash()),e.lineDashOffset=f.lineDashOffset)}function Jd(f){if(f.strokeStyle=f.fillStyle="#000000",f.fillRule="nonzero",f.globalAlpha=1,f.lineWidth=1,f.lineCap="butt",f.lineJoin="miter",f.miterLimit=10,f.globalCompositeOperation="source-over",f.font="10px sans-serif",f.setLineDash!==void 0&&(f.setLineDash([]),f.lineDashOffset=0),!on){const{filter:e}=f;e!=="none"&&e!==""&&(f.filter="none")}}function gw(f,e){if(e)return!0;const t=pe.singularValueDecompose2dScale(f);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*qr.PDF_TO_CSS_UNITS);return t[0]<=s&&t[1]<=s}const jE=["butt","round","square"],zE=["miter","round","bevel"],HE={},mw={};var Qr,Km,Qm;const sy=class sy{constructor(e,t,s,r,o,{optionalContentConfig:c,markedContentStack:u=null},d,p){C(this,Qr);this.ctx=e,this.current=new dw(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new DE(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:r=null}){const o=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,c),this.ctx.fillStyle=u,s){const d=this.cachedCanvases.getCanvas("transparent",o,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ht(this.compositeCtx))}this.ctx.save(),Jd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ht(this.ctx)}executeOperatorList(e,t,s,r){const o=e.argsArray,c=e.fnArray;let u=t||0;const d=o.length;if(d===u)return u;const p=d-u>uw&&typeof s=="function",m=p?Date.now()+IE:0;let v=0;const w=this.commonObjs,A=this.objs;let E;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,s),u;if(E=c[u],E!==vs.dependency)this[E].apply(this,o[u]);else for(const k of o[u]){const L=k.startsWith("g_")?w:A;if(!L.has(k))return L.get(k,s),u}if(u++,u===d)return u;if(p&&++v>uw){if(Date.now()>m)return s(),u;v=0}}}endDrawing(){_(this,Qr,Km).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,Qr,Qm).call(this)}_scaleImage(e,t){const s=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),u=s,d=r,p="prescale1",m,v;for(;o>2&&u>1||c>2&&d>1;){let w=u,A=d;o>2&&u>1&&(w=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/w),c>2&&d>1&&(A=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,c/=d/A),m=this.cachedCanvases.getCanvas(p,w,A),v=m.context,v.clearRect(0,0,w,A),v.drawImage(e,0,0,u,d,0,0,w,A),e=m.canvas,u=w,d=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:d}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:r}=e,o=this.current.fillColor,c=this.current.patternFill,u=ht(t);let d,p,m,v;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(c?u:[u.slice(0,4),o]),d=this._cachedBitmapsMap.get(W),d||(d=new Map,this._cachedBitmapsMap.set(W,d));const Q=d.get(p);if(Q&&!c){const ne=Math.round(Math.min(u[0],u[2])+u[4]),te=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:Q,offsetX:ne,offsetY:te}}m=Q}m||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),pw(v.context,e));let w=pe.transform(u,[1/s,0,0,-1/r,0,0]);w=pe.transform(w,[1,0,0,1,0,-r]);const[A,E,k,L]=pe.getAxialAlignedBoundingBox([0,0,s,r],w),T=Math.round(k-A)||1,I=Math.round(L-E)||1,D=this.cachedCanvases.getCanvas("fillCanvas",T,I),F=D.context,B=A,H=E;F.translate(-B,-H),F.transform(...w),m||(m=this._scaleImage(v.canvas,yi(F)),m=m.img,d&&c&&d.set(p,m)),F.imageSmoothingEnabled=gw(ht(F),e.interpolate),Qd(F,m,0,0,m.width,m.height,0,0,s,r),F.globalCompositeOperation="source-in";const $=pe.transform(yi(F),[1,0,0,1,-B,-H]);return F.fillStyle=c?o.getPattern(t,this,$,fn.FILL):o,F.fillRect(0,0,s,r),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,D.canvas)),{canvas:D.canvas,offsetX:Math.round(B),offsetY:Math.round(H)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=jE[e]}setLineJoin(e){this.ctx.lineJoin=zE[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...ht(this.suspendedCtx)),Qc(this.suspendedCtx,o),FE(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Qc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,r){const o=r[0],c=r[1],u=r[2]-o,d=r[3]-c;u===0||d===0||(this.genericComposeSMask(t.context,s,u,d,t.subtype,t.backdrop,t.transferMap,o,c,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,r,o,c,u,d,p,m,v){let w=e.canvas,A=d-m,E=p-v;if(c){const L=pe.makeHexColor(...c);if(A<0||E<0||A+s>w.width||E+r>w.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),I=T.context;I.drawImage(w,-A,-E),I.globalCompositeOperation="destination-atop",I.fillStyle=L,I.fillRect(0,0,s,r),I.globalCompositeOperation="source-over",w=T.canvas,A=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(A,E,s,r),e.clip(T),e.globalCompositeOperation="destination-atop",e.fillStyle=L,e.fillRect(A,E,s,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?t.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(u));const k=new Path2D;k.rect(d,p,s,r),t.clip(k),t.globalCompositeOperation="destination-in",t.drawImage(w,A,E,s,r,d,p,s,r),t.restore()}save(){this.inSMaskMode?(Qc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Qc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,s,r,o,c){this.ctx.transform(e,t,s,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){const r=this.ctx,o=this.current;let c=o.x,u=o.y,d,p;const m=ht(r),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,w=v?s.slice(0):null;for(let A=0,E=0,k=e.length;A<k;A++)switch(e[A]|0){case vs.rectangle:c=t[E++],u=t[E++];const L=t[E++],T=t[E++],I=c+L,D=u+T;r.moveTo(c,u),L===0||T===0?r.lineTo(I,D):(r.lineTo(I,u),r.lineTo(I,D),r.lineTo(c,D)),v||o.updateRectMinMax(m,[c,u,I,D]),r.closePath();break;case vs.moveTo:c=t[E++],u=t[E++],r.moveTo(c,u),v||o.updatePathMinMax(m,c,u);break;case vs.lineTo:c=t[E++],u=t[E++],r.lineTo(c,u),v||o.updatePathMinMax(m,c,u);break;case vs.curveTo:d=c,p=u,c=t[E+4],u=t[E+5],r.bezierCurveTo(t[E],t[E+1],t[E+2],t[E+3],c,u),o.updateCurvePathMinMax(m,d,p,t[E],t[E+1],t[E+2],t[E+3],c,u,w),E+=6;break;case vs.curveTo2:d=c,p=u,r.bezierCurveTo(c,u,t[E],t[E+1],t[E+2],t[E+3]),o.updateCurvePathMinMax(m,d,p,c,u,t[E],t[E+1],t[E+2],t[E+3],w),c=t[E+2],u=t[E+3],E+=4;break;case vs.curveTo3:d=c,p=u,c=t[E+2],u=t[E+3],r.bezierCurveTo(t[E],t[E+1],c,u,c,u),o.updateCurvePathMinMax(m,d,p,t[E],t[E+1],c,u,c,u,w),E+=4;break;case vs.closePath:r.closePath();break}v&&o.updateScalingPathMinMax(m,w),o.setCurrentPoint(c,u)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,s=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(t.save(),t.strokeStyle=s.getPattern(t,this,yi(t),fn.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(t.save(),t.fillStyle=s.getPattern(t,this,yi(t),fn.FILL),o=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=HE}eoClip(){this.pendingClip=mw}beginText(){this.current.textMatrix=Hw,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const s of e)t.setTransform(...s.transform),t.translate(s.x,s.y),s.addToPath(t,s.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var m;const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||Am,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ne("Invalid font matrix for font "+e),t<0?(t=-t,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const o=s.loadedName||"sans-serif",c=((m=s.systemFontInfo)==null?void 0:m.css)||`"${o}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let p=t;t<lw?p=lw:t>cw&&(p=cw),this.current.fontSizeScale=t/p,this.ctx.font=`${d} ${u} ${p}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,s,r,o,c){this.current.textMatrix=[e,t,s,r,o,c],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,s,r){const o=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,m=d&Zt.FILL_STROKE_MASK,v=!!(d&Zt.ADD_TO_PATH_FLAG),w=c.patternFill&&!u.missingFile;let A;(u.disableFontFace||v||w)&&(A=u.getPathGenerator(this.commonObjs,e)),u.disableFontFace||w?(o.save(),o.translate(t,s),o.beginPath(),A(o,p),r&&o.setTransform(...r),(m===Zt.FILL||m===Zt.FILL_STROKE)&&o.fill(),(m===Zt.STROKE||m===Zt.FILL_STROKE)&&o.stroke(),o.restore()):((m===Zt.FILL||m===Zt.FILL_STROKE)&&o.fillText(e,t,s),(m===Zt.STROKE||m===Zt.FILL_STROKE)&&o.strokeText(e,t,s)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ht(o),x:t,y:s,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){s=!0;break}return ze(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(r===0)return;const o=this.ctx,c=t.fontSizeScale,u=t.charSpacing,d=t.wordSpacing,p=t.fontDirection,m=t.textHScale*p,v=e.length,w=s.vertical,A=w?1:-1,E=s.defaultVMetrics,k=r*t.fontMatrix[0],L=t.textRenderingMode===Zt.FILL&&!s.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),p>0?o.scale(m,-1):o.scale(m,1);let T;if(t.patternFill){o.save();const H=t.fillColor.getPattern(o,this,yi(o),fn.FILL);T=ht(o),o.restore(),o.fillStyle=H}let I=t.lineWidth;const D=t.textMatrixScale;if(D===0||I===0){const H=t.textRenderingMode&Zt.FILL_STROKE_MASK;(H===Zt.STROKE||H===Zt.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=D;if(c!==1&&(o.scale(c,c),I/=c),o.lineWidth=I,s.isInvalidPDFjsFont){const H=[];let $=0;for(const W of e)H.push(W.unicode),$+=W.width;o.fillText(H.join(""),0,0),t.x+=$*k*m,o.restore(),this.compose();return}let F=0,B;for(B=0;B<v;++B){const H=e[B];if(typeof H=="number"){F+=A*H*r/1e3;continue}let $=!1;const W=(H.isSpace?d:0)+u,Q=H.fontChar,ne=H.accent;let te,_e,fe=H.width;if(w){const we=H.vmetric||E,ge=-(H.vmetric?we[1]:fe*.5)*k,K=we[2]*k;fe=we?-we[0]:fe,te=ge/c,_e=(F+K)/c}else te=F/c,_e=0;if(s.remeasure&&fe>0){const we=o.measureText(Q).width*1e3/r*c;if(fe<we&&this.isFontSubpixelAAEnabled){const ge=fe/we;$=!0,o.save(),o.scale(ge,1),te/=ge}else fe!==we&&(te+=(fe-we)/2e3*r/c)}if(this.contentVisible&&(H.isInFont||s.missingFile)){if(L&&!ne)o.fillText(Q,te,_e);else if(this.paintChar(Q,te,_e,T),ne){const we=te+r*ne.offset.x/c,ge=_e-r*ne.offset.y/c;this.paintChar(ne.fontChar,we,ge,T)}}const he=w?fe*k-W*p:fe*k+W*p;F+=he,$&&o.restore()}w?t.y-=F:t.x+=F*m,o.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,r=s.font,o=s.fontSize,c=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,m=s.textHScale*c,v=s.fontMatrix||Am,w=e.length,A=s.textRenderingMode===Zt.INVISIBLE;let E,k,L,T;if(!(A||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...s.textMatrix),t.translate(s.x,s.y),t.scale(m,c),E=0;E<w;++E){if(k=e[E],typeof k=="number"){T=u*k*o/1e3,this.ctx.translate(T,0),s.x+=T*m;continue}const I=(k.isSpace?p:0)+d,D=r.charProcOperatorList[k.operatorListId];if(!D){Ne(`Type3 character "${k.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=k,this.save(),t.scale(o,o),t.transform(...v),this.executeOperatorList(D),this.restore()),L=pe.applyTransform([k.width,0],v)[0]*o+I,t.translate(L,0),s.x+=L*m}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,r,o,c){this.ctx.rect(s,r,o-s,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=e[1],r=this.baseTransform||ht(this.ctx),o={createCanvasGraphics:c=>new sy(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Ym(e,s,this.ctx,o,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,s){this.ctx.strokeStyle=this.current.strokeColor=pe.makeHexColor(e,t,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,s){this.ctx.fillStyle=this.current.fillColor=pe.makeHexColor(e,t,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=ME(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,yi(t),fn.SHADING);const r=yi(t);if(r){const{width:o,height:c}=t.canvas,[u,d,p,m]=pe.getAxialAlignedBoundingBox([0,0,o,c],r);this.ctx.fillRect(u,d,p-u,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ht(this.ctx),t)){const s=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],s,r),this.current.updateRectMinMax(ht(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||op("TODO: Support non-isolated groups."),e.knockout&&Ne("Knockout groups not supported.");const s=ht(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=pe.getAxialAlignedBoundingBox(e.bbox,ht(t));const o=[0,0,t.canvas.width,t.canvas.height];r=pe.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,d,p),w=v.context;w.translate(-c,-u),w.transform(...s),e.smask?this.smaskStack.push({canvas:v.canvas,context:w,offsetX:c,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(c,u),t.save()),Qc(t,w),this.ctx=w,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ht(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=pe.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,s,r,o){if(_(this,Qr,Km).call(this),Jd(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const c=t[2]-t[0],u=t[3]-t[1];if(o&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=c,t[3]=u;const[d,p]=pe.singularValueDecompose2dScale(ht(this.ctx)),{viewportScale:m}=this,v=Math.ceil(c*this.outputScaleX*m),w=Math.ceil(u*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,w);const{canvas:A,context:E}=this.annotationCanvas;this.annotationCanvasMap.set(e,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=E,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,u*p),Jd(this.ctx)}else Jd(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],c,u),this.ctx.clip(),this.ctx.beginPath()}this.current=new dw(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,Qr,Qm).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=OE(e)),r.compiled)){r.compiled(s);return}const o=this._createMaskCanvas(e),c=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(c,o.offsetX,o.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,r=0,o,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const u=this.ctx;u.save();const d=ht(u);u.transform(t,s,r,o,0,0);const p=this._createMaskCanvas(e);u.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let m=0,v=c.length;m<v;m+=2){const w=pe.transform(d,[t,s,r,o,c[m],c[m+1]]),[A,E]=pe.applyTransform([0,0],w);u.drawImage(p.canvas,A,E)}u.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:c,width:u,height:d,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",u,d),v=m.context;v.save();const w=this.getObject(c,o);pw(v,w),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,yi(t),fn.FILL):s,v.fillRect(0,0,u,d),v.restore(),t.save(),t.transform(...p),t.scale(1,-1),Qd(t,m.canvas,0,0,u,d,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ne("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Ne("Dependent image isn't ready yet");return}const c=o.width,u=o.height,d=[];for(let p=0,m=r.length;p<m;p+=2)d.push({transform:[t,0,0,s,r[p],r[p+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(o,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",s,r),c=o.context;return c.filter=this.current.transferMaps,c.drawImage(t,0,0),c.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,r=this.ctx;if(this.save(),!on){const{filter:u}=r;u!=="none"&&u!==""&&(r.filter="none")}r.scale(1/t,-1/s);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const d=this.cachedCanvases.getCanvas("inlineImage",t,s).context;fw(d,e),o=this.applyTransferMapsToCanvas(d)}const c=this._scaleImage(o,yi(r));r.imageSmoothingEnabled=gw(ht(r),e.interpolate),Qd(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,c=e.height,d=this.cachedCanvases.getCanvas("inlineImage",o,c).context;fw(d,e),r=this.applyTransferMapsToCanvas(d)}for(const o of t)s.save(),s.transform(...o.transform),s.scale(1,-1),Qd(s,r,o.x,o.y,o.w,o.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const s=this.ctx;this.pendingClip&&(t||(this.pendingClip===mw?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:r,d:o}=this.ctx.getTransform();let c,u;if(s===0&&r===0){const d=Math.abs(t),p=Math.abs(o);if(d===p)if(e===0)c=u=1/d;else{const m=d*e;c=u=m<1?1/m:1}else if(e===0)c=1/d,u=1/p;else{const m=d*e,v=p*e;c=m<1?1/m:1,u=v<1?1/v:1}}else{const d=Math.abs(t*o-s*r),p=Math.hypot(t,s),m=Math.hypot(r,o);if(e===0)c=m/d,u=p/d;else{const v=e*d;c=m>v?m/v:1,u=p>v?p/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:s}=this.current,[r,o]=this.getScaleForStroking();if(t.lineWidth=s||1,r===1&&o===1){t.stroke();return}const c=t.getLineDash();if(e&&t.save(),t.scale(r,o),c.length>0){const u=Math.max(r,o);t.setLineDash(c.map(d=>d/u)),t.lineDashOffset/=u}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qr=new WeakSet,Km=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Qm=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let ol=sy;for(const f in vs)ol.prototype[f]!==void 0&&(ol.prototype[vs[f]]=ol.prototype[f]);var Hu,Bu;class Wi{static get workerPort(){return l(this,Hu)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");x(this,Hu,e)}static get workerSrc(){return l(this,Bu)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");x(this,Bu,e)}}Hu=new WeakMap,Bu=new WeakMap,C(Wi,Hu,null),C(Wi,Bu,"");const Zd={DATA:1,ERROR:2},At={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function In(f){switch(f instanceof Error||typeof f=="object"&&f!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),f.name){case"AbortException":return new Co(f.message);case"MissingPDFException":return new Eo(f.message);case"PasswordException":return new bm(f.message,f.code);case"UnexpectedResponseException":return new lp(f.message,f.status);case"UnknownErrorException":return new _m(f.message,f.details);default:return new _m(f.message,f.toString())}}var El,os,Sx,Ex,Cx,hf;class au{constructor(e,t,s){C(this,os);C(this,El,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",_(this,os,Sx).bind(this),{signal:l(this,El).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},s)}catch(c){o.reject(c)}return o.promise}sendWithStream(e,t,s,r){const o=this.streamId++,c=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:c,targetName:u,action:e,streamId:o,data:t,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,d.postMessage({sourceName:c,targetName:u,stream:At.PULL,streamId:o,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Rt(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:c,targetName:u,stream:At.CANCEL,streamId:o,reason:In(p)}),m.promise}},s)}destroy(){var e;(e=l(this,El))==null||e.abort(),x(this,El,null)}}El=new WeakMap,os=new WeakSet,Sx=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_(this,os,Cx).call(this,e);return}if(e.callback){const s=e.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Zd.DATA)r.resolve(e.data);else if(e.callback===Zd.ERROR)r.reject(In(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,r=e.sourceName,o=this.comObj;new Promise(function(c){c(t(e.data))}).then(function(c){o.postMessage({sourceName:s,targetName:r,callback:Zd.DATA,callbackId:e.callbackId,data:c})},function(c){o.postMessage({sourceName:s,targetName:r,callback:Zd.ERROR,callbackId:e.callbackId,reason:In(c)})});return}if(e.streamId){_(this,os,Ex).call(this,e);return}t(e.data)},Ex=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,c=this,u=this.actionHandler[e.action],d={enqueue(p,m=1,v){if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=m,w>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:s,targetName:r,stream:At.ENQUEUE,streamId:t,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:At.CLOSE,streamId:t}),delete c.streamSinks[t])},error(p){Rt(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:s,targetName:r,stream:At.ERROR,streamId:t,reason:In(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,new Promise(function(p){p(u(e.data,d))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:At.START_COMPLETE,streamId:t,success:!0})},function(p){o.postMessage({sourceName:s,targetName:r,stream:At.START_COMPLETE,streamId:t,reason:In(p)})})},Cx=function(e){const t=e.streamId,s=this.sourceName,r=e.sourceName,o=this.comObj,c=this.streamControllers[t],u=this.streamSinks[t];switch(e.stream){case At.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(In(e.reason));break;case At.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(In(e.reason));break;case At.PULL:if(!u){o.postMessage({sourceName:s,targetName:r,stream:At.PULL_COMPLETE,streamId:t,success:!0});break}u.desiredSize<=0&&e.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=e.desiredSize,new Promise(function(d){var p;d((p=u.onPull)==null?void 0:p.call(u))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:At.PULL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:s,targetName:r,stream:At.PULL_COMPLETE,streamId:t,reason:In(d)})});break;case At.ENQUEUE:if(Rt(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case At.CLOSE:if(Rt(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),_(this,os,hf).call(this,c,t);break;case At.ERROR:Rt(c,"error should have stream controller"),c.controller.error(In(e.reason)),_(this,os,hf).call(this,c,t);break;case At.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(In(e.reason)),_(this,os,hf).call(this,c,t);break;case At.CANCEL:if(!u)break;new Promise(function(d){var p;d((p=u.onCancel)==null?void 0:p.call(u,In(e.reason)))}).then(function(){o.postMessage({sourceName:s,targetName:r,stream:At.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){o.postMessage({sourceName:s,targetName:r,stream:At.CANCEL_COMPLETE,streamId:t,reason:In(d)})}),u.sinkCapability.reject(In(e.reason)),u.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},hf=async function(e,t){var s,r,o;await Promise.allSettled([(s=e.startCall)==null?void 0:s.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[t]};var Ha,Uu;class BE{constructor({parsedData:e,rawData:t}){C(this,Ha);C(this,Uu);x(this,Ha,e),x(this,Uu,t)}getRaw(){return l(this,Uu)}get(e){return l(this,Ha).get(e)??null}getAll(){return U0(l(this,Ha))}has(e){return l(this,Ha).has(e)}}Ha=new WeakMap,Uu=new WeakMap;const nl=Symbol("INTERNAL");var Vu,$u,Wu,Cl;class UE{constructor(e,{name:t,intent:s,usage:r,rbGroups:o}){C(this,Vu,!1);C(this,$u,!1);C(this,Wu,!1);C(this,Cl,!0);x(this,Vu,!!(e&Vn.DISPLAY)),x(this,$u,!!(e&Vn.PRINT)),this.name=t,this.intent=s,this.usage=r,this.rbGroups=o}get visible(){if(l(this,Wu))return l(this,Cl);if(!l(this,Cl))return!1;const{print:e,view:t}=this.usage;return l(this,Vu)?(t==null?void 0:t.viewState)!=="OFF":l(this,$u)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,s=!1){e!==nl&&nt("Internal method `_setVisible` called."),x(this,Wu,s),x(this,Cl,t)}}Vu=new WeakMap,$u=new WeakMap,Wu=new WeakMap,Cl=new WeakMap;var Mr,Xe,kl,Tl,Gu,Jm;class VE{constructor(e,t=Vn.DISPLAY){C(this,Gu);C(this,Mr,null);C(this,Xe,new Map);C(this,kl,null);C(this,Tl,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,x(this,Tl,e.order);for(const s of e.groups)l(this,Xe).set(s.id,new UE(t,s));if(e.baseState==="OFF")for(const s of l(this,Xe).values())s._setVisible(nl,!1);for(const s of e.on)l(this,Xe).get(s)._setVisible(nl,!0);for(const s of e.off)l(this,Xe).get(s)._setVisible(nl,!1);x(this,kl,this.getHash())}}isVisible(e){if(l(this,Xe).size===0)return!0;if(!e)return op("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Xe).has(e.id)?l(this,Xe).get(e.id).visible:(Ne(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Gu,Jm).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Xe).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(l(this,Xe).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Xe).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!l(this,Xe).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Xe).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(!l(this,Xe).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Xe).has(t))return Ne(`Optional content group not found: ${t}`),!0;if(l(this,Xe).get(t).visible)return!1}return!0}return Ne(`Unknown optional content policy ${e.policy}.`),!0}return Ne(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){var o;const r=l(this,Xe).get(e);if(!r){Ne(`Optional content group not found: ${e}`);return}if(s&&t&&r.rbGroups.length)for(const c of r.rbGroups)for(const u of c)u!==e&&((o=l(this,Xe).get(u))==null||o._setVisible(nl,!1,!0));r._setVisible(nl,!!t,!0),x(this,Mr,null)}setOCGState({state:e,preserveRB:t}){let s;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const o=l(this,Xe).get(r);if(o)switch(s){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!o.visible,t);break}}x(this,Mr,null)}get hasInitialVisibility(){return l(this,kl)===null||this.getHash()===l(this,kl)}getOrder(){return l(this,Xe).size?l(this,Tl)?l(this,Tl).slice():[...l(this,Xe).keys()]:null}getGroups(){return l(this,Xe).size>0?U0(l(this,Xe)):null}getGroup(e){return l(this,Xe).get(e)||null}getHash(){if(l(this,Mr)!==null)return l(this,Mr);const e=new fx;for(const[t,s]of l(this,Xe))e.update(`${t}:${s.visible}`);return x(this,Mr,e.hexdigest())}}Mr=new WeakMap,Xe=new WeakMap,kl=new WeakMap,Tl=new WeakMap,Gu=new WeakSet,Jm=function(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let r=1;r<t;r++){const o=e[r];let c;if(Array.isArray(o))c=_(this,Gu,Jm).call(this,o);else if(l(this,Xe).has(o))c=l(this,Xe).get(o).visible;else return Ne(`Optional content group not found: ${o}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"};class $E{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Rt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:c,contentDispositionFilename:u}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,(o==null?void 0:o.length)>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),e.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(s),!0)});Rt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,s,r,o;e.total===void 0?(s=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||s.call(t,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Rt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new WE(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new GE(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class WE{constructor(e,t,s=!1,r=null){this._stream=e,this._done=s||!1,this._filename=W0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GE{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XE(f){let e=!0,t=s("filename\\*","i").exec(f);if(t){t=t[1];let m=u(t);return m=unescape(m),m=d(m),m=p(m),o(m)}if(t=c(f),t){const m=p(t);return o(m)}if(t=s("filename","i").exec(f),t){t=t[1];let m=u(t);return m=p(m),o(m)}function s(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const w=new TextDecoder(m,{fatal:!0}),A=cp(v);v=w.decode(A),e=!1}catch{}}return v}function o(m){return e&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),e&&(m=r("iso-8859-1",m))),m}function c(m){const v=[];let w;const A=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(w=A.exec(m))!==null;){let[,k,L,T]=w;if(k=parseInt(k,10),k in v){if(k===0)break;continue}v[k]=[L,T]}const E=[];for(let k=0;k<v.length&&k in v;++k){let[L,T]=v[k];T=u(T),L&&(T=unescape(T),k===0&&(T=d(T))),E.push(T)}return E.join("")}function u(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let w=0;w<v.length;++w){const A=v[w].indexOf('"');A!==-1&&(v[w]=v[w].slice(0,A),v.length=w+1),v[w]=v[w].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function d(m){const v=m.indexOf("'");if(v===-1)return m;const w=m.slice(0,v),E=m.slice(v+1).replace(/^[^']*'/,"");return r(w,E)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,w,A,E){if(A==="q"||A==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(k,L){return String.fromCharCode(parseInt(L,16))}),r(w,E);try{E=atob(E)}catch{}return r(w,E)})}return""}function K0(f,e){const t=new Headers;if(!f||!e||typeof e!="object")return t;for(const s in e){const r=e[s];r!==void 0&&t.append(s,r)}return t}function Q0({responseHeaders:f,isHttp:e,rangeChunkSize:t,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(f.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*t)||s||!e||f.get("Accept-Ranges")!=="bytes"||(f.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function J0(f){const e=f.get("Content-Disposition");if(e){let t=XE(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(W0(t))return t}return null}function dp(f,e){return f===404||f===0&&e.startsWith("file:")?new Eo('Missing PDF "'+e+'".'):new lp(`Unexpected server response (${f}) while retrieving PDF "${e}".`,f)}function kx(f){return f===200||f===206}function Tx(f,e,t){return{method:"GET",headers:f,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Px(f){return f instanceof Uint8Array?f.buffer:f instanceof ArrayBuffer?f:(Ne(`getArrayBuffer - unexpected data format: ${f}`),new Uint8Array(f).buffer)}class yw{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=K0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qE(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new YE(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class qE{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),r=t.url;fetch(r,Tx(s,this._withCredentials,this._abortController)).then(o=>{if(!kx(o.status))throw dp(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const c=o.headers,{allowRangeRequests:u,suggestedLength:d}=Q0({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=J0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Co("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Px(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class YE{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${t}-${s-1}`);const c=r.url;fetch(c,Tx(o,this._withCredentials,this._abortController)).then(u=>{if(!kx(u.status))throw dp(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Px(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const ym=200,vm=206;function KE(f){const e=f.response;return typeof e!="string"?e:cp(e).buffer}class QE{constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=K0(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,s){const r={begin:e,end:t};for(const o in s)r[o]=s[o];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[o,c]of this.headers)t.setRequestHeader(o,c);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=vm):r.expectedStatus=ym,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var r;const s=this.pendingRequests[e];s&&((r=s.onProgress)==null||r.call(s,t))}onStateChange(e,t){var d,p,m;const s=this.pendingRequests[e];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(d=s.onError)==null||d.call(s,r.status);return}const o=r.status||ym;if(!(o===ym&&s.expectedStatus===vm)&&o!==s.expectedStatus){(p=s.onError)==null||p.call(s,r.status);return}const u=KE(r);if(o===vm){const v=r.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);s.onDone({begin:parseInt(w[1],10),chunk:u})}else u?s.onDone({begin:0,chunk:u}):(m=s.onError)==null||m.call(s,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class JE{constructor(e){this._source=e,this._manager=new QE(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Rt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ZE(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new e2(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class ZE{constructor(e,t){this._manager=e;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),s=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[u,...d]=c.split(": ");return[u,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:o}=Q0({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=J0(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=dp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e2{constructor(e,t,s){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=dp(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const t2=/^[a-z][a-z0-9\-+.]+:/i;function n2(f){if(t2.test(f))return new URL(f);const e=Yr.get("url");return new URL(e.pathToFileURL(f))}function Lx(f,e,t){return f.protocol==="http:"?Yr.get("http").request(f,{headers:e},t):Yr.get("https").request(f,{headers:e},t)}class s2{constructor(e){this.source=e,this.url=n2(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=K0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new a2(this):new i2(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new o2(this,e,t):new r2(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class Rx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Co("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Mx{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class i2 extends Rx{constructor(e){super(e);const t=Object.fromEntries(e.headers),s=r=>{if(r.statusCode===404){const d=new Eo(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const o=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:u}=Q0({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=J0(o)};this._request=Lx(this._url,t,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class r2 extends Mx{constructor(e,t,s){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${t}-${s-1}`;const o=c=>{if(c.statusCode===404){const u=new Eo(`Missing PDF "${this._url}".`);this._storedError=u;return}this._setReadableStream(c)};this._request=Lx(this._url,r,o),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class a2 extends Rx{constructor(e){super(e);const t=Yr.get("fs");t.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Eo(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class o2 extends Mx{constructor(e,t,s){super(e);const r=Yr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}}const l2=1e5,_n=30,c2=.8;var Mw,Nr,Cn,Xu,qu,Ba,ki,Yu,Ku,Ua,Pl,Ll,Ir,Rl,Qu,Ml,Va,Ju,Zu,pt,$a,Wa,eh,Fr,Nl,Yi,Nx,Ix,e0,Wn,df,t0,Fx,Dx;let Zm=(pt=class{constructor({textContentSource:e,container:t,viewport:s}){C(this,Yi);C(this,Nr,Promise.withResolvers());C(this,Cn,null);C(this,Xu,!1);C(this,qu,!!((Mw=globalThis.FontInspector)!=null&&Mw.enabled));C(this,Ba,null);C(this,ki,null);C(this,Yu,0);C(this,Ku,0);C(this,Ua,null);C(this,Pl,null);C(this,Ll,0);C(this,Ir,0);C(this,Rl,Object.create(null));C(this,Qu,[]);C(this,Ml,null);C(this,Va,[]);C(this,Ju,new WeakMap);C(this,Zu,null);var d;if(e instanceof ReadableStream)x(this,Ml,e);else if(typeof e=="object")x(this,Ml,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Cn,x(this,Pl,t)),x(this,Ir,s.scale*(globalThis.devicePixelRatio||1)),x(this,Ll,s.rotation),x(this,ki,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:c,pageY:u}=s.rawDims;x(this,Zu,[1,0,0,-1,-c,u+o]),x(this,Ku,r),x(this,Yu,o),_(d=pt,Wn,Fx).call(d),wo(t,s),l(this,Nr).promise.finally(()=>{l(pt,Nl).delete(this),x(this,ki,null),x(this,Rl,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=pn.platform;return ze(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,Ua).read().then(({value:t,done:s})=>{if(s){l(this,Nr).resolve();return}l(this,Ba)??x(this,Ba,t.lang),Object.assign(l(this,Rl),t.styles),_(this,Yi,Nx).call(this,t.items),e()},l(this,Nr).reject)};return x(this,Ua,l(this,Ml).getReader()),l(pt,Nl).add(this),e(),l(this,Nr).promise}update({viewport:e,onBefore:t=null}){var o;const s=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==l(this,Ll)&&(t==null||t(),x(this,Ll,r),wo(l(this,Pl),{rotation:r})),s!==l(this,Ir)){t==null||t(),x(this,Ir,s);const c={div:null,properties:null,ctx:_(o=pt,Wn,df).call(o,l(this,Ba))};for(const u of l(this,Va))c.properties=l(this,Ju).get(u),c.div=u,_(this,Yi,e0).call(this,c)}}cancel(){var t;const e=new Co("TextLayer task cancelled.");(t=l(this,Ua))==null||t.cancel(e).catch(()=>{}),x(this,Ua,null),l(this,Nr).reject(e)}get textDivs(){return l(this,Va)}get textContentItemsStr(){return l(this,Qu)}static cleanup(){if(!(l(this,Nl).size>0)){l(this,$a).clear();for(const{canvas:e}of l(this,Wa).values())e.remove();l(this,Wa).clear()}}},Nr=new WeakMap,Cn=new WeakMap,Xu=new WeakMap,qu=new WeakMap,Ba=new WeakMap,ki=new WeakMap,Yu=new WeakMap,Ku=new WeakMap,Ua=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Ir=new WeakMap,Rl=new WeakMap,Qu=new WeakMap,Ml=new WeakMap,Va=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,$a=new WeakMap,Wa=new WeakMap,eh=new WeakMap,Fr=new WeakMap,Nl=new WeakMap,Yi=new WeakSet,Nx=function(e){var r,o;if(l(this,Xu))return;(o=l(this,ki)).ctx??(o.ctx=_(r=pt,Wn,df).call(r,l(this,Ba)));const t=l(this,Va),s=l(this,Qu);for(const c of e){if(t.length>l2){Ne("Ignoring additional textDivs for performance reasons."),x(this,Xu,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const u=l(this,Cn);x(this,Cn,document.createElement("span")),l(this,Cn).classList.add("markedContent"),c.id!==null&&l(this,Cn).setAttribute("id",`${c.id}`),u.append(l(this,Cn))}else c.type==="endMarkedContent"&&x(this,Cn,l(this,Cn).parentNode);continue}s.push(c.str),_(this,Yi,Ix).call(this,c)}},Ix=function(e){var k;const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Va).push(t);const r=pe.transform(l(this,Zu),e.transform);let o=Math.atan2(r[1],r[0]);const c=l(this,Rl)[e.fontName];c.vertical&&(o+=Math.PI/2);let u=l(this,qu)&&c.fontSubstitution||c.fontFamily;u=pt.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),p=d*_(k=pt,Wn,Dx).call(k,u,l(this,Ba));let m,v;o===0?(m=r[4],v=r[5]-p):(m=r[4]+p*Math.sin(o),v=r[5]-p*Math.cos(o));const w="calc(var(--scale-factor)*",A=t.style;l(this,Cn)===l(this,Pl)?(A.left=`${(100*m/l(this,Ku)).toFixed(2)}%`,A.top=`${(100*v/l(this,Yu)).toFixed(2)}%`):(A.left=`${w}${m.toFixed(2)}px)`,A.top=`${w}${v.toFixed(2)}px)`),A.fontSize=`${w}${(l(pt,Fr)*d).toFixed(2)}px)`,A.fontFamily=u,s.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,qu)&&(t.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),o!==0&&(s.angle=o*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const L=Math.abs(e.transform[0]),T=Math.abs(e.transform[3]);L!==T&&Math.max(L,T)/Math.min(L,T)>1.5&&(E=!0)}if(E&&(s.canvasWidth=c.vertical?e.height:e.width),l(this,Ju).set(t,s),l(this,ki).div=t,l(this,ki).properties=s,_(this,Yi,e0).call(this,l(this,ki)),s.hasText&&l(this,Cn).append(t),s.hasEOL){const L=document.createElement("br");L.setAttribute("role","presentation"),l(this,Cn).append(L)}},e0=function(e){var u;const{div:t,properties:s,ctx:r}=e,{style:o}=t;let c="";if(l(pt,Fr)>1&&(c=`scale(${1/l(pt,Fr)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:d}=o,{canvasWidth:p,fontSize:m}=s;_(u=pt,Wn,t0).call(u,r,m*l(this,Ir),d);const{width:v}=r.measureText(t.textContent);v>0&&(c=`scaleX(${p*l(this,Ir)/v}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(o.transform=c)},Wn=new WeakSet,df=function(e=null){let t=l(this,Wa).get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Wa).set(e,t),l(this,eh).set(t,{size:0,family:""})}return t},t0=function(e,t,s){const r=l(this,eh).get(e);t===r.size&&s===r.family||(e.font=`${t}px ${s}`,r.size=t,r.family=s)},Fx=function(){if(l(this,Fr)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),x(this,Fr,e.getBoundingClientRect().height),e.remove()},Dx=function(e,t){const s=l(this,$a).get(e);if(s)return s;const r=_(this,Wn,df).call(this,t);r.canvas.width=r.canvas.height=_n,_(this,Wn,t0).call(this,r,_n,e);const o=r.measureText("");let c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(c){const m=c/(c+u);return l(this,$a).set(e,m),r.canvas.width=r.canvas.height=0,m}r.strokeStyle="red",r.clearRect(0,0,_n,_n),r.strokeText("g",0,0);let d=r.getImageData(0,0,_n,_n).data;u=0;for(let m=d.length-1-3;m>=0;m-=4)if(d[m]>0){u=Math.ceil(m/4/_n);break}r.clearRect(0,0,_n,_n),r.strokeText("A",0,_n),d=r.getImageData(0,0,_n,_n).data,c=0;for(let m=0,v=d.length;m<v;m+=4)if(d[m]>0){c=_n-Math.floor(m/4/_n);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+u):c2;return l(this,$a).set(e,p),p},C(pt,Wn),C(pt,$a,new Map),C(pt,Wa,new Map),C(pt,eh,new WeakMap),C(pt,Fr,null),C(pt,Nl,new Set),pt);class vu{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function r(o){var d;if(!o)return;let c=null;const u=o.name;if(u==="#text")c=o.value;else if(vu.shouldBuildText(u))(d=o==null?void 0:o.attributes)!=null&&d.textContent?c=o.attributes.textContent:o.value&&(c=o.value);else return;if(c!==null&&t.push({str:c}),!!o.children)for(const p of o.children)r(p)}return r(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const u2=65536,h2=100,d2=5e3,f2=on?EE:bE,p2=on?CE:vx,g2=on?SE:_E,m2=on?kE:bx;function y2(f={}){typeof f=="string"||f instanceof URL?f={url:f}:(f instanceof ArrayBuffer||ArrayBuffer.isView(f))&&(f={data:f});const e=new n0,{docId:t}=e,s=f.url?v2(f.url):null,r=f.data?w2(f.data):null,o=f.httpHeaders||null,c=f.withCredentials===!0,u=f.password??null,d=f.range instanceof Ox?f.range:null,p=Number.isInteger(f.rangeChunkSize)&&f.rangeChunkSize>0?f.rangeChunkSize:u2;let m=f.worker instanceof ll?f.worker:null;const v=f.verbosity,w=typeof f.docBaseUrl=="string"&&!hp(f.docBaseUrl)?f.docBaseUrl:null,A=typeof f.cMapUrl=="string"?f.cMapUrl:null,E=f.cMapPacked!==!1,k=f.CMapReaderFactory||p2,L=typeof f.standardFontDataUrl=="string"?f.standardFontDataUrl:null,T=f.StandardFontDataFactory||m2,I=f.stopAtErrors!==!0,D=Number.isInteger(f.maxImageSize)&&f.maxImageSize>-1?f.maxImageSize:-1,F=f.isEvalSupported!==!1,B=typeof f.isOffscreenCanvasSupported=="boolean"?f.isOffscreenCanvasSupported:!on,H=typeof f.isChrome=="boolean"?f.isChrome:!pn.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),$=Number.isInteger(f.canvasMaxAreaInBytes)?f.canvasMaxAreaInBytes:-1,W=typeof f.disableFontFace=="boolean"?f.disableFontFace:on,Q=f.fontExtraProperties===!0,ne=f.enableXfa===!0,te=f.ownerDocument||globalThis.document,_e=f.disableRange===!0,fe=f.disableStream===!0,he=f.disableAutoFetch===!0,we=f.pdfBug===!0,ge=f.CanvasFactory||f2,K=f.FilterFactory||g2,U=f.enableHWA===!0,re=d?d.length:f.length??NaN,J=typeof f.useSystemFonts=="boolean"?f.useSystemFonts:!on&&!W,N=typeof f.useWorkerFetch=="boolean"?f.useWorkerFetch:k===vx&&T===bx&&A&&L&&Zc(A,document.baseURI)&&Zc(L,document.baseURI);f.canvasFactory&&rw("`canvasFactory`-instance option, please use `CanvasFactory` instead."),f.filterFactory&&rw("`filterFactory`-instance option, please use `FilterFactory` instead.");const V=null;ZS(v);const oe={canvasFactory:new ge({ownerDocument:te,enableHWA:U}),filterFactory:new K({docId:t,ownerDocument:te}),cMapReaderFactory:N?null:new k({baseUrl:A,isCompressed:E}),standardFontDataFactory:N?null:new T({baseUrl:L})};if(!m){const ye={verbosity:v,port:Wi.workerPort};m=ye.port?ll.fromPort(ye):new ll(ye),e._worker=m}const xe={docId:t,apiVersion:"4.8.69",data:r,password:u,disableAutoFetch:he,rangeChunkSize:p,length:re,docBaseUrl:w,enableXfa:ne,evaluatorOptions:{maxImageSize:D,disableFontFace:W,ignoreErrors:I,isEvalSupported:F,isOffscreenCanvasSupported:B,isChrome:H,canvasMaxAreaInBytes:$,fontExtraProperties:Q,useSystemFonts:J,cMapUrl:N?A:null,standardFontDataUrl:N?L:null}},ke={disableFontFace:W,fontExtraProperties:Q,ownerDocument:te,pdfBug:we,styleElement:V,loadingParams:{disableAutoFetch:he,enableXfa:ne}};return m.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ye=m.messageHandler.sendWithPromise("GetDocRequest",xe,r?[r.buffer]:null);let me;if(d)me=new $E(d,{disableRange:_e,disableStream:fe});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let Re;on?Re=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Zc(s)?yw:s2:Re=Zc(s)?yw:JE,me=new Re({url:s,length:re,httpHeaders:o,withCredentials:c,rangeChunkSize:p,disableRange:_e,disableStream:fe})}return ye.then(Re=>{if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Oe=new au(t,Re,m.port),Ie=new _2(Oe,e,me,ke,oe);e._transport=Ie,Oe.send("Ready",null)})}).catch(e._capability.reject),e}function v2(f){if(f instanceof URL)return f.href;try{return new URL(f,window.location).href}catch{if(on&&typeof f=="string")return f}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function w2(f){if(on&&typeof Buffer<"u"&&f instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(f instanceof Uint8Array&&f.byteLength===f.buffer.byteLength)return f;if(typeof f=="string")return cp(f);if(f instanceof ArrayBuffer||ArrayBuffer.isView(f)||typeof f=="object"&&!isNaN(f==null?void 0:f.length))return new Uint8Array(f);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function vw(f){return typeof f=="object"&&Number.isInteger(f==null?void 0:f.num)&&f.num>=0&&Number.isInteger(f==null?void 0:f.gen)&&f.gen>=0}var Kf;const Qf=class Qf{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${un(Qf,Kf)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Kf=new WeakMap,C(Qf,Kf,0);let n0=Qf,Ox=class{constructor(e,t,s=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const s of this._rangeListeners)s(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class x2{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Dr,Ti,rs,sl,ff;class A2{constructor(e,t,s,r=!1){C(this,rs);C(this,Dr,null);C(this,Ti,!1);this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=r?new iw:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new jx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}={}){return new Ih({viewBox:this.view,scale:e,rotation:t,offsetX:s,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ze(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:r=xr.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1}){var F,B;(F=this._stats)==null||F.time("Overall");const w=this._transport.getRenderingIntent(s,r,m,v),{renderingIntent:A,cacheKey:E}=w;x(this,Ti,!1),_(this,rs,ff).call(this),u||(u=this._transport.getOptionalContentConfig(A));let k=this._intentStates.get(E);k||(k=Object.create(null),this._intentStates.set(E,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const L=!!(A&Vn.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(B=this._stats)==null||B.time("Page Request"),this._pumpOperatorList(w));const T=H=>{var $;k.renderTasks.delete(I),(this._maybeCleanupAfterRender||L)&&x(this,Ti,!0),_(this,rs,sl).call(this,!L),H?(I.capability.reject(H),this._abortOperatorList({intentState:k,reason:H instanceof Error?H:new Error(H)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),($=globalThis.Stats)!=null&&$.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new i0({callback:T,params:{canvasContext:e,viewport:t,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:p});(k.renderTasks||(k.renderTasks=new Set)).add(I);const D=I.task;return Promise.all([k.displayReadyCapability.promise,u]).then(([H,$])=>{var W;if(this.destroyed){T();return}if((W=this._stats)==null||W.time("Rendering"),!($.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:H,optionalContentConfig:$}),I.operatorListChanged()}).catch(T),D}getOperatorList({intent:e="display",annotationMode:t=xr.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){var p;function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const c=this._transport.getRenderingIntent(e,t,s,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>vu.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,r){function o(){c.read().then(function({value:d,done:p}){if(p){s(u);return}u.lang??(u.lang=d.lang),Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const c=t.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),x(this,Ti,!1),_(this,rs,ff).call(this),Promise.all(e)}cleanup(e=!1){x(this,Ti,!0);const t=_(this,rs,sl).call(this,!1);return e&&t&&this._stats&&(this._stats=new iw),t}_startRenderPage(e,t){var r,o;const s=this._intentStates.get(t);s&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=s.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,t){for(let s=0,r=e.length;s<r;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&_(this,rs,sl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:r}){const{map:o,transfer:c}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:r},c).getReader(),p=this._intentStates.get(t);p.streamReader=d;const m=()=>{d.read().then(({value:v,done:w})=>{if(w){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),m())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const w of p.renderTasks)w.operatorListChanged();_(this,rs,sl).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof $0){let r=h2;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Co(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Dr=new WeakMap,Ti=new WeakMap,rs=new WeakSet,sl=function(e=!1){if(_(this,rs,ff).call(this),!l(this,Ti)||this.destroyed)return!1;if(e)return x(this,Dr,setTimeout(()=>{x(this,Dr,null),_(this,rs,sl).call(this,!1)},d2)),!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Ti,!1),!0},ff=function(){l(this,Dr)&&(clearTimeout(l(this,Dr)),x(this,Dr,null))};var Pi,Jf;class b2{constructor(){C(this,Pi,new Map);C(this,Jf,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};l(this,Jf).then(()=>{for(const[r]of l(this,Pi))r.call(this,s)})}addEventListener(e,t,s=null){let r=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:o}=s;if(o.aborted){Ne("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,t);r=()=>o.removeEventListener("abort",c),o.addEventListener("abort",c)}l(this,Pi).set(t,r)}removeEventListener(e,t){const s=l(this,Pi).get(t);s==null||s(),l(this,Pi).delete(t)}terminate(){for(const[,e]of l(this,Pi))e==null||e();l(this,Pi).clear()}}Pi=new WeakMap,Jf=new WeakMap;var Zf,Ga,Xa,Il,pf,Fl,gf;const rt=class rt{constructor({name:e=null,port:t=null,verbosity:s=eE()}={}){C(this,Il);var r;if(this.name=e,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((r=l(rt,Xa))!=null&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(l(rt,Xa)||x(rt,Xa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return on?Promise.all([Yr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new au("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,Il,pf).call(this)}_initialize(){if(l(rt,Ga)||l(rt,Fl,gf)){this._setupFakeWorker();return}let{workerSrc:e}=rt;try{rt._isSameOrigin(window.location.href,e)||(e=rt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new au("main","worker",t),r=()=>{o.abort(),s.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),s.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}this._messageHandler=s,this._port=t,this._webWorker=t,_(this,Il,pf).call(this)}),s.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const u=new Uint8Array;s.send("test",u,[u.buffer])};c();return}catch{op("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){l(rt,Ga)||(Ne("Setting up fake worker."),x(rt,Ga,!0)),rt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new b2;this._port=t;const s=`fake${un(rt,Zf)._++}`,r=new au(s+"_worker",s,t);e.setup(r,t),this._messageHandler=new au(s,s+"_worker",t),_(this,Il,pf).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=l(rt,Xa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var s;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(s=l(this,Xa))==null?void 0:s.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new rt(e)}static get workerSrc(){if(Wi.workerSrc)return Wi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ze(this,"_setupFakeWorkerGlobal",(async()=>l(this,Fl,gf)?l(this,Fl,gf):(await import(this.workerSrc)).WorkerMessageHandler)())}};Zf=new WeakMap,Ga=new WeakMap,Xa=new WeakMap,Il=new WeakSet,pf=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Fl=new WeakSet,gf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},C(rt,Fl),C(rt,Zf,0),C(rt,Ga,!1),C(rt,Xa),on&&(x(rt,Ga,!0),Wi.workerSrc||(Wi.workerSrc="./pdf.worker.mjs")),rt._isSameOrigin=(e,t)=>{let s;try{if(s=new URL(e),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(t,s);return s.origin===r.origin},rt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ll=rt;var Li,Js,Dl,Ol,Zs,qa,ou;class _2{constructor(e,t,s,r,o){C(this,qa);C(this,Li,new Map);C(this,Js,new Map);C(this,Dl,new Map);C(this,Ol,new Map);C(this,Zs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new jx,this.fontLoader=new xE({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ze(this,"annotationStorage",new q0)}getRenderingIntent(e,t=xr.ENABLE,s=null,r=!1,o=!1){let c=Vn.DISPLAY,u=$m;switch(e){case"any":c=Vn.ANY;break;case"display":break;case"print":c=Vn.PRINT;break;default:Ne(`getRenderingIntent - invalid intent: ${e}`)}const d=c&Vn.PRINT&&s instanceof gx?s:this.annotationStorage;switch(t){case xr.DISABLE:c+=Vn.ANNOTATIONS_DISABLE;break;case xr.ENABLE:break;case xr.ENABLE_FORMS:c+=Vn.ANNOTATIONS_FORMS;break;case xr.ENABLE_STORAGE:c+=Vn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ne(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(c+=Vn.IS_EDITING),o&&(c+=Vn.OPLIST);const{ids:p,hash:m}=d.modifiedIds,v=[c,u.hash,m];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,Zs))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of l(this,Js).values())e.push(r._destroy());l(this,Js).clear(),l(this,Dl).clear(),l(this,Ol).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),l(this,Li).clear(),this.filterFactory.destroy(),Zm.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Co("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,r)=>{Rt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:c}){if(c){r.close();return}Rt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async s=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:c}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((u=t.onProgress)==null||u.call(t,this._lastProgress)),this._fullReader.onProgress=d=>{var p;(p=t.onProgress)==null||p.call(t,{loaded:d.loaded,total:d.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:c}}),e.on("GetRangeReader",(s,r)=>{Rt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(s.begin,s.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:c,done:u}){if(u){r.close();return}Rt(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{o.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new x2(s,this))}),e.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new bm(s.message,s.code);break;case"InvalidPDFException":r=new Bw(s.message);break;case"MissingPDFException":r=new Eo(s.message);break;case"UnexpectedResponseException":r=new lp(s.message,s.status);break;case"UnknownErrorException":r=new _m(s.message,s.details);break;default:nt("DocException - expected a valid Error.")}t._capability.reject(r)}),e.on("PasswordRequest",s=>{if(x(this,Zs,Promise.withResolvers()),t.onPassword){const r=o=>{o instanceof Error?l(this,Zs).reject(o):l(this,Zs).resolve({password:o})};try{t.onPassword(r,s.code)}catch(o){l(this,Zs).reject(o)}}else l(this,Zs).reject(new bm(s.message,s.code));return l(this,Zs).promise}),e.on("DataLoaded",s=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,Js).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,r,o])=>{var c;if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:d,pdfBug:p}=this._params;if("error"in o){const A=o.error;Ne(`Error during font loading: ${A}`),this.commonObjs.resolve(s,A);break}const m=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(A,E)=>globalThis.FontInspector.fontAdded(A,E):null,v=new AE(o,{disableFontFace:u,inspectFont:m});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d&&v.data&&(v.data=null),this.commonObjs.resolve(s,v)});break;case"CopyLocalImage":const{imageRef:w}=o;Rt(w,"The imageRef must be defined.");for(const A of l(this,Js).values())for(const[,E]of A.objs)if((E==null?void 0:E.ref)===w)return E.dataLen?(this.commonObjs.resolve(s,structuredClone(E)),E.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([s,r,o,c])=>{var d;if(this.destroyed)return;const u=l(this,Js).get(r);if(!u.objs.has(s)){if(u._intentStates.size===0){(d=c==null?void 0:c.bitmap)==null||d.close();return}switch(o){case"Image":u.objs.resolve(s,c),(c==null?void 0:c.dataLen)>YS&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",s=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:s.loaded,total:s.total})}),e.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),e.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&Ne("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((s=this._fullReader)==null?void 0:s.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=l(this,Dl).get(t);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&l(this,Ol).set(o.refStr,e);const c=new A2(t,o,this,this._params.pdfBug);return l(this,Js).set(t,c),c});return l(this,Dl).set(t,r),r}getPageIndex(e){return vw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return _(this,qa,ou).call(this,"GetFieldObjects")}hasJSActions(){return _(this,qa,ou).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,qa,ou).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,qa,ou).call(this,"GetOptionalContentConfig").then(t=>new VE(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,Li).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,c;return{info:r[0],metadata:r[1]?new BE(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return l(this,Li).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Js).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,Li).clear(),this.filterFactory.destroy(!0),Zm.cleanup()}}cachedPageNumber(e){if(!vw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,Ol).get(t)??null}}Li=new WeakMap,Js=new WeakMap,Dl=new WeakMap,Ol=new WeakMap,Zs=new WeakMap,qa=new WeakSet,ou=function(e,t=null){const s=l(this,Li).get(e);if(s)return s;const r=this.messageHandler.sendWithPromise(e,t);return l(this,Li).set(e,r),r};const ef=Symbol("INITIAL_DATA");var Ss,th,s0;class jx{constructor(){C(this,th);C(this,Ss,Object.create(null))}get(e,t=null){if(t){const r=_(this,th,s0).call(this,e);return r.promise.then(()=>t(r.data)),null}const s=l(this,Ss)[e];if(!s||s.data===ef)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=l(this,Ss)[e];return!!t&&t.data!==ef}resolve(e,t=null){const s=_(this,th,s0).call(this,e);s.data=t,s.resolve()}clear(){var e;for(const t in l(this,Ss)){const{data:s}=l(this,Ss)[t];(e=s==null?void 0:s.bitmap)==null||e.close()}x(this,Ss,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,Ss)){const{data:t}=l(this,Ss)[e];t!==ef&&(yield[e,t])}}}Ss=new WeakMap,th=new WeakSet,s0=function(e){var t;return(t=l(this,Ss))[e]||(t[e]={...Promise.withResolvers(),data:ef})};var Or;class S2{constructor(e){C(this,Or,null);x(this,Or,e),this.onContinue=null}get promise(){return l(this,Or).capability.promise}cancel(e=0){l(this,Or).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,Or).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,Or);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Or=new WeakMap;var jr,Ya;const xa=class xa{constructor({callback:e,params:t,objs:s,commonObjs:r,annotationCanvasMap:o,operatorList:c,pageIndex:u,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:w=null}){C(this,jr,null);this.callback=e,this.params=t,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=v,this.pageColors=w,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new S2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,d;if(this.cancelled)return;if(this._canvas){if(l(xa,Ya).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(xa,Ya).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:o,background:c}=this.params;this.gfx=new ol(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,jr)&&(window.cancelAnimationFrame(l(this,jr)),x(this,jr,null)),l(xa,Ya).delete(this._canvas),this.callback(e||new $0(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,jr,window.requestAnimationFrame(()=>{x(this,jr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(xa,Ya).delete(this._canvas),this.callback())))}};jr=new WeakMap,Ya=new WeakMap,C(xa,Ya,new WeakSet);let i0=xa;const E2="4.8.69",C2="3634dab10";function ww(f){return Math.floor(Math.max(0,Math.min(1,f))*255).toString(16).padStart(2,"0")}function Jc(f){return Math.max(0,Math.min(255,255*f))}class xw{static CMYK_G([e,t,s,r]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Jc(e),[e,e,e]}static G_HTML([e]){const t=ww(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(Jc)}static RGB_HTML(e){return`#${e.map(ww).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,s+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,s,r]){return[Jc(1-Math.min(1,e+r)),Jc(1-Math.min(1,s+r)),Jc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const r=1-e,o=1-t,c=1-s,u=Math.min(r,o,c);return["CMYK",r,o,c,u]}}class k2{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}}class Z0 extends k2{_createSVG(e){return document.createElementNS(vi,e)}}class zx{static setupStorage(e,t,s,r,o){const c=r.getValue(t,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?e.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",u=>{r.setValue(t,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),o==="print")break;e.addEventListener("input",u=>{r.setValue(t,{value:u.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const u of s.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}e.addEventListener("input",u=>{const d=u.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:p})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:r,linkService:o}){const{attributes:c}=t,u=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[d,p]of Object.entries(c))if(p!=null)switch(d){case"class":p.length&&e.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!u||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,p)}u&&o.addLinkAttributes(e,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(e,c.dataId,t,s)}static render(e){var v,w;const t=e.annotationStorage,s=e.linkService,r=e.xfaHtml,o=e.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:o,linkService:s});const u=o!=="richText",d=e.div;if(d.append(c),e.viewport){const A=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=A}u&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const A=document.createTextNode(r.value);c.append(A),u&&vu.shouldBuildText(r.name)&&p.push(A)}return{textDivs:p}}const m=[[r,-1,c]];for(;m.length>0;){const[A,E,k]=m.at(-1);if(E+1===A.children.length){m.pop();continue}const L=A.children[++m.at(-1)[1]];if(L===null)continue;const{name:T}=L;if(T==="#text"){const D=document.createTextNode(L.value);p.push(D),k.append(D);continue}const I=(v=L==null?void 0:L.attributes)!=null&&v.xmlns?document.createElementNS(L.attributes.xmlns,T):document.createElement(T);if(k.append(I),L.attributes&&this.setAttributes({html:I,element:L,storage:t,intent:o,linkService:s}),((w=L.children)==null?void 0:w.length)>0)m.push([L,-1,I]);else if(L.value){const D=document.createTextNode(L.value);u&&vu.shouldBuildText(T)&&p.push(D),I.append(D)}}for(const A of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Dh=1e3,T2=9,Ao=new WeakSet;function Gi(f){return{width:f[2]-f[0],height:f[3]-f[1]}}class P2{static create(e){switch(e.data.annotationType){case kt.LINK:return new Hx(e);case kt.TEXT:return new L2(e);case kt.WIDGET:switch(e.data.fieldType){case"Tx":return new R2(e);case"Btn":return e.data.radioButton?new Vx(e):e.data.checkBox?new N2(e):new I2(e);case"Ch":return new F2(e);case"Sig":return new M2(e)}return new ko(e);case kt.POPUP:return new a0(e);case kt.FREETEXT:return new qx(e);case kt.LINE:return new O2(e);case kt.SQUARE:return new j2(e);case kt.CIRCLE:return new z2(e);case kt.POLYLINE:return new Yx(e);case kt.CARET:return new B2(e);case kt.INK:return new ey(e);case kt.POLYGON:return new H2(e);case kt.HIGHLIGHT:return new Kx(e);case kt.UNDERLINE:return new U2(e);case kt.SQUIGGLY:return new V2(e);case kt.STRIKEOUT:return new $2(e);case kt.STAMP:return new Qx(e);case kt.FILEATTACHMENT:return new W2(e);default:return new wt(e)}}}var Ka,jl,zl,nh,r0;const iy=class iy{constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){C(this,nh);C(this,Ka,null);C(this,jl,!1);C(this,zl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:s}){return!!(e!=null&&e.str||t!=null&&t.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return iy._hasPopupData(this.data)}updateEdited(e){var s;if(!this.container)return;l(this,Ka)||x(this,Ka,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&_(this,nh,r0).call(this,t),(s=l(this,zl))==null||s.popup.updateEdited(e)}resetEdited(){var e;l(this,Ka)&&(_(this,nh,r0).call(this,l(this,Ka).rect),(e=l(this,zl))==null||e.popup.resetEdited(),x(this,Ka,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof ko||(o.tabIndex=Dh);const{style:c}=o;if(c.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof a0){const{rotation:k}=t;return!t.hasOwnCanvas&&k!==0&&this.setRotation(k,o),o}const{width:u,height:d}=Gi(t.rect);if(!e&&t.borderStyle.width>0){c.borderWidth=`${t.borderStyle.width}px`;const k=t.borderStyle.horizontalCornerRadius,L=t.borderStyle.verticalCornerRadius;if(k>0||L>0){const I=`calc(${k}px * var(--scale-factor)) / calc(${L}px * var(--scale-factor))`;c.borderRadius=I}else if(this instanceof Vx){const I=`calc(${u}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;c.borderRadius=I}switch(t.borderStyle.style){case Kc.SOLID:c.borderStyle="solid";break;case Kc.DASHED:c.borderStyle="dashed";break;case Kc.BEVELED:Ne("Unimplemented border style: beveled");break;case Kc.INSET:Ne("Unimplemented border style: inset");break;case Kc.UNDERLINE:c.borderBottomStyle="solid";break}const T=t.borderColor||null;T?(x(this,jl,!0),c.borderColor=pe.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const p=pe.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:m,pageHeight:v,pageX:w,pageY:A}=r.rawDims;c.left=`${100*(p[0]-w)/m}%`,c.top=`${100*(p[1]-A)/v}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(c.width=`${100*u/m}%`,c.height=`${100*d/v}%`):this.setRotation(E,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:c}=Gi(this.data.rect);let u,d;e%180===0?(u=100*o/s,d=100*c/r):(u=100*c/s,d=100*o/r),t.style.width=`${u}%`,t.style.height=`${d}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,r)=>{const o=r.detail[t],c=o[0],u=o.slice(1);r.target.style[s]=xw[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[s]:xw[`${c}_rgb`](u)})};return ze(this,"_commonActions",{display:t=>{const{display:s}=t.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const r of Object.keys(t.detail)){const o=e[r]||s[r];o==null||o(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[r,o]of Object.entries(t)){const c=s[r];if(c){const u={detail:{[r]:o},target:e};c(u),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,r,o]=this.data.rect.map(k=>Math.fround(k));if(e.length===8){const[k,L,T,I]=e.subarray(2,6);if(r===k&&o===L&&t===T&&s===I)return}const{style:c}=this.container;let u;if(l(this,jl)){const{borderColor:k,borderWidth:L}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${k}" stroke-width="${L}">`],this.container.classList.add("hasBorder")}const d=r-t,p=o-s,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const w=m.createElement("defs");v.append(w);const A=m.createElement("clipPath"),E=`clippath_${this.data.id}`;A.setAttribute("id",E),A.setAttribute("clipPathUnits","objectBoundingBox"),w.append(A);for(let k=2,L=e.length;k<L;k+=8){const T=e[k],I=e[k+1],D=e[k+2],F=e[k+3],B=m.createElement("rect"),H=(D-t)/d,$=(o-I)/p,W=(T-D)/d,Q=(I-F)/p;B.setAttribute("x",H),B.setAttribute("y",$),B.setAttribute("width",W),B.setAttribute("height",Q),A.append(B),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${$}" width="${W}" height="${Q}"/>`)}l(this,jl)&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(v),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:e}=this,t=x(this,zl,new a0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:c,exportValues:u}of r){if(o===-1||c===t)continue;const d=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Ao.has(p)){Ne(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:d,domElement:p})}return s}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,c=r.getAttribute("data-element-id");c!==t&&Ao.has(r)&&s.push({id:c,exportValue:o,domElement:r})}return s}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ka=new WeakMap,jl=new WeakMap,zl=new WeakMap,nh=new WeakSet,r0=function(e){const{container:{style:t},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:c,pageX:u,pageY:d}}}}=this;s==null||s.splice(0,4,...e);const{width:p,height:m}=Gi(e);t.left=`${100*(e[0]-u)/o}%`,t.top=`${100*(c-e[3]+d)/c}%`,r===0?(t.width=`${100*p/o}%`,t.height=`${100*m/c}%`):this.setRotation(r)};let wt=iy;var $n,ga,Bx,Ux;class Hx extends wt{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});C(this,$n);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let o=!1;return t.url?(s.addLinkAttributes(r,t.url,t.newWindow),o=!0):t.action?(this._bindNamedAction(r,t.action),o=!0):t.attachment?(_(this,$n,Bx).call(this,r,t.attachment,t.attachmentDest),o=!0):t.setOCGState?(_(this,$n,Ux).call(this,r,t.setOCGState),o=!0):t.dest?(this._bindLink(r,t.dest),o=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),o=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&_(this,$n,ga).call(this)}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),_(this,$n,ga).call(this)}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(s.actions)){const c=r.get(o);c&&(t[c]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:o}}),!1})}t.onclick||(t.onclick=()=>!1),_(this,$n,ga).call(this)}_bindResetFormAction(t,s){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),_(this,$n,ga).call(this),!this._fieldObjects){Ne('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var v;r==null||r();const{fields:o,refs:c,include:u}=s,d=[];if(o.length!==0||c.length!==0){const w=new Set(c);for(const A of o){const E=this._fieldObjects[A]||[];for(const{id:k}of E)w.add(k)}for(const A of Object.values(this._fieldObjects))for(const E of A)w.has(E.id)===u&&d.push(E)}else for(const w of Object.values(this._fieldObjects))d.push(...w);const p=this.annotationStorage,m=[];for(const w of d){const{id:A}=w;switch(m.push(A),w.type){case"text":{const k=w.defaultValue||"";p.setValue(A,{value:k});break}case"checkbox":case"radiobutton":{const k=w.defaultValue===w.exportValues;p.setValue(A,{value:k});break}case"combobox":case"listbox":{const k=w.defaultValue||"";p.setValue(A,{value:k});break}default:continue}const E=document.querySelector(`[data-element-id="${A}"]`);if(E){if(!Ao.has(E)){Ne(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}$n=new WeakSet,ga=function(){this.container.setAttribute("data-internal-link","")},Bx=function(t,s,r=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(s.content,s.filename,r),!1},_(this,$n,ga).call(this)},Ux=function(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),_(this,$n,ga).call(this)};class L2 extends wt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ko extends wt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return pn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,r,o){s.includes("mouse")?e.addEventListener(s,c=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(s,c=>{var u;if(s==="blur"){if(!t.focused||!c.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}o&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(c)}}))})}_setEventListeners(e,t,s,r){var o,c,u;for(const[d,p]of s)(p==="Action"||(o=this.data.actions)!=null&&o[p])&&((p==="Focus"||p==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,d,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,t,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":pe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||T2,o=e.style;let c;const u=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(p/(fm*r))||1,v=p/m;c=Math.min(r,d(v/fm))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,d(p/fm))}o.fontSize=`calc(${c}px * var(--scale-factor))`,o.color=pe.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class R2 extends ko{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,r){const o=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[t]=s),o.setValue(c.id,{[r]:s})}render(){var r,o;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const c=e.getValue(t,{value:this.data.fieldValue});let u=c.value||"";const d=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;d&&u.length>d&&(u=u.slice(0,d));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=p??u,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",p??u),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Ao.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Dh,this._setRequired(s,this.data.required),d&&(s.maxLength=d),s.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(s,"value",w.target.value,"value"),m.formattedValue=null}),s.addEventListener("resetform",w=>{const A=this.data.defaultFieldValue??"";s.value=m.userValue=A,m.formattedValue=null});let v=w=>{const{formattedValue:A}=m;A!=null&&(w.target.value=A),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",A=>{var k;if(m.focused)return;const{target:E}=A;m.userValue&&(E.value=m.userValue),m.lastCommittedValue=E.value,m.commitKey=1,(k=this.data.actions)!=null&&k.Focus||(m.focused=!0)}),s.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const E={value(k){m.userValue=k.detail.value??"",e.setValue(t,{value:m.userValue.toString()}),k.target.value=m.userValue},formattedValue(k){const{formattedValue:L}=k.detail;m.formattedValue=L,L!=null&&k.target!==document.activeElement&&(k.target.value=L),e.setValue(t,{formattedValue:L})},selRange(k){k.target.setSelectionRange(...k.detail.selRange)},charLimit:k=>{var D;const{charLimit:L}=k.detail,{target:T}=k;if(L===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",L);let I=m.userValue;!I||I.length<=L||(I=I.slice(0,L),T.value=m.userValue=I,e.setValue(t,{value:I}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:I,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(E,A)}),s.addEventListener("keydown",A=>{var L;m.commitKey=1;let E=-1;if(A.key==="Escape"?E=0:A.key==="Enter"&&!this.data.multiLine?E=2:A.key==="Tab"&&(m.commitKey=3),E===-1)return;const{value:k}=A.target;m.lastCommittedValue!==k&&(m.lastCommittedValue=k,m.userValue=k,(L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:E,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const w=v;v=null,s.addEventListener("blur",A=>{var k,L;if(!m.focused||!A.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(m.focused=!1);const{value:E}=A.target;m.userValue=E,m.lastCommittedValue!==E&&((L=this.linkService.eventBus)==null||L.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),w(A)}),(o=this.data.actions)!=null&&o.Keystroke&&s.addEventListener("beforeinput",A=>{var B;m.lastCommittedValue=null;const{data:E,target:k}=A,{value:L,selectionStart:T,selectionEnd:I}=k;let D=T,F=I;switch(A.inputType){case"deleteWordBackward":{const H=L.substring(0,T).match(/\w*[^\w]*$/);H&&(D-=H[0].length);break}case"deleteWordForward":{const H=L.substring(T).match(/^[^\w]*\w*/);H&&(F+=H[0].length);break}case"deleteContentBackward":T===I&&(D-=1);break;case"deleteContentForward":T===I&&(F+=1);break}A.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:L,change:E||"",willCommit:!1,selStart:D,selEnd:F}})}),this._setEventListeners(s,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&s.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/d;s.classList.add("comb"),s.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class M2 extends ko{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class N2 extends ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ao.add(o),o.setAttribute("data-element-id",s),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=Dh,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const p of this._getElementsByName(u,s)){const m=d&&p.exportValue===t.exportValue;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}e.setValue(s,{value:d})}),o.addEventListener("resetform",c=>{const u=t.defaultFieldValue||"Off";c.target.checked=u===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",c=>{const u={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Vx extends ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let r=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(s,{value:r})),r)for(const c of this._getElementsByName(t.fieldName,s))e.setValue(c.id,{value:!1});const o=document.createElement("input");if(Ao.add(o),o.setAttribute("data-element-id",s),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Dh,o.addEventListener("change",c=>{const{name:u,checked:d}=c.target;for(const p of this._getElementsByName(u,s))e.setValue(p.id,{value:!1});e.setValue(s,{value:d})}),o.addEventListener("resetform",c=>{const u=t.defaultFieldValue;c.target.checked=u!=null&&u===t.buttonValue}),this.enableScripting&&this.hasJSActions){const c=t.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:p=>{const m=c===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const w=m&&v.id===s;v.domElement&&(v.domElement.checked=w),e.setValue(v.id,{value:w})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class I2 extends Hx{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class F2 extends ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ao.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Dh;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const w of r.options)w.selected=w.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,s.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),o=!1),r.append(v)}let c=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=m=>{const v=m?"value":"textContent",{options:w,multiple:A}=r;return A?Array.prototype.filter.call(w,E=>E.selected).map(E=>E[v]):w.selectedIndex===-1?null:w[w.selectedIndex][v]};let d=u(!1);const p=m=>{const v=m.target.options;return Array.prototype.map.call(v,w=>({displayValue:w.textContent,exportValue:w.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const v={value(w){c==null||c();const A=w.detail.value,E=new Set(Array.isArray(A)?A:[A]);for(const k of r.options)k.selected=E.has(k.value);e.setValue(t,{value:u(!0)}),d=u(!1)},multipleSelection(w){r.multiple=!0},remove(w){const A=r.options,E=w.detail.remove;A[E].selected=!1,r.remove(E),A.length>0&&Array.prototype.findIndex.call(A,L=>L.selected)===-1&&(A[0].selected=!0),e.setValue(t,{value:u(!0),items:p(w)}),d=u(!1)},clear(w){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=u(!1)},insert(w){const{index:A,displayValue:E,exportValue:k}=w.detail.insert,L=r.children[A],T=document.createElement("option");T.textContent=E,T.value=k,L?L.before(T):r.append(T),e.setValue(t,{value:u(!0),items:p(w)}),d=u(!1)},items(w){const{items:A}=w.detail;for(;r.length!==0;)r.remove(0);for(const E of A){const{displayValue:k,exportValue:L}=E,T=document.createElement("option");T.textContent=k,T.value=L,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:u(!0),items:p(w)}),d=u(!1)},indices(w){const A=new Set(w.detail.indices);for(const E of w.target.options)E.selected=A.has(E.index);e.setValue(t,{value:u(!0)}),d=u(!1)},editable(w){w.target.disabled=!w.detail.editable}};this._dispatchEventFromSandbox(v,m)}),r.addEventListener("input",m=>{var A;const v=u(!0),w=u(!1);e.setValue(t,{value:v}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:w,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){e.setValue(t,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class a0 extends wt{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:wt._hasPopupData(t)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new D2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",t.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(s=>`${V0}${s}`).join(",")),this.container}}var Hl,ep,tp,Bl,Qa,ft,Ri,Ul,sh,ih,Vl,Mi,Es,Ni,rh,Ii,ah,Ja,Za,Ke,mf,o0,$x,Wx,Gx,Xx,yf,vf,l0;class D2{constructor({container:e,color:t,elements:s,titleObj:r,modificationDate:o,contentsObj:c,richText:u,parent:d,rect:p,parentRect:m,open:v}){C(this,Ke);C(this,Hl,_(this,Ke,Gx).bind(this));C(this,ep,_(this,Ke,l0).bind(this));C(this,tp,_(this,Ke,vf).bind(this));C(this,Bl,_(this,Ke,yf).bind(this));C(this,Qa,null);C(this,ft,null);C(this,Ri,null);C(this,Ul,null);C(this,sh,null);C(this,ih,null);C(this,Vl,null);C(this,Mi,!1);C(this,Es,null);C(this,Ni,null);C(this,rh,null);C(this,Ii,null);C(this,ah,null);C(this,Ja,null);C(this,Za,!1);var w;x(this,ft,e),x(this,ah,r),x(this,Ri,c),x(this,Ii,u),x(this,ih,d),x(this,Qa,t),x(this,rh,p),x(this,Vl,m),x(this,sh,s),x(this,Ul,G0.toDateObject(o)),this.trigger=s.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",l(this,Bl)),A.addEventListener("mouseenter",l(this,tp)),A.addEventListener("mouseleave",l(this,ep)),A.classList.add("popupTriggerArea");for(const A of s)(w=A.container)==null||w.addEventListener("keydown",l(this,Hl));l(this,ft).hidden=!0,v&&_(this,Ke,yf).call(this)}render(){if(l(this,Es))return;const e=x(this,Es,document.createElement("div"));if(e.className="popup",l(this,Qa)){const o=e.style.outlineColor=pe.makeHexColor(...l(this,Qa));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=pe.makeHexColor(...l(this,Qa).map(u=>Math.floor(.7*(255-u)+u)))}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=l(this,ah),e.append(t),l(this,Ul)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,Ul).valueOf()})),t.append(o)}const r=l(this,Ke,mf);if(r)zx.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(l(this,Ri));e.append(o)}l(this,ft).append(e)}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,c=r.length;o<c;++o){const u=r[o];s.append(document.createTextNode(u)),o<c-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:e,popupContent:t}){var s;l(this,Ja)||x(this,Ja,{contentsObj:l(this,Ri),richText:l(this,Ii)}),e&&x(this,Ni,null),t&&(x(this,Ii,_(this,Ke,Wx).call(this,t)),x(this,Ri,null)),(s=l(this,Es))==null||s.remove(),x(this,Es,null)}resetEdited(){var e;l(this,Ja)&&({contentsObj:un(this,Ri)._,richText:un(this,Ii)._}=l(this,Ja),x(this,Ja,null),(e=l(this,Es))==null||e.remove(),x(this,Es,null),x(this,Ni,null))}forceHide(){x(this,Za,this.isVisible),l(this,Za)&&(l(this,ft).hidden=!0)}maybeShow(){l(this,Za)&&(l(this,Es)||_(this,Ke,vf).call(this),x(this,Za,!1),l(this,ft).hidden=!1)}get isVisible(){return l(this,ft).hidden===!1}}Hl=new WeakMap,ep=new WeakMap,tp=new WeakMap,Bl=new WeakMap,Qa=new WeakMap,ft=new WeakMap,Ri=new WeakMap,Ul=new WeakMap,sh=new WeakMap,ih=new WeakMap,Vl=new WeakMap,Mi=new WeakMap,Es=new WeakMap,Ni=new WeakMap,rh=new WeakMap,Ii=new WeakMap,ah=new WeakMap,Ja=new WeakMap,Za=new WeakMap,Ke=new WeakSet,mf=function(){const e=l(this,Ii),t=l(this,Ri);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Ii).html||null},o0=function(){var e,t,s;return((s=(t=(e=l(this,Ke,mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.fontSize)||0},$x=function(){var e,t,s;return((s=(t=(e=l(this,Ke,mf))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:s.color)||null},Wx=function(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:l(this,Ke,$x),fontSize:l(this,Ke,o0)?`calc(${l(this,Ke,o0)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))t.push({name:"span",value:o,attributes:r});return s},Gx=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Mi))&&_(this,Ke,yf).call(this)},Xx=function(){if(l(this,Ni)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:r,pageY:o}}}=l(this,ih);let c=!!l(this,Vl),u=c?l(this,Vl):l(this,rh);for(const E of l(this,sh))if(!u||pe.intersect(E.data.rect,u)!==null){u=E.data.rect,c=!0;break}const d=pe.normalizeRect([u[0],e[3]-u[1]+e[1],u[2],e[3]-u[3]+e[1]]),m=c?u[2]-u[0]+5:0,v=d[0]+m,w=d[1];x(this,Ni,[100*(v-r)/t,100*(w-o)/s]);const{style:A}=l(this,ft);A.left=`${l(this,Ni)[0]}%`,A.top=`${l(this,Ni)[1]}%`},yf=function(){x(this,Mi,!l(this,Mi)),l(this,Mi)?(_(this,Ke,vf).call(this),l(this,ft).addEventListener("click",l(this,Bl)),l(this,ft).addEventListener("keydown",l(this,Hl))):(_(this,Ke,l0).call(this),l(this,ft).removeEventListener("click",l(this,Bl)),l(this,ft).removeEventListener("keydown",l(this,Hl)))},vf=function(){l(this,Es)||this.render(),this.isVisible?l(this,Mi)&&l(this,ft).classList.add("focused"):(_(this,Ke,Xx).call(this),l(this,ft).hidden=!1,l(this,ft).style.zIndex=parseInt(l(this,ft).style.zIndex)+1e3)},l0=function(){l(this,ft).classList.remove("focused"),!(l(this,Mi)||!this.isVisible)&&(l(this,ft).hidden=!0,l(this,ft).style.zIndex=parseInt(l(this,ft).style.zIndex)-1e3)};class qx extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var oh;class O2 extends wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,oh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:s,height:r}=Gi(t.rect),o=this.svgFactory.create(s,r,!0),c=x(this,oh,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),c.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),c.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),c.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,oh)}addHighlightArea(){this.container.classList.add("highlightArea")}}oh=new WeakMap;var lh;class j2 extends wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,lh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:s,height:r}=Gi(t.rect),o=this.svgFactory.create(s,r,!0),c=t.borderStyle.width,u=x(this,lh,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",c/2),u.setAttribute("y",c/2),u.setAttribute("width",s-c),u.setAttribute("height",r-c),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}lh=new WeakMap;var ch;class z2 extends wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,ch,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:s,height:r}=Gi(t.rect),o=this.svgFactory.create(s,r,!0),c=t.borderStyle.width,u=x(this,ch,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",s/2),u.setAttribute("cy",r/2),u.setAttribute("rx",s/2-c/2),u.setAttribute("ry",r/2-c/2),u.setAttribute("stroke-width",c||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,ch)}addHighlightArea(){this.container.classList.add("highlightArea")}}ch=new WeakMap;var uh;class Yx extends wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,uh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:r,popupRef:o}}=this;if(!s)return this.container;const{width:c,height:u}=Gi(t),d=this.svgFactory.create(c,u,!0);let p=[];for(let v=0,w=s.length;v<w;v+=2){const A=s[v]-t[0],E=t[3]-s[v+1];p.push(`${A},${E}`)}p=p.join(" ");const m=x(this,uh,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),d.append(m),this.container.append(d),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}uh=new WeakMap;class H2 extends Yx{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B2 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hh;class ey extends wt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});C(this,hh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Le.HIGHLIGHT:Le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:s,borderStyle:r,popupRef:o}}=this,{width:c,height:u}=Gi(t),d=this.svgFactory.create(c,u,!0);for(const p of s){let m=[];for(let w=0,A=p.length;w<A;w+=2){const E=p[w]-t[0],k=t[3]-p[w+1];m.push(`${E},${k}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);l(this,hh).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),d.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return l(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap;class Kx extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Le.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class U2 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class V2 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class $2 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Qx extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var dh,fh,c0;class W2 extends wt{constructor(t){var r;super(t,{isRenderable:!0});C(this,fh);C(this,dh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let r;s.hasAppearance||s.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),r.addEventListener("dblclick",_(this,fh,c0).bind(this)),x(this,dh,r);const{isMac:o}=pn.platform;return t.addEventListener("keydown",c=>{c.key==="Enter"&&(o?c.metaKey:c.ctrlKey)&&_(this,fh,c0).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return l(this,dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}dh=new WeakMap,fh=new WeakSet,c0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var ph,eo,to,gh,_o,Jx,u0,Nw;let G2=(Nw=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:r,page:o,viewport:c,structTreeLayer:u}){C(this,_o);C(this,ph,null);C(this,eo,null);C(this,to,new Map);C(this,gh,null);this.div=e,x(this,ph,t),x(this,eo,s),x(this,gh,u||null),this.page=o,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return l(this,to).size>0}async render(e){var c;const{annotations:t}=e,s=this.div;wo(s,this.viewport);const r=new Map,o={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Z0,annotationStorage:e.annotationStorage||new q0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const u of t){if(u.noHTML)continue;const d=u.annotationType===kt.POPUP;if(d){const v=r.get(u.id);if(!v)continue;o.elements=v}else{const{width:v,height:w}=Gi(u.rect);if(v<=0||w<=0)continue}o.data=u;const p=P2.create(o);if(!p.isRenderable)continue;if(!d&&u.popupRef){const v=r.get(u.popupRef);v?v.push(p):r.set(u.popupRef,[p])}const m=p.render();u.hidden&&(m.style.visibility="hidden"),await _(this,_o,Jx).call(this,m,u.id),p._isEditable&&(l(this,to).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}_(this,_o,u0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,wo(t,{rotation:e.rotation}),_(this,_o,u0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,to).values())}getEditableAnnotation(e){return l(this,to).get(e)}},ph=new WeakMap,eo=new WeakMap,to=new WeakMap,gh=new WeakMap,_o=new WeakSet,Jx=async function(e,t){var c,u;const s=e.firstChild||e,r=s.id=`${V0}${t}`,o=await((c=l(this,gh))==null?void 0:c.getAriaAttributes(r));if(o)for(const[d,p]of o)s.setAttribute(d,p);this.div.append(e),(u=l(this,ph))==null||u.moveElementInDOM(this.div,e,s,!1)},u0=function(){if(!l(this,eo))return;const e=this.div;for(const[t,s]of l(this,eo)){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(s):o.classList.contains("annotationContent")?o.after(s):o.before(s):r.append(s)}l(this,eo).clear()},Nw);const tf=/\r\n?|\n/g;var Cs,On,mh,no,jn,_t,Zx,eA,tA,wf,qi,xf,Af,nA,d0,sA;const Ze=class Ze extends qe{constructor(t){super({...t,name:"freeTextEditor"});C(this,_t);C(this,Cs);C(this,On,"");C(this,mh,`${this.id}-editor`);C(this,no,null);C(this,jn);x(this,Cs,t.color||Ze._defaultColor||qe._defaultLineColor),x(this,jn,t.fontSize||Ze._defaultFontSize)}static get _keyboardManager(){const t=Ze.prototype,s=c=>c.isEmpty(),r=xo.TRANSLATE_SMALL,o=xo.TRANSLATE_BIG;return ze(this,"_keyboardManager",new Fh([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-o,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[o,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-o],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,o],checker:s}]]))}static initialize(t,s){qe.initialize(t,s);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case Ce.FREETEXT_SIZE:Ze._defaultFontSize=s;break;case Ce.FREETEXT_COLOR:Ze._defaultColor=s;break}}updateParams(t,s){switch(t){case Ce.FREETEXT_SIZE:_(this,_t,Zx).call(this,s);break;case Ce.FREETEXT_COLOR:_(this,_t,eA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ce.FREETEXT_SIZE,Ze._defaultFontSize],[Ce.FREETEXT_COLOR,Ze._defaultColor||qe._defaultLineColor]]}get propertiesToUpdate(){return[[Ce.FREETEXT_SIZE,l(this,jn)],[Ce.FREETEXT_COLOR,l(this,Cs)]]}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ze._internalPadding*t,-(Ze._internalPadding+l(this,jn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),x(this,no,new AbortController);const t=this._uiManager.combinedSignal(l(this,no));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,mh)),this._isDraggable=!0,(t=l(this,no))==null||t.abort(),x(this,no,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,On),s=x(this,On,_(this,_t,tA).call(this).trimEnd());if(t===s)return;const r=o=>{if(x(this,On,o),!o){this.remove();return}_(this,_t,Af).call(this),this._uiManager.rebuild(this),_(this,_t,wf).call(this)};this.addCommands({cmd:()=>{r(s)},undo:()=>{r(t)},mustExec:!1}),_(this,_t,wf).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ze._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,mh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,jn)}px * var(--scale-factor))`,r.color=l(this,Cs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Df(this,this.div,["dblclick","keydown"]),this.width){const[o,c]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[m,v]=this.pageDimensions,[w,A]=this.pageTranslation;let E,k;switch(this.rotation){case 0:E=t+(u[0]-w)/m,k=s+this.height-(u[1]-A)/v;break;case 90:E=t+(u[0]-w)/m,k=s-(u[1]-A)/v,[d,p]=[p,-d];break;case 180:E=t-this.width+(u[0]-w)/m,k=s-(u[1]-A)/v,[d,p]=[-d,-p];break;case 270:E=t+(u[0]-w-this.height*v)/m,k=s+(u[1]-A-this.width*m)/v,[d,p]=[-p,d];break}this.setAt(E*o,k*c,d,p)}else this.setAt(t*o,s*c,this.width*o,this.height*c);_(this,_t,Af).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,k,L;const s=t.clipboardData||window.clipboardData,{types:r}=s;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const o=_(E=Ze,qi,d0).call(E,s.getData("text")||"").replaceAll(tf,`
`);if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const u=c.getRangeAt(0);if(!o.includes(`
`)){u.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:d,startOffset:p}=u,m=[],v=[];if(d.nodeType===Node.TEXT_NODE){const T=d.parentElement;if(v.push(d.nodeValue.slice(p).replaceAll(tf,"")),T!==this.editorDiv){let I=m;for(const D of this.editorDiv.childNodes){if(D===T){I=v;continue}I.push(_(k=Ze,qi,xf).call(k,D))}}m.push(d.nodeValue.slice(0,p).replaceAll(tf,""))}else if(d===this.editorDiv){let T=m,I=0;for(const D of this.editorDiv.childNodes)I++===p&&(T=v),T.push(_(L=Ze,qi,xf).call(L,D))}x(this,On,`${m.join(`
`)}${o}${v.join(`
`)}`),_(this,_t,Af).call(this);const w=new Range;let A=m.reduce((T,I)=>T+I.length,0);for(const{firstChild:T}of this.editorDiv.childNodes)if(T.nodeType===Node.TEXT_NODE){const I=T.nodeValue.length;if(A<=I){w.setStart(T,A),w.setEnd(T,A);break}A-=I}c.removeAllRanges(),c.addRange(w)}get contentDiv(){return this.editorDiv}static async deserialize(t,s,r){var u;let o=null;if(t instanceof qx){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:m,rotation:v,id:w,popupRef:A},textContent:E,textPosition:k,parent:{page:{pageNumber:L}}}=t;if(!E||E.length===0)return null;o=t={annotationType:Le.FREETEXT,color:Array.from(p),fontSize:d,value:E.join(`
`),position:k,pageIndex:L-1,rect:m.slice(0),rotation:v,id:w,deleted:!1,popupRef:A}}const c=await super.deserialize(t,s,r);return x(c,jn,t.fontSize),x(c,Cs,pe.makeHexColor(...t.color)),x(c,On,_(u=Ze,qi,d0).call(u,t.value)),c.annotationElementId=t.id||null,c._initialData=o,c}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Ze._internalPadding*this.parentScale,r=this.getRect(s,s),o=qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Cs)),c={annotationType:Le.FREETEXT,color:o,fontSize:l(this,jn),value:_(this,_t,nA).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?c:this.annotationElementId&&!_(this,_t,sA).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:r}=s;r.fontSize=`calc(${l(this,jn)}px * var(--scale-factor))`,r.color=l(this,Cs),s.replaceChildren();for(const c of l(this,On).split(`
`)){const u=document.createElement("div");u.append(c?document.createTextNode(c):document.createElement("br")),s.append(u)}const o=Ze._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(o,o),popupContent:l(this,On)}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Cs=new WeakMap,On=new WeakMap,mh=new WeakMap,no=new WeakMap,jn=new WeakMap,_t=new WeakSet,Zx=function(t){const s=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-l(this,jn))*this.parentScale),x(this,jn,o),_(this,_t,wf).call(this)},r=l(this,jn);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},eA=function(t){const s=o=>{x(this,Cs,this.editorDiv.style.color=o)},r=l(this,Cs);this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tA=function(){var r;const t=[];this.editorDiv.normalize();let s=null;for(const o of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(t.push(_(r=Ze,qi,xf).call(r,o)),s=o);return t.join(`
`)},wf=function(){const[t,s]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:c}=this,u=c.style.display,d=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",o.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=u,c.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/s):(this.width=r.height/t,this.height=r.width/s),this.fixAndSetPosition()},qi=new WeakSet,xf=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(tf,"")},Af=function(){if(this.editorDiv.replaceChildren(),!!l(this,On))for(const t of l(this,On).split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}},nA=function(){return l(this,On).replaceAll(""," ")},d0=function(t){return t.replaceAll(" ","")},sA=function(t){const{value:s,fontSize:r,color:o,pageIndex:c}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==r||t.color.some((u,d)=>u!==o[d])||t.pageIndex!==c},C(Ze,qi),Ee(Ze,"_freeTextDefaultContent",""),Ee(Ze,"_internalPadding",0),Ee(Ze,"_defaultColor",null),Ee(Ze,"_defaultFontSize",10),Ee(Ze,"_type","freetext"),Ee(Ze,"_editorType",Le.FREETEXT);let h0=Ze;class iA{toSVGPath(){nt("Abstract method `toSVGPath` must be implemented.")}get box(){nt("Abstract getter `box` must be implemented.")}serialize(e,t){nt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){nt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){nt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var zn,ks,$l,Wl,ei,De,so,io,yh,vh,Gl,Xl,zr,wh,np,sp,Mt,lu,rA,aA,oA,lA,cA,uA;const xi=class xi{constructor({x:e,y:t},s,r,o,c,u=0){C(this,Mt);C(this,zn);C(this,ks,[]);C(this,$l);C(this,Wl);C(this,ei,[]);C(this,De,new Float64Array(18));C(this,so);C(this,io);C(this,yh);C(this,vh);C(this,Gl);C(this,Xl);C(this,zr,[]);x(this,zn,s),x(this,Xl,o*r),x(this,Wl,c),l(this,De).set([NaN,NaN,NaN,NaN,e,t],6),x(this,$l,u),x(this,vh,l(xi,wh)*r),x(this,yh,l(xi,sp)*r),x(this,Gl,r),l(this,zr).push(e,t)}isEmpty(){return isNaN(l(this,De)[8])}add({x:e,y:t}){var Q;x(this,so,e),x(this,io,t);const[s,r,o,c]=l(this,zn);let[u,d,p,m]=l(this,De).subarray(8,12);const v=e-p,w=t-m,A=Math.hypot(v,w);if(A<l(this,yh))return!1;const E=A-l(this,vh),k=E/A,L=k*v,T=k*w;let I=u,D=d;u=p,d=m,p+=L,m+=T,(Q=l(this,zr))==null||Q.push(e,t);const F=-T/E,B=L/E,H=F*l(this,Xl),$=B*l(this,Xl);return l(this,De).set(l(this,De).subarray(2,8),0),l(this,De).set([p+H,m+$],4),l(this,De).set(l(this,De).subarray(14,18),12),l(this,De).set([p-H,m-$],16),isNaN(l(this,De)[6])?(l(this,ei).length===0&&(l(this,De).set([u+H,d+$],2),l(this,ei).push(NaN,NaN,NaN,NaN,(u+H-s)/o,(d+$-r)/c),l(this,De).set([u-H,d-$],14),l(this,ks).push(NaN,NaN,NaN,NaN,(u-H-s)/o,(d-$-r)/c)),l(this,De).set([I,D,u,d,p,m],6),!this.isEmpty()):(l(this,De).set([I,D,u,d,p,m],6),Math.abs(Math.atan2(D-d,I-u)-Math.atan2(T,L))<Math.PI/2?([u,d,p,m]=l(this,De).subarray(2,6),l(this,ei).push(NaN,NaN,NaN,NaN,((u+p)/2-s)/o,((d+m)/2-r)/c),[u,d,I,D]=l(this,De).subarray(14,18),l(this,ks).push(NaN,NaN,NaN,NaN,((I+u)/2-s)/o,((D+d)/2-r)/c),!0):([I,D,u,d,p,m]=l(this,De).subarray(0,6),l(this,ei).push(((I+5*u)/6-s)/o,((D+5*d)/6-r)/c,((5*u+p)/6-s)/o,((5*d+m)/6-r)/c,((u+p)/2-s)/o,((d+m)/2-r)/c),[p,m,u,d,I,D]=l(this,De).subarray(12,18),l(this,ks).push(((I+5*u)/6-s)/o,((D+5*d)/6-r)/c,((5*u+p)/6-s)/o,((5*d+m)/6-r)/c,((u+p)/2-s)/o,((d+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,ei),t=l(this,ks);if(isNaN(l(this,De)[6])&&!this.isEmpty())return _(this,Mt,rA).call(this);const s=[];s.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?s.push(`L${e[r+4]} ${e[r+5]}`):s.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);_(this,Mt,oA).call(this,s);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return _(this,Mt,aA).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,r,o,c){return new hA(e,t,s,r,o,c)}getOutlines(){var v;const e=l(this,ei),t=l(this,ks),s=l(this,De),[r,o,c,u]=l(this,zn),d=new Float64Array((((v=l(this,zr))==null?void 0:v.length)??0)+2);for(let w=0,A=d.length-2;w<A;w+=2)d[w]=(l(this,zr)[w]-r)/c,d[w+1]=(l(this,zr)[w+1]-o)/u;if(d[d.length-2]=(l(this,so)-r)/c,d[d.length-1]=(l(this,io)-o)/u,isNaN(s[6])&&!this.isEmpty())return _(this,Mt,lA).call(this,d);const p=new Float64Array(l(this,ei).length+24+l(this,ks).length);let m=e.length;for(let w=0;w<m;w+=2){if(isNaN(e[w])){p[w]=p[w+1]=NaN;continue}p[w]=e[w],p[w+1]=e[w+1]}m=_(this,Mt,uA).call(this,p,m);for(let w=t.length-6;w>=6;w-=6)for(let A=0;A<6;A+=2){if(isNaN(t[w+A])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=t[w+A],p[m+1]=t[w+A+1],m+=2}return _(this,Mt,cA).call(this,p,m),this.newFreeDrawOutline(p,d,l(this,zn),l(this,Gl),l(this,$l),l(this,Wl))}};zn=new WeakMap,ks=new WeakMap,$l=new WeakMap,Wl=new WeakMap,ei=new WeakMap,De=new WeakMap,so=new WeakMap,io=new WeakMap,yh=new WeakMap,vh=new WeakMap,Gl=new WeakMap,Xl=new WeakMap,zr=new WeakMap,wh=new WeakMap,np=new WeakMap,sp=new WeakMap,Mt=new WeakSet,lu=function(){const e=l(this,De).subarray(4,6),t=l(this,De).subarray(16,18),[s,r,o,c]=l(this,zn);return[(l(this,so)+(e[0]-t[0])/2-s)/o,(l(this,io)+(e[1]-t[1])/2-r)/c,(l(this,so)+(t[0]-e[0])/2-s)/o,(l(this,io)+(t[1]-e[1])/2-r)/c]},rA=function(){const[e,t,s,r]=l(this,zn),[o,c,u,d]=_(this,Mt,lu).call(this);return`M${(l(this,De)[2]-e)/s} ${(l(this,De)[3]-t)/r} L${(l(this,De)[4]-e)/s} ${(l(this,De)[5]-t)/r} L${o} ${c} L${u} ${d} L${(l(this,De)[16]-e)/s} ${(l(this,De)[17]-t)/r} L${(l(this,De)[14]-e)/s} ${(l(this,De)[15]-t)/r} Z`},aA=function(e){const t=l(this,ks);e.push(`L${t[4]} ${t[5]} Z`)},oA=function(e){const[t,s,r,o]=l(this,zn),c=l(this,De).subarray(4,6),u=l(this,De).subarray(16,18),[d,p,m,v]=_(this,Mt,lu).call(this);e.push(`L${(c[0]-t)/r} ${(c[1]-s)/o} L${d} ${p} L${m} ${v} L${(u[0]-t)/r} ${(u[1]-s)/o}`)},lA=function(e){const t=l(this,De),[s,r,o,c]=l(this,zn),[u,d,p,m]=_(this,Mt,lu).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(t[2]-s)/o,(t[3]-r)/c,NaN,NaN,NaN,NaN,(t[4]-s)/o,(t[5]-r)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(t[16]-s)/o,(t[17]-r)/c,NaN,NaN,NaN,NaN,(t[14]-s)/o,(t[15]-r)/c],0),this.newFreeDrawOutline(v,e,l(this,zn),l(this,Gl),l(this,$l),l(this,Wl))},cA=function(e,t){const s=l(this,ks);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6},uA=function(e,t){const s=l(this,De).subarray(4,6),r=l(this,De).subarray(16,18),[o,c,u,d]=l(this,zn),[p,m,v,w]=_(this,Mt,lu).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-o)/u,(s[1]-c)/d,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,v,w,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-c)/d],t),t+=24},C(xi,wh,8),C(xi,np,2),C(xi,sp,l(xi,wh)+l(xi,np));let jf=xi;var ql,ro,Fi,xh,Hn,Ah,vt,Pn,cu,uu,dA;class hA extends iA{constructor(t,s,r,o,c,u){super();C(this,Pn);C(this,ql);C(this,ro,null);C(this,Fi);C(this,xh);C(this,Hn);C(this,Ah);C(this,vt);x(this,vt,t),x(this,Hn,s),x(this,ql,r),x(this,Ah,o),x(this,Fi,c),x(this,xh,u),_(this,Pn,dA).call(this,u);const{x:d,y:p,width:m,height:v}=l(this,ro);for(let w=0,A=t.length;w<A;w+=2)t[w]=(t[w]-d)/m,t[w+1]=(t[w+1]-p)/v;for(let w=0,A=s.length;w<A;w+=2)s[w]=(s[w]-d)/m,s[w+1]=(s[w+1]-p)/v}toSVGPath(){const t=[`M${l(this,vt)[4]} ${l(this,vt)[5]}`];for(let s=6,r=l(this,vt).length;s<r;s+=6){if(isNaN(l(this,vt)[s])){t.push(`L${l(this,vt)[s+4]} ${l(this,vt)[s+5]}`);continue}t.push(`C${l(this,vt)[s]} ${l(this,vt)[s+1]} ${l(this,vt)[s+2]} ${l(this,vt)[s+3]} ${l(this,vt)[s+4]} ${l(this,vt)[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,r,o],c){const u=r-t,d=o-s;let p,m;switch(c){case 0:p=_(this,Pn,cu).call(this,l(this,vt),t,o,u,-d),m=_(this,Pn,cu).call(this,l(this,Hn),t,o,u,-d);break;case 90:p=_(this,Pn,uu).call(this,l(this,vt),t,s,u,d),m=_(this,Pn,uu).call(this,l(this,Hn),t,s,u,d);break;case 180:p=_(this,Pn,cu).call(this,l(this,vt),r,s,-u,d),m=_(this,Pn,cu).call(this,l(this,Hn),r,s,-u,d);break;case 270:p=_(this,Pn,uu).call(this,l(this,vt),r,o,-u,-d),m=_(this,Pn,uu).call(this,l(this,Hn),r,o,-u,-d);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return l(this,ro)}newOutliner(t,s,r,o,c,u=0){return new jf(t,s,r,o,c,u)}getNewOutline(t,s){const{x:r,y:o,width:c,height:u}=l(this,ro),[d,p,m,v]=l(this,ql),w=c*m,A=u*v,E=r*m+d,k=o*v+p,L=this.newOutliner({x:l(this,Hn)[0]*w+E,y:l(this,Hn)[1]*A+k},l(this,ql),l(this,Ah),t,l(this,xh),s??l(this,Fi));for(let T=2;T<l(this,Hn).length;T+=2)L.add({x:l(this,Hn)[T]*w+E,y:l(this,Hn)[T+1]*A+k});return L.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ql=new WeakMap,ro=new WeakMap,Fi=new WeakMap,xh=new WeakMap,Hn=new WeakMap,Ah=new WeakMap,vt=new WeakMap,Pn=new WeakSet,cu=function(t,s,r,o,c){const u=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)u[d]=s+t[d]*o,u[d+1]=r+t[d+1]*c;return u},uu=function(t,s,r,o,c){const u=new Float64Array(t.length);for(let d=0,p=t.length;d<p;d+=2)u[d]=s+t[d+1]*o,u[d+1]=r+t[d]*c;return u},dA=function(t){const s=l(this,vt);let r=s[4],o=s[5],c=r,u=o,d=r,p=o,m=r,v=o;const w=t?Math.max:Math.min;for(let T=6,I=s.length;T<I;T+=6){if(isNaN(s[T]))c=Math.min(c,s[T+4]),u=Math.min(u,s[T+5]),d=Math.max(d,s[T+4]),p=Math.max(p,s[T+5]),v<s[T+5]?(m=s[T+4],v=s[T+5]):v===s[T+5]&&(m=w(m,s[T+4]));else{const D=pe.bezierBoundingBox(r,o,...s.slice(T,T+6));c=Math.min(c,D[0]),u=Math.min(u,D[1]),d=Math.max(d,D[2]),p=Math.max(p,D[3]),v<D[3]?(m=D[2],v=D[3]):v===D[3]&&(m=w(m,D[2]))}r=s[T+4],o=s[T+5]}const A=c-l(this,Fi),E=u-l(this,Fi),k=d-c+2*l(this,Fi),L=p-u+2*l(this,Fi);x(this,ro,{x:A,y:E,width:k,height:L,lastPoint:[m,v]})};var bh,Hr,Ts,mn,fA,bf,pA,gA,f0;class Aw{constructor(e,t=0,s=0,r=!0){C(this,mn);C(this,bh);C(this,Hr,[]);C(this,Ts,[]);let o=1/0,c=-1/0,u=1/0,d=-1/0;const p=10**-4;for(const{x:L,y:T,width:I,height:D}of e){const F=Math.floor((L-t)/p)*p,B=Math.ceil((L+I+t)/p)*p,H=Math.floor((T-t)/p)*p,$=Math.ceil((T+D+t)/p)*p,W=[F,H,$,!0],Q=[B,H,$,!1];l(this,Hr).push(W,Q),o=Math.min(o,F),c=Math.max(c,B),u=Math.min(u,H),d=Math.max(d,$)}const m=c-o+2*s,v=d-u+2*s,w=o-s,A=u-s,E=l(this,Hr).at(r?-1:-2),k=[E[0],E[2]];for(const L of l(this,Hr)){const[T,I,D]=L;L[0]=(T-w)/m,L[1]=(I-A)/v,L[2]=(D-A)/v}x(this,bh,{x:w,y:A,width:m,height:v,lastPoint:k})}getOutlines(){l(this,Hr).sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of l(this,Hr))t[3]?(e.push(..._(this,mn,f0).call(this,t)),_(this,mn,pA).call(this,t)):(_(this,mn,gA).call(this,t),e.push(..._(this,mn,f0).call(this,t)));return _(this,mn,fA).call(this,e)}}bh=new WeakMap,Hr=new WeakMap,Ts=new WeakMap,mn=new WeakSet,fA=function(e){const t=[],s=new Set;for(const c of e){const[u,d,p]=c;t.push([u,d,c],[u,p,c])}t.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=t.length;c<u;c+=2){const d=t[c][2],p=t[c+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const r=[];let o;for(;s.size>0;){const c=s.values().next().value;let[u,d,p,m,v]=c;s.delete(c);let w=u,A=d;for(o=[u,p],r.push(o);;){let E;if(s.has(m))E=m;else if(s.has(v))E=v;else break;s.delete(E),[u,d,p,m,v]=E,w!==u&&(o.push(w,A,u,A===d?d:p),w=u),A=A===d?p:d}o.push(w,A)}return new X2(r,l(this,bh))},bf=function(e){const t=l(this,Ts);let s=0,r=t.length-1;for(;s<=r;){const o=s+r>>1,c=t[o][0];if(c===e)return o;c<e?s=o+1:r=o-1}return r+1},pA=function([,e,t]){const s=_(this,mn,bf).call(this,e);l(this,Ts).splice(s,0,[e,t])},gA=function([,e,t]){const s=_(this,mn,bf).call(this,e);for(let r=s;r<l(this,Ts).length;r++){const[o,c]=l(this,Ts)[r];if(o!==e)break;if(o===e&&c===t){l(this,Ts).splice(r,1);return}}for(let r=s-1;r>=0;r--){const[o,c]=l(this,Ts)[r];if(o!==e)break;if(o===e&&c===t){l(this,Ts).splice(r,1);return}}},f0=function(e){const[t,s,r]=e,o=[[t,s,r]],c=_(this,mn,bf).call(this,r);for(let u=0;u<c;u++){const[d,p]=l(this,Ts)[u];for(let m=0,v=o.length;m<v;m++){const[,w,A]=o[m];if(!(p<=w||A<=d)){if(w>=d){if(A>p)o[m][1]=p;else{if(v===1)return[];o.splice(m,1),m--,v--}continue}o[m][2]=d,A>p&&o.push([t,p,A])}}}return o};var _h,Yl;class X2 extends iA{constructor(t,s){super();C(this,_h);C(this,Yl);x(this,Yl,t),x(this,_h,s)}toSVGPath(){const t=[];for(const s of l(this,Yl)){let[r,o]=s;t.push(`M${r} ${o}`);for(let c=2;c<s.length;c+=2){const u=s[c],d=s[c+1];u===r?(t.push(`V${d}`),o=d):d===o&&(t.push(`H${u}`),r=u)}t.push("Z")}return t.join(" ")}serialize([t,s,r,o],c){const u=[],d=r-t,p=o-s;for(const m of l(this,Yl)){const v=new Array(m.length);for(let w=0;w<m.length;w+=2)v[w]=t+m[w]*d,v[w+1]=o-m[w+1]*p;u.push(v)}return u}get box(){return l(this,_h)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}_h=new WeakMap,Yl=new WeakMap;class p0 extends jf{newFreeDrawOutline(e,t,s,r,o,c){return new q2(e,t,s,r,o,c)}get classNamesForDrawing(){return["highlight","free"]}}class q2 extends hA{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,s,r,o,c=0){return new p0(e,t,s,r,o,c)}}var Ps,ao,Kl,Pt,Sh,Ql,Eh,Ch,Br,Ls,Jl,kh,Ye,g0,m0,y0,ma,mA,wr;const Sn=class Sn{constructor({editor:e=null,uiManager:t=null}){C(this,Ye);C(this,Ps,null);C(this,ao,null);C(this,Kl);C(this,Pt,null);C(this,Sh,!1);C(this,Ql,!1);C(this,Eh,null);C(this,Ch);C(this,Br,null);C(this,Ls,null);C(this,Jl);var s;e?(x(this,Ql,!1),x(this,Jl,Ce.HIGHLIGHT_COLOR),x(this,Eh,e)):(x(this,Ql,!0),x(this,Jl,Ce.HIGHLIGHT_DEFAULT_COLOR)),x(this,Ls,(e==null?void 0:e._uiManager)||t),x(this,Ch,l(this,Ls)._eventBus),x(this,Kl,(e==null?void 0:e.color)||((s=l(this,Ls))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),l(Sn,kh)||x(Sn,kh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ze(this,"_keyboardManager",new Fh([[["Escape","mac+Escape"],Sn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Sn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Sn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Sn.prototype._moveToPrevious],[["Home","mac+Home"],Sn.prototype._moveToBeginning],[["End","mac+End"],Sn.prototype._moveToEnd]]))}renderButton(){const e=x(this,Ps,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=l(this,Ls)._signal;e.addEventListener("click",_(this,Ye,ma).bind(this),{signal:t}),e.addEventListener("keydown",_(this,Ye,y0).bind(this),{signal:t});const s=x(this,ao,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=l(this,Kl),e.append(s),e}renderMainDropdown(){const e=x(this,Pt,_(this,Ye,g0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===l(this,Ps)){_(this,Ye,ma).call(this,e);return}const t=e.target.getAttribute("data-color");t&&_(this,Ye,m0).call(this,t,e)}_moveToNext(e){var t,s;if(!l(this,Ye,wr)){_(this,Ye,ma).call(this,e);return}if(e.target===l(this,Ps)){(t=l(this,Pt).firstChild)==null||t.focus();return}(s=e.target.nextSibling)==null||s.focus()}_moveToPrevious(e){var t,s;if(e.target===((t=l(this,Pt))==null?void 0:t.firstChild)||e.target===l(this,Ps)){l(this,Ye,wr)&&this._hideDropdownFromKeyboard();return}l(this,Ye,wr)||_(this,Ye,ma).call(this,e),(s=e.target.previousSibling)==null||s.focus()}_moveToBeginning(e){var t;if(!l(this,Ye,wr)){_(this,Ye,ma).call(this,e);return}(t=l(this,Pt).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,Ye,wr)){_(this,Ye,ma).call(this,e);return}(t=l(this,Pt).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,Pt))==null||e.classList.add("hidden"),(t=l(this,Br))==null||t.abort(),x(this,Br,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,Ql)){if(!l(this,Ye,wr)){(e=l(this,Eh))==null||e.unselect();return}this.hideDropdown(),l(this,Ps).focus({preventScroll:!0,focusVisible:l(this,Sh)})}}updateColor(e){if(l(this,ao)&&(l(this,ao).style.backgroundColor=e),!l(this,Pt))return;const t=l(this,Ls).highlightColors.values();for(const s of l(this,Pt).children)s.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=l(this,Ps))==null||e.remove(),x(this,Ps,null),x(this,ao,null),(t=l(this,Pt))==null||t.remove(),x(this,Pt,null)}};Ps=new WeakMap,ao=new WeakMap,Kl=new WeakMap,Pt=new WeakMap,Sh=new WeakMap,Ql=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,Br=new WeakMap,Ls=new WeakMap,Jl=new WeakMap,kh=new WeakMap,Ye=new WeakSet,g0=function(){const e=document.createElement("div"),t=l(this,Ls)._signal;e.addEventListener("contextmenu",ls,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of l(this,Ls).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=s,o.setAttribute("data-l10n-id",l(Sn,kh)[s]);const c=document.createElement("span");o.append(c),c.className="swatch",c.style.backgroundColor=r,o.setAttribute("aria-selected",r===l(this,Kl)),o.addEventListener("click",_(this,Ye,m0).bind(this,r),{signal:t}),e.append(o)}return e.addEventListener("keydown",_(this,Ye,y0).bind(this),{signal:t}),e},m0=function(e,t){t.stopPropagation(),l(this,Ch).dispatch("switchannotationeditorparams",{source:this,type:l(this,Jl),value:e})},y0=function(e){Sn._keyboardManager.exec(this,e)},ma=function(e){if(l(this,Ye,wr)){this.hideDropdown();return}if(x(this,Sh,e.detail===0),l(this,Br)||(x(this,Br,new AbortController),window.addEventListener("pointerdown",_(this,Ye,mA).bind(this),{signal:l(this,Ls).combinedSignal(l(this,Br))})),l(this,Pt)){l(this,Pt).classList.remove("hidden");return}const t=x(this,Pt,_(this,Ye,g0).call(this));l(this,Ps).append(t)},mA=function(e){var t;(t=l(this,Pt))!=null&&t.contains(e.target)||this.hideDropdown()},wr=function(){return l(this,Pt)&&!l(this,Pt).classList.contains("hidden")},C(Sn,kh,null);let zf=Sn;var Zl,Th,Di,oo,ec,ns,Ph,Lh,lo,Rs,sn,kn,tc,Oi,Lt,nc,ss,Rh,Pe,v0,_f,yA,vA,wA,w0,ya,as,il,xA,Sf,hu,AA,bA,_A,SA,EA;const Ve=class Ve extends qe{constructor(t){super({...t,name:"highlightEditor"});C(this,Pe);C(this,Zl,null);C(this,Th,0);C(this,Di);C(this,oo,null);C(this,ec,null);C(this,ns,null);C(this,Ph,null);C(this,Lh,0);C(this,lo,null);C(this,Rs,null);C(this,sn,null);C(this,kn,!1);C(this,tc,null);C(this,Oi);C(this,Lt,null);C(this,nc,"");C(this,ss);C(this,Rh,"");this.color=t.color||Ve._defaultColor,x(this,ss,t.thickness||Ve._defaultThickness),x(this,Oi,t.opacity||Ve._defaultOpacity),x(this,Di,t.boxes||null),x(this,Rh,t.methodOfCreation||""),x(this,nc,t.text||""),this._isDraggable=!1,t.highlightId>-1?(x(this,kn,!0),_(this,Pe,_f).call(this,t),_(this,Pe,ya).call(this)):l(this,Di)&&(x(this,Zl,t.anchorNode),x(this,Th,t.anchorOffset),x(this,Ph,t.focusNode),x(this,Lh,t.focusOffset),_(this,Pe,v0).call(this),_(this,Pe,ya).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Ve.prototype;return ze(this,"_keyboardManager",new Fh([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,kn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,ss),methodOfCreation:l(this,Rh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,s){var r;qe.initialize(t,s),Ve._defaultColor||(Ve._defaultColor=((r=s.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,s){switch(t){case Ce.HIGHLIGHT_DEFAULT_COLOR:Ve._defaultColor=s;break;case Ce.HIGHLIGHT_THICKNESS:Ve._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return l(this,tc)}updateParams(t,s){switch(t){case Ce.HIGHLIGHT_COLOR:_(this,Pe,yA).call(this,s);break;case Ce.HIGHLIGHT_THICKNESS:_(this,Pe,vA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ce.HIGHLIGHT_DEFAULT_COLOR,Ve._defaultColor],[Ce.HIGHLIGHT_THICKNESS,Ve._defaultThickness]]}get propertiesToUpdate(){return[[Ce.HIGHLIGHT_COLOR,this.color||Ve._defaultColor],[Ce.HIGHLIGHT_THICKNESS,l(this,ss)||Ve._defaultThickness],[Ce.HIGHLIGHT_FREE,l(this,kn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(x(this,ec,new zf({editor:this})),t.addColorPicker(l(this,ec))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,Pe,hu).call(this))}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,_(this,Pe,hu).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,Pe,w0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,Pe,ya).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let s=!1;this.parent&&!t?_(this,Pe,w0).call(this):t&&(_(this,Pe,ya).call(this,t),s=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),s&&this.select()}rotate(t){var o,c,u;const{drawLayer:s}=this.parent;let r;l(this,kn)?(t=(t-this.rotation+360)%360,r=_(o=Ve,as,il).call(o,l(this,Rs).box,t)):r=_(c=Ve,as,il).call(c,this,t),s.rotate(l(this,sn),t),s.rotate(l(this,Lt),t),s.updateBox(l(this,sn),r),s.updateBox(l(this,Lt),_(u=Ve,as,il).call(u,l(this,ns).box,t))}render(){if(this.div)return this.div;const t=super.render();l(this,nc)&&(t.setAttribute("aria-label",l(this,nc)),t.setAttribute("role","mark")),l(this,kn)?t.classList.add("free"):this.div.addEventListener("keydown",_(this,Pe,xA).bind(this),{signal:this._uiManager._signal});const s=x(this,lo,document.createElement("div"));t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,oo);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),Df(this,l(this,lo),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(l(this,Lt),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(l(this,Lt),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:_(this,Pe,Sf).call(this,!0);break;case 1:case 3:_(this,Pe,Sf).call(this,!1);break}}select(){var t,s;super.select(),l(this,Lt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Lt),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(l(this,Lt),"selected"))}unselect(){var t;super.unselect(),l(this,Lt)&&((t=this.parent)==null||t.drawLayer.removeClass(l(this,Lt),"selected"),l(this,kn)||_(this,Pe,Sf).call(this,!1))}get _mustFixPosition(){return!l(this,kn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(l(this,sn),t),this.parent.drawLayer.show(l(this,Lt),t))}static startHighlighting(t,s,{target:r,x:o,y:c}){const{x:u,y:d,width:p,height:m}=r.getBoundingClientRect(),v=new AbortController,w=t.combinedSignal(v),A=k=>{k.preventDefault(),k.stopPropagation()},E=k=>{v.abort(),_(this,as,SA).call(this,t,k)};window.addEventListener("blur",E,{signal:w}),window.addEventListener("pointerup",E,{signal:w}),window.addEventListener("pointerdown",A,{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",ls,{signal:w}),r.addEventListener("pointermove",_(this,as,_A).bind(this,t),{signal:w}),this._freeHighlight=new p0({x:o,y:c},[u,d,p,m],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,s,r){var k,L,T,I;let o=null;if(t instanceof Kx){const{data:{quadPoints:D,rect:F,rotation:B,id:H,color:$,opacity:W,popupRef:Q},parent:{page:{pageNumber:ne}}}=t;o=t={annotationType:Le.HIGHLIGHT,color:Array.from($),opacity:W,quadPoints:D,boxes:null,pageIndex:ne-1,rect:F.slice(0),rotation:B,id:H,deleted:!1,popupRef:Q}}else if(t instanceof ey){const{data:{inkLists:D,rect:F,rotation:B,id:H,color:$,borderStyle:{rawWidth:W},popupRef:Q},parent:{page:{pageNumber:ne}}}=t;o=t={annotationType:Le.HIGHLIGHT,color:Array.from($),thickness:W,inkLists:D,boxes:null,pageIndex:ne-1,rect:F.slice(0),rotation:B,id:H,deleted:!1,popupRef:Q}}const{color:c,quadPoints:u,inkLists:d,opacity:p}=t,m=await super.deserialize(t,s,r);m.color=pe.makeHexColor(...c),x(m,Oi,p||1),d&&x(m,ss,t.thickness),m.annotationElementId=t.id||null,m._initialData=o;const[v,w]=m.pageDimensions,[A,E]=m.pageTranslation;if(u){const D=x(m,Di,[]);for(let F=0;F<u.length;F+=8)D.push({x:(u[F]-A)/v,y:1-(u[F+1]-E)/w,width:(u[F+2]-u[F])/v,height:(u[F+1]-u[F+5])/w});_(k=m,Pe,v0).call(k),_(L=m,Pe,ya).call(L),m.rotate(m.rotation)}else if(d){x(m,kn,!0);const D=d[0],F={x:D[0]-A,y:w-(D[1]-E)},B=new p0(F,[0,0,v,w],1,l(m,ss)/2,!0,.001);for(let W=0,Q=D.length;W<Q;W+=2)F.x=D[W]-A,F.y=w-(D[W+1]-E),B.add(F);const{id:H,clipPathId:$}=s.drawLayer.draw(B,m.color,m._defaultOpacity,!0);_(T=m,Pe,_f).call(T,{highlightOutlines:B.getOutlines(),highlightId:H,clipPathId:$}),_(I=m,Pe,ya).call(I)}return m}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),r=qe._colorManager.convert(this.color),o={annotationType:Le.HIGHLIGHT,color:r,opacity:l(this,Oi),thickness:l(this,ss),quadPoints:_(this,Pe,AA).call(this),outlines:_(this,Pe,bA).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:_(this,Pe,hu).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,Pe,EA).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Zl=new WeakMap,Th=new WeakMap,Di=new WeakMap,oo=new WeakMap,ec=new WeakMap,ns=new WeakMap,Ph=new WeakMap,Lh=new WeakMap,lo=new WeakMap,Rs=new WeakMap,sn=new WeakMap,kn=new WeakMap,tc=new WeakMap,Oi=new WeakMap,Lt=new WeakMap,nc=new WeakMap,ss=new WeakMap,Rh=new WeakMap,Pe=new WeakSet,v0=function(){const t=new Aw(l(this,Di),.001);x(this,Rs,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,Rs).box;const s=new Aw(l(this,Di),.0025,.001,this._uiManager.direction==="ltr");x(this,ns,s.getOutlines());const{lastPoint:r}=l(this,ns).box;x(this,tc,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},_f=function({highlightOutlines:t,highlightId:s,clipPathId:r}){var v,w;if(x(this,Rs,t),x(this,ns,t.getNewOutline(l(this,ss)/2+1.5,.0025)),s>=0)x(this,sn,s),x(this,oo,r),this.parent.drawLayer.finalizeLine(s,t),x(this,Lt,this.parent.drawLayer.drawOutline(l(this,ns)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,sn),t),this.parent.drawLayer.updateBox(l(this,sn),_(v=Ve,as,il).call(v,l(this,Rs).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,Lt),l(this,ns)),this.parent.drawLayer.updateBox(l(this,Lt),_(w=Ve,as,il).call(w,l(this,ns).box,A))}const{x:c,y:u,width:d,height:p}=t.box;switch(this.rotation){case 0:this.x=c,this.y=u,this.width=d,this.height=p;break;case 90:{const[A,E]=this.parentDimensions;this.x=u,this.y=1-c,this.width=d*E/A,this.height=p*A/E;break}case 180:this.x=1-c,this.y=1-u,this.width=d,this.height=p;break;case 270:{const[A,E]=this.parentDimensions;this.x=1-u,this.y=c,this.width=d*E/A,this.height=p*A/E;break}}const{lastPoint:m}=l(this,ns).box;x(this,tc,[(m[0]-c)/d,(m[1]-u)/p])},yA=function(t){const s=(c,u)=>{var d,p,m;this.color=c,(d=this.parent)==null||d.drawLayer.changeColor(l(this,sn),c),(p=l(this,ec))==null||p.updateColor(c),x(this,Oi,u),(m=this.parent)==null||m.drawLayer.changeOpacity(l(this,sn),u)},r=this.color,o=l(this,Oi);this.addCommands({cmd:s.bind(this,t,Ve._defaultOpacity),undo:s.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},vA=function(t){const s=l(this,ss),r=o=>{x(this,ss,o),_(this,Pe,wA).call(this,o)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},wA=function(t){if(!l(this,kn))return;_(this,Pe,_f).call(this,{highlightOutlines:l(this,Rs).getNewOutline(t/2)}),this.fixAndSetPosition();const[s,r]=this.parentDimensions;this.setDims(this.width*s,this.height*r)},w0=function(){l(this,sn)===null||!this.parent||(this.parent.drawLayer.remove(l(this,sn)),x(this,sn,null),this.parent.drawLayer.remove(l(this,Lt)),x(this,Lt,null))},ya=function(t=this.parent){l(this,sn)===null&&({id:un(this,sn)._,clipPathId:un(this,oo)._}=t.drawLayer.draw(l(this,Rs),this.color,l(this,Oi)),x(this,Lt,t.drawLayer.drawOutline(l(this,ns))),l(this,lo)&&(l(this,lo).style.clipPath=l(this,oo)))},as=new WeakSet,il=function({x:t,y:s,width:r,height:o},c){switch(c){case 90:return{x:1-s-o,y:t,width:o,height:r};case 180:return{x:1-t-r,y:1-s-o,width:r,height:o};case 270:return{x:s,y:1-t-r,width:o,height:r}}return{x:t,y:s,width:r,height:o}},xA=function(t){Ve._keyboardManager.exec(this,t)},Sf=function(t){if(!l(this,Zl))return;const s=window.getSelection();t?s.setPosition(l(this,Zl),l(this,Th)):s.setPosition(l(this,Ph),l(this,Lh))},hu=function(){return l(this,kn)?this.rotation:0},AA=function(){if(l(this,kn))return null;const[t,s]=this.pageDimensions,[r,o]=this.pageTranslation,c=l(this,Di),u=new Float32Array(c.length*8);let d=0;for(const{x:p,y:m,width:v,height:w}of c){const A=p*t+r,E=(1-m-w)*s+o;u[d]=u[d+4]=A,u[d+1]=u[d+3]=E,u[d+2]=u[d+6]=A+v*t,u[d+5]=u[d+7]=E+w*s,d+=8}return u},bA=function(t){return l(this,Rs).serialize(t,_(this,Pe,hu).call(this))},_A=function(t,s){this._freeHighlight.add(s)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},SA=function(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},EA=function(t){const{color:s}=this._initialData;return t.color.some((r,o)=>r!==s[o])},C(Ve,as),Ee(Ve,"_defaultColor",null),Ee(Ve,"_defaultOpacity",1),Ee(Ve,"_defaultThickness",12),Ee(Ve,"_type","highlight"),Ee(Ve,"_editorType",Le.HIGHLIGHT),Ee(Ve,"_freeHighlightId",-1),Ee(Ve,"_freeHighlight",null),Ee(Ve,"_freeHighlightClipId","");let Hf=Ve;var co,uo,ti,ji,is,ho,fo,po,zi,sc,go,mo,Ur,Z,CA,kA,TA,PA,A0,LA,b0,RA,MA,NA,IA,FA,va,_0,S0,E0,Ef,Cf,rl,C0,kf,Ki,DA,k0,OA,jA,T0,Tf,du;const lt=class lt extends qe{constructor(t){super({...t,name:"inkEditor"});C(this,Z);C(this,co,0);C(this,uo,0);C(this,ti,null);C(this,ji,new Path2D);C(this,is,!1);C(this,ho,null);C(this,fo,!1);C(this,po,!1);C(this,zi,null);C(this,sc,null);C(this,go,0);C(this,mo,0);C(this,Ur,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,s){qe.initialize(t,s)}static updateDefaultParams(t,s){switch(t){case Ce.INK_THICKNESS:lt._defaultThickness=s;break;case Ce.INK_COLOR:lt._defaultColor=s;break;case Ce.INK_OPACITY:lt._defaultOpacity=s/100;break}}updateParams(t,s){switch(t){case Ce.INK_THICKNESS:_(this,Z,CA).call(this,s);break;case Ce.INK_COLOR:_(this,Z,kA).call(this,s);break;case Ce.INK_OPACITY:_(this,Z,TA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[Ce.INK_THICKNESS,lt._defaultThickness],[Ce.INK_COLOR,lt._defaultColor||qe._defaultLineColor],[Ce.INK_OPACITY,Math.round(lt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Ce.INK_THICKNESS,this.thickness||lt._defaultThickness],[Ce.INK_COLOR,this.color||lt._defaultColor||qe._defaultLineColor],[Ce.INK_OPACITY,Math.round(100*(this.opacity??lt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,Z,Ef).call(this),_(this,Z,Cf).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,Z,rl).call(this)),_(this,Z,du).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,ti)&&(clearTimeout(l(this,ti)),x(this,ti,null)),(t=l(this,zi))==null||t.disconnect(),x(this,zi,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,s]=this.parentDimensions,r=this.width*t,o=this.height*s;this.setDimensions(r,o)}enableEditMode(){l(this,is)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_(this,Z,_0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_(this,Z,S0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,is)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),x(this,is,!0),this.div.classList.add("disabled"),_(this,Z,du).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||l(this,is)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,Z,LA).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),_(this,Z,b0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),_(this,Z,E0).call(this,t)}canvasPointerleave(t){_(this,Z,E0).call(this,t)}get isResizable(){return!this.isEmpty()&&l(this,is)}render(){if(this.div)return this.div;let t,s;this.width&&(t=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,o,c,u]=_(this,Z,PA).call(this);if(this.setAt(r,o,0,0),this.setDims(c,u),_(this,Z,Ef).call(this),this.width){const[d,p]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*p),this.setAt(t*d,s*p,this.width*d,this.height*p),x(this,po,!0),_(this,Z,rl).call(this),this.setDims(this.width*d,this.height*p),_(this,Z,va).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,Z,Cf).call(this),this.div}setDimensions(t,s){const r=Math.round(t),o=Math.round(s);if(l(this,go)===r&&l(this,mo)===o)return;x(this,go,r),x(this,mo,o),this.canvas.style.visibility="hidden";const[c,u]=this.parentDimensions;this.width=t/c,this.height=s/u,this.fixAndSetPosition(),l(this,is)&&_(this,Z,C0).call(this,t,s),_(this,Z,rl).call(this),_(this,Z,va).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,s,r){var L,T,I;if(t instanceof ey)return null;const o=await super.deserialize(t,s,r);o.thickness=t.thickness,o.color=pe.makeHexColor(...t.color),o.opacity=t.opacity;const[c,u]=o.pageDimensions,d=o.width*c,p=o.height*u,m=o.parentScale,v=t.thickness/2;x(o,is,!0),x(o,go,Math.round(d)),x(o,mo,Math.round(p));const{paths:w,rect:A,rotation:E}=t;for(let{bezier:D}of w){D=_(L=lt,Ki,OA).call(L,D,A,E);const F=[];o.paths.push(F);let B=m*(D[0]-v),H=m*(D[1]-v);for(let W=2,Q=D.length;W<Q;W+=6){const ne=m*(D[W]-v),te=m*(D[W+1]-v),_e=m*(D[W+2]-v),fe=m*(D[W+3]-v),he=m*(D[W+4]-v),we=m*(D[W+5]-v);F.push([[B,H],[ne,te],[_e,fe],[he,we]]),B=he,H=we}const $=_(this,Ki,DA).call(this,F);o.bezierPath2D.push($)}const k=_(T=o,Z,T0).call(T);return x(o,uo,Math.max(qe.MIN_SIZE,k[2]-k[0])),x(o,co,Math.max(qe.MIN_SIZE,k[3]-k[1])),_(I=o,Z,C0).call(I,d,p),o}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),s=qe._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Le.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:_(this,Z,jA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};co=new WeakMap,uo=new WeakMap,ti=new WeakMap,ji=new WeakMap,is=new WeakMap,ho=new WeakMap,fo=new WeakMap,po=new WeakMap,zi=new WeakMap,sc=new WeakMap,go=new WeakMap,mo=new WeakMap,Ur=new WeakMap,Z=new WeakSet,CA=function(t){const s=o=>{this.thickness=o,_(this,Z,du).call(this)},r=this.thickness;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},kA=function(t){const s=o=>{this.color=o,_(this,Z,va).call(this)},r=this.color;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TA=function(t){const s=o=>{this.opacity=o,_(this,Z,va).call(this)};t/=100;const r=this.opacity;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ce.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},PA=function(){const{parentRotation:t,parentDimensions:[s,r]}=this;switch(t){case 90:return[0,r,r,s];case 180:return[s,r,s,r];case 270:return[s,0,r,s];default:return[0,0,s,r]}},A0=function(){const{ctx:t,color:s,opacity:r,thickness:o,parentScale:c,scaleFactor:u}=this;t.lineWidth=o*c/u,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${s}${mE(r)}`},LA=function(t,s){this.canvas.addEventListener("contextmenu",ls,{signal:this._uiManager._signal}),_(this,Z,S0).call(this),x(this,ho,new AbortController);const r=this._uiManager.combinedSignal(l(this,ho));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,l(this,po)||(x(this,po,!0),_(this,Z,rl).call(this),this.thickness||(this.thickness=lt._defaultThickness),this.color||(this.color=lt._defaultColor||qe._defaultLineColor),this.opacity??(this.opacity=lt._defaultOpacity)),this.currentPath.push([t,s]),x(this,fo,!1),_(this,Z,A0).call(this),x(this,Ur,()=>{_(this,Z,NA).call(this),l(this,Ur)&&window.requestAnimationFrame(l(this,Ur))}),window.requestAnimationFrame(l(this,Ur))},b0=function(t,s){const[r,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===r&&s===o)return;const c=this.currentPath;let u=l(this,ji);if(c.push([t,s]),x(this,fo,!0),c.length<=2){u.moveTo(...c[0]),u.lineTo(t,s);return}c.length===3&&(x(this,ji,u=new Path2D),u.moveTo(...c[0])),_(this,Z,IA).call(this,u,...c.at(-3),...c.at(-2),t,s)},RA=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);l(this,ji).lineTo(...t)},MA=function(t,s){x(this,Ur,null),t=Math.min(Math.max(t,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),_(this,Z,b0).call(this,t,s),_(this,Z,RA).call(this);let r;if(this.currentPath.length!==1)r=_(this,Z,FA).call(this);else{const p=[t,s];r=[[p,p.slice(),p.slice(),p]]}const o=l(this,ji),c=this.currentPath;this.currentPath=[],x(this,ji,new Path2D);const u=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,Z,Ef).call(this),_(this,Z,Cf).call(this)),_(this,Z,du).call(this))};this.addCommands({cmd:u,undo:d,mustExec:!0})},NA=function(){if(!l(this,fo))return;x(this,fo,!1);const t=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),r=s.map(u=>u[0]),o=s.map(u=>u[1]);Math.min(...r)-t,Math.max(...r)+t,Math.min(...o)-t,Math.max(...o)+t;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)c.stroke(u);c.stroke(l(this,ji)),c.restore()},IA=function(t,s,r,o,c,u,d){const p=(s+o)/2,m=(r+c)/2,v=(o+u)/2,w=(c+d)/2;t.bezierCurveTo(p+2*(o-p)/3,m+2*(c-m)/3,v+2*(o-v)/3,w+2*(c-w)/3,v,w)},FA=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const s=[];let r,[o,c]=t[0];for(r=1;r<t.length-2;r++){const[A,E]=t[r],[k,L]=t[r+1],T=(A+k)/2,I=(E+L)/2,D=[o+2*(A-o)/3,c+2*(E-c)/3],F=[T+2*(A-T)/3,I+2*(E-I)/3];s.push([[o,c],D,F,[T,I]]),[o,c]=[T,I]}const[u,d]=t[r],[p,m]=t[r+1],v=[o+2*(u-o)/3,c+2*(d-c)/3],w=[p+2*(u-p)/3,m+2*(d-m)/3];return s.push([[o,c],v,w,[p,m]]),s},va=function(){if(this.isEmpty()){_(this,Z,kf).call(this);return}_(this,Z,A0).call(this);const{canvas:t,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,t.width,t.height),_(this,Z,kf).call(this);for(const r of this.bezierPath2D)s.stroke(r)},_0=function(){if(l(this,sc))return;x(this,sc,new AbortController);const t=this._uiManager.combinedSignal(l(this,sc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},S0=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},E0=function(t){var s;(s=l(this,ho))==null||s.abort(),x(this,ho,null),_(this,Z,_0).call(this),l(this,ti)&&clearTimeout(l(this,ti)),x(this,ti,setTimeout(()=>{x(this,ti,null),this.canvas.removeEventListener("contextmenu",ls)},10)),_(this,Z,MA).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ef=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Cf=function(){x(this,zi,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),l(this,zi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,zi))==null||t.disconnect(),x(this,zi,null)},{once:!0})},rl=function(){if(!l(this,po))return;const[t,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*s),_(this,Z,kf).call(this)},C0=function(t,s){const r=_(this,Z,Tf).call(this),o=(t-r)/l(this,uo),c=(s-r)/l(this,co);this.scaleFactor=Math.min(o,c)},kf=function(){const t=_(this,Z,Tf).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Ki=new WeakSet,DA=function(t){const s=new Path2D;for(let r=0,o=t.length;r<o;r++){const[c,u,d,p]=t[r];r===0&&s.moveTo(...c),s.bezierCurveTo(u[0],u[1],d[0],d[1],p[0],p[1])}return s},k0=function(t,s,r){const[o,c,u,d]=s;switch(r){case 0:for(let p=0,m=t.length;p<m;p+=2)t[p]+=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,m=t.length;p<m;p+=2){const v=t[p];t[p]=t[p+1]+o,t[p+1]=v+c}break;case 180:for(let p=0,m=t.length;p<m;p+=2)t[p]=u-t[p],t[p+1]+=c;break;case 270:for(let p=0,m=t.length;p<m;p+=2){const v=t[p];t[p]=u-t[p+1],t[p+1]=d-v}break;default:throw new Error("Invalid rotation")}return t},OA=function(t,s,r){const[o,c,u,d]=s;switch(r){case 0:for(let p=0,m=t.length;p<m;p+=2)t[p]-=o,t[p+1]=d-t[p+1];break;case 90:for(let p=0,m=t.length;p<m;p+=2){const v=t[p];t[p]=t[p+1]-c,t[p+1]=v-o}break;case 180:for(let p=0,m=t.length;p<m;p+=2)t[p]=u-t[p],t[p+1]-=c;break;case 270:for(let p=0,m=t.length;p<m;p+=2){const v=t[p];t[p]=d-t[p+1],t[p+1]=u-v}break;default:throw new Error("Invalid rotation")}return t},jA=function(t,s,r,o){var m,v;const c=[],u=this.thickness/2,d=t*s+u,p=t*r+u;for(const w of this.paths){const A=[],E=[];for(let k=0,L=w.length;k<L;k++){const[T,I,D,F]=w[k];if(T[0]===F[0]&&T[1]===F[1]&&L===1){const fe=t*T[0]+d,he=t*T[1]+p;A.push(fe,he),E.push(fe,he);break}const B=t*T[0]+d,H=t*T[1]+p,$=t*I[0]+d,W=t*I[1]+p,Q=t*D[0]+d,ne=t*D[1]+p,te=t*F[0]+d,_e=t*F[1]+p;k===0&&(A.push(B,H),E.push(B,H)),A.push($,W,Q,ne,te,_e),E.push($,W),k===L-1&&E.push(te,_e)}c.push({bezier:_(m=lt,Ki,k0).call(m,A,o,this.rotation),points:_(v=lt,Ki,k0).call(v,E,o,this.rotation)})}return c},T0=function(){let t=1/0,s=-1/0,r=1/0,o=-1/0;for(const c of this.paths)for(const[u,d,p,m]of c){const v=pe.bezierBoundingBox(...u,...d,...p,...m);t=Math.min(t,v[0]),r=Math.min(r,v[1]),s=Math.max(s,v[2]),o=Math.max(o,v[3])}return[t,r,s,o]},Tf=function(){return l(this,is)?Math.ceil(this.thickness*this.parentScale):0},du=function(t=!1){if(this.isEmpty())return;if(!l(this,is)){_(this,Z,va).call(this);return}const s=_(this,Z,T0).call(this),r=_(this,Z,Tf).call(this);x(this,uo,Math.max(qe.MIN_SIZE,s[2]-s[0])),x(this,co,Math.max(qe.MIN_SIZE,s[3]-s[1]));const o=Math.ceil(r+l(this,uo)*this.scaleFactor),c=Math.ceil(r+l(this,co)*this.scaleFactor),[u,d]=this.parentDimensions;this.width=o/u,this.height=c/d,this.setAspectRatio(o,c);const p=this.translationX,m=this.translationY;this.translationX=-s[0],this.translationY=-s[1],_(this,Z,rl).call(this),_(this,Z,va).call(this),x(this,go,o),x(this,mo,c),this.setDims(o,c);const v=t?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,m-this.translationY-v)},C(lt,Ki),Ee(lt,"_defaultColor",null),Ee(lt,"_defaultOpacity",1),Ee(lt,"_defaultThickness",1),Ee(lt,"_type","ink"),Ee(lt,"_editorType",Le.INK);let x0=lt;var ut,Xt,Vr,Hi,$r,ic,ni,Bi,si,Bn,rc,je,fu,pu,Pf,L0,zA,Lf,R0,Rf,HA,BA;const yu=class yu extends qe{constructor(t){super({...t,name:"stampEditor"});C(this,je);C(this,ut,null);C(this,Xt,null);C(this,Vr,null);C(this,Hi,null);C(this,$r,null);C(this,ic,"");C(this,ni,null);C(this,Bi,null);C(this,si,null);C(this,Bn,!1);C(this,rc,!1);x(this,Hi,t.bitmapUrl),x(this,$r,t.bitmapFile)}static initialize(t,s){qe.initialize(t,s)}static get supportedTypes(){return ze(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return ze(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,s){s.pasteEditor(Le.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:c,height:u}=t||this.copyCanvas(null,null,!0).imageData,d=await r.guess({name:"altText",request:{data:o,width:c,height:u,channels:o.length/(c*u)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const p=d.output;return await this.setGuessedAltText(p),s&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var t,s;l(this,Xt)&&(x(this,ut,null),this._uiManager.imageManager.deleteId(l(this,Xt)),(t=l(this,ni))==null||t.remove(),x(this,ni,null),(s=l(this,Bi))==null||s.disconnect(),x(this,Bi,null),l(this,si)&&(clearTimeout(l(this,si)),x(this,si,null))),super.remove()}rebuild(){if(!this.parent){l(this,Xt)&&_(this,je,Pf).call(this);return}super.rebuild(),this.div!==null&&(l(this,Xt)&&l(this,ni)===null&&_(this,je,Pf).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,Vr)||l(this,ut)||l(this,Hi)||l(this,$r)||l(this,Xt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;if(this.width&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),l(this,ut)?_(this,je,L0).call(this):_(this,je,Pf).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(t*r,s*o,this.width*r,this.height*o)}return this.div}copyCanvas(t,s,r=!1){var A;t||(t=224);const{width:o,height:c}=l(this,ut),u=new Em;let d=l(this,ut),p=o,m=c,v=null;if(s){if(o>s||c>s){const W=Math.min(s/o,s/c);p=Math.floor(o*W),m=Math.floor(c*W)}v=document.createElement("canvas");const E=v.width=Math.ceil(p*u.sx),k=v.height=Math.ceil(m*u.sy);l(this,Bn)||(d=_(this,je,Lf).call(this,E,k));const L=v.getContext("2d");L.filter=this._uiManager.hcmFilter;let T="white",I="#cfcfd8";this._uiManager.hcmFilter!=="none"?I="black":(A=window.matchMedia)!=null&&A.call(window,"(prefers-color-scheme: dark)").matches&&(T="#8f8f9d",I="#42414d");const D=15,F=D*u.sx,B=D*u.sy,H=new OffscreenCanvas(F*2,B*2),$=H.getContext("2d");$.fillStyle=T,$.fillRect(0,0,F*2,B*2),$.fillStyle=I,$.fillRect(0,0,F,B),$.fillRect(F,B,F,B),L.fillStyle=L.createPattern(H,"repeat"),L.fillRect(0,0,E,k),L.drawImage(d,0,0,d.width,d.height,0,0,E,k)}let w=null;if(r){let E,k;if(u.symmetric&&d.width<t&&d.height<t)E=d.width,k=d.height;else if(d=l(this,ut),o>t||c>t){const I=Math.min(t/o,t/c);E=Math.floor(o*I),k=Math.floor(c*I),l(this,Bn)||(d=_(this,je,Lf).call(this,E,k))}const T=new OffscreenCanvas(E,k).getContext("2d",{willReadFrequently:!0});T.drawImage(d,0,0,d.width,d.height,0,0,E,k),w={width:E,height:k,data:T.getImageData(0,0,E,k).data}}return{canvas:v,width:p,height:m,imageData:w}}getImageForAltText(){return l(this,ni)}static async deserialize(t,s,r){var k;let o=null;if(t instanceof Qx){const{data:{rect:L,rotation:T,id:I,structParent:D,popupRef:F},container:B,parent:{page:{pageNumber:H}}}=t,$=B.querySelector("canvas"),W=r.imageManager.getFromCanvas(B.id,$);$.remove();const Q=((k=await s._structTree.getAriaAttributes(`${V0}${I}`))==null?void 0:k.get("aria-label"))||"";o=t={annotationType:Le.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:H-1,rect:L.slice(0),rotation:T,id:I,deleted:!1,accessibilityData:{decorative:!1,altText:Q},isSvg:!1,structParent:D,popupRef:F}}const c=await super.deserialize(t,s,r),{rect:u,bitmap:d,bitmapUrl:p,bitmapId:m,isSvg:v,accessibilityData:w}=t;m&&r.imageManager.isValidId(m)?(x(c,Xt,m),d&&x(c,ut,d)):x(c,Hi,p),x(c,Bn,v);const[A,E]=c.pageDimensions;return c.width=(u[2]-u[0])/A,c.height=(u[3]-u[1])/E,c.annotationElementId=t.id||null,w&&(c.altTextData=w),c._initialData=o,x(c,rc,!!o),c}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Le.STAMP,bitmapId:l(this,Xt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,Bn),structTreeParentId:this._structTreeParentId};if(t)return r.bitmapUrl=_(this,je,Rf).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:c}=this.serializeAltText(!1);if(!o&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const d=_(this,je,BA).call(this,r);if(d.isSame)return null;d.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,s===null)return r;s.stamps||(s.stamps=new Map);const u=l(this,Bn)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!s.stamps.has(l(this,Xt)))s.stamps.set(l(this,Xt),{area:u,serialized:r}),r.bitmap=_(this,je,Rf).call(this,!1);else if(l(this,Bn)){const d=s.stamps.get(l(this,Xt));u>d.area&&(d.area=u,d.serialized.bitmap.close(),d.serialized.bitmap=_(this,je,Rf).call(this,!1))}return r}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};ut=new WeakMap,Xt=new WeakMap,Vr=new WeakMap,Hi=new WeakMap,$r=new WeakMap,ic=new WeakMap,ni=new WeakMap,Bi=new WeakMap,si=new WeakMap,Bn=new WeakMap,rc=new WeakMap,je=new WeakSet,fu=function(t,s=!1){if(!t){this.remove();return}x(this,ut,t.bitmap),s||(x(this,Xt,t.id),x(this,Bn,t.isSvg)),t.file&&x(this,ic,t.file.name),_(this,je,L0).call(this)},pu=function(){if(x(this,Vr,null),this._uiManager.enableWaiting(!1),!!l(this,ni)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,ut)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,ut)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Pf=function(){if(l(this,Xt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Xt)).then(r=>_(this,je,fu).call(this,r,!0)).finally(()=>_(this,je,pu).call(this));return}if(l(this,Hi)){const r=l(this,Hi);x(this,Hi,null),this._uiManager.enableWaiting(!0),x(this,Vr,this._uiManager.imageManager.getFromUrl(r).then(o=>_(this,je,fu).call(this,o)).finally(()=>_(this,je,pu).call(this)));return}if(l(this,$r)){const r=l(this,$r);x(this,$r,null),this._uiManager.enableWaiting(!0),x(this,Vr,this._uiManager.imageManager.getFromFile(r).then(o=>_(this,je,fu).call(this,o)).finally(()=>_(this,je,pu).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=yu.supportedTypesStr;const s=this._uiManager._signal;x(this,Vr,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,je,fu).call(this,o)}r()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:s})}).finally(()=>_(this,je,pu).call(this))),t.click()},L0=function(){const{div:t}=this;let{width:s,height:r}=l(this,ut);const[o,c]=this.pageDimensions,u=.75;if(this.width)s=this.width*o,r=this.height*c;else if(s>u*o||r>u*c){const v=Math.min(u*o/s,u*c/r);s*=v,r*=v}const[d,p]=this.parentDimensions;this.setDims(s*d/o,r*p/c),this._uiManager.enableWaiting(!1);const m=x(this,ni,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),_(this,je,R0).call(this,s,r),_(this,je,HA).call(this),l(this,rc)||(this.parent.addUndoableEditor(this),x(this,rc,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,ic)&&m.setAttribute("aria-label",l(this,ic))},zA=function(t,s){var u;const[r,o]=this.parentDimensions;this.width=t/r,this.height=s/o,(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,si)!==null&&clearTimeout(l(this,si)),x(this,si,setTimeout(()=>{x(this,si,null),_(this,je,R0).call(this,t,s)},200))},Lf=function(t,s){const{width:r,height:o}=l(this,ut);let c=r,u=o,d=l(this,ut);for(;c>2*t||u>2*s;){const p=c,m=u;c>2*t&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),u>2*s&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const v=new OffscreenCanvas(c,u);v.getContext("2d").drawImage(d,0,0,p,m,0,0,c,u),d=v.transferToImageBitmap()}return d},R0=function(t,s){const r=new Em,o=Math.ceil(t*r.sx),c=Math.ceil(s*r.sy),u=l(this,ni);if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const d=l(this,Bn)?l(this,ut):_(this,je,Lf).call(this,o,c),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,o,c)},Rf=function(t){if(t){if(l(this,Bn)){const o=this._uiManager.imageManager.getSvgUrl(l(this,Xt));if(o)return o}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,ut),s.getContext("2d").drawImage(l(this,ut),0,0),s.toDataURL()}if(l(this,Bn)){const[s,r]=this.pageDimensions,o=Math.round(this.width*s*qr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*qr.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(o,c);return u.getContext("2d").drawImage(l(this,ut),0,0,l(this,ut).width,l(this,ut).height,0,0,o,c),u.transferToImageBitmap()}return structuredClone(l(this,ut))},HA=function(){this._uiManager._signal&&(x(this,Bi,new ResizeObserver(t=>{const s=t[0].contentRect;s.width&&s.height&&_(this,je,zA).call(this,s.width,s.height)})),l(this,Bi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=l(this,Bi))==null||t.disconnect(),x(this,Bi,null)},{once:!0}))},BA=function(t){var p;const{rect:s,pageIndex:r,accessibilityData:{altText:o}}=this._initialData,c=t.rect.every((m,v)=>Math.abs(m-s[v])<1),u=t.pageIndex===r,d=(((p=t.accessibilityData)==null?void 0:p.alt)||"")===o;return{isSame:c&&u&&d,isSameAltText:d}},Ee(yu,"_type","stamp"),Ee(yu,"_editorType",Le.STAMP);let P0=yu;var yo,ac,ii,Wr,Ui,Un,Gr,oc,lc,rn,Vi,ve,Xr,qt,UA,N0,I0,F0,Mf;const ys=class ys{constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:r,accessibilityManager:o,annotationLayer:c,drawLayer:u,textLayer:d,viewport:p,l10n:m}){C(this,qt);C(this,yo);C(this,ac,!1);C(this,ii,null);C(this,Wr,null);C(this,Ui,null);C(this,Un,new Map);C(this,Gr,!1);C(this,oc,!1);C(this,lc,!1);C(this,rn,null);C(this,Vi,null);C(this,ve);const v=[...l(ys,Xr).values()];if(!ys._initialized){ys._initialized=!0;for(const w of v)w.initialize(m,e)}e.registerEditorTypes(v),x(this,ve,e),this.pageIndex=t,this.div=s,x(this,yo,o),x(this,ii,c),this.viewport=p,x(this,rn,d),this.drawLayer=u,this._structTree=r,l(this,ve).addLayer(this)}get isEmpty(){return l(this,Un).size===0}get isInvisible(){return this.isEmpty&&l(this,ve).getMode()===Le.NONE}updateToolbar(e){l(this,ve).updateToolbar(e)}updateMode(e=l(this,ve).getMode()){switch(_(this,qt,Mf).call(this),e){case Le.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of l(ys,Xr).values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,rn))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(l(this,ve).getMode()!==Le.INK)return;if(!e){for(const s of l(this,Un).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){l(this,ve).setEditingState(e)}addCommands(e){l(this,ve).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,ii))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const s of l(this,Un).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,ve).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!l(this,ii))return;const t=l(this,ii).getEditableAnnotations();for(const s of t){if(s.hide(),l(this,ve).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;x(this,lc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const o of l(this,Un).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else t.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(l(this,ii)){const o=l(this,ii).getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(l(this,ve).isDeletedAnnotationElement(u))continue;let d=t.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=e.get(u),d&&(l(this,ve).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}_(this,qt,Mf).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const o of l(ys,Xr).values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,lc,!1)}getEditableAnnotation(e){var t;return((t=l(this,ii))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ve).getActive()!==e&&l(this,ve).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,rn))!=null&&e.div&&!l(this,Vi)){x(this,Vi,new AbortController);const t=l(this,ve).combinedSignal(l(this,Vi));l(this,rn).div.addEventListener("pointerdown",_(this,qt,UA).bind(this),{signal:t}),l(this,rn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,rn))!=null&&e.div&&l(this,Vi)&&(l(this,Vi).abort(),x(this,Vi,null),l(this,rn).div.classList.remove("highlighting"))}enableClick(){if(l(this,Wr))return;x(this,Wr,new AbortController);const e=l(this,ve).combinedSignal(l(this,Wr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=l(this,Wr))==null||e.abort(),x(this,Wr,null)}attach(e){l(this,Un).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ve).isDeletedAnnotationElement(t)&&l(this,ve).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,Un).delete(e.id),(t=l(this,yo))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,lc)&&e.annotationElementId&&l(this,ve).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ve).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,l(this,oc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ve).addDeletedAnnotationElement(e.annotationElementId),qe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ve).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),l(this,ve).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var s;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,Ui)&&(e._focusEventsAllowed=!1,x(this,Ui,setTimeout(()=>{x(this,Ui,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ve)._signal}),t.focus())},0))),e._structTreeParentId=(s=l(this,yo))==null?void 0:s.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return l(this,ve).getId()}combinedSignal(e){return l(this,ve).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,qt,N0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){l(this,ve).updateToolbar(e),l(this,ve).updateMode(e);const{offsetX:s,offsetY:r}=_(this,qt,F0).call(this),o=this.getNextId(),c=_(this,qt,I0).call(this,{parent:this,id:o,x:s,y:r,uiManager:l(this,ve),isCentered:!0,...t});c&&this.add(c)}async deserialize(e){var t;return await((t=l(ys,Xr).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ve)))||null}createAndAddNewEditor(e,t,s={}){const r=this.getNextId(),o=_(this,qt,I0).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:l(this,ve),isCentered:t,...s});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(_(this,qt,F0).call(this),!0)}setSelected(e){l(this,ve).setSelected(e)}toggleSelected(e){l(this,ve).toggleSelected(e)}unselect(e){l(this,ve).unselect(e)}pointerup(e){const{isMac:t}=pn.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&l(this,Gr)){if(x(this,Gr,!1),!l(this,ac)){x(this,ac,!0);return}if(l(this,ve).getMode()===Le.STAMP){l(this,ve).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(l(this,ve).getMode()===Le.HIGHLIGHT&&this.enableTextSelection(),l(this,Gr)){x(this,Gr,!1);return}const{isMac:t}=pn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;x(this,Gr,!0);const s=l(this,ve).getActive();x(this,ac,!s||s.isEmpty())}findNewParent(e,t,s){const r=l(this,ve).findParent(t,s);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,t;((e=l(this,ve).getActive())==null?void 0:e.parent)===this&&(l(this,ve).commitOrRemove(),l(this,ve).setActiveEditor(null)),l(this,Ui)&&(clearTimeout(l(this,Ui)),x(this,Ui,null));for(const s of l(this,Un).values())(t=l(this,yo))==null||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,Un).clear(),l(this,ve).removeLayer(this)}render({viewport:e}){this.viewport=e,wo(this.div,e);for(const t of l(this,ve).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ve).commitOrRemove(),_(this,qt,Mf).call(this);const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,wo(this.div,{rotation:s}),t!==s)for(const r of l(this,Un).values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ve).viewParameters.realScale}};yo=new WeakMap,ac=new WeakMap,ii=new WeakMap,Wr=new WeakMap,Ui=new WeakMap,Un=new WeakMap,Gr=new WeakMap,oc=new WeakMap,lc=new WeakMap,rn=new WeakMap,Vi=new WeakMap,ve=new WeakMap,Xr=new WeakMap,qt=new WeakSet,UA=function(e){l(this,ve).unselectAll();const{target:t}=e;if(t===l(this,rn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,rn).div.contains(t)){const{isMac:s}=pn.platform;if(e.button!==0||e.ctrlKey&&s)return;l(this,ve).showAllEditors("highlight",!0,!0),l(this,rn).div.classList.add("free"),this.toggleDrawing(),Hf.startHighlighting(this,l(this,ve).direction==="ltr",{target:l(this,rn).div,x:e.x,y:e.y}),l(this,rn).div.addEventListener("pointerup",()=>{l(this,rn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ve)._signal}),e.preventDefault()}},N0=function(){return l(ys,Xr).get(l(this,ve).getMode())},I0=function(e){const t=l(this,qt,N0);return t?new t.prototype.constructor(e):null},F0=function(){const{x:e,y:t,width:s,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),c=Math.max(0,t),u=Math.min(window.innerWidth,e+s),d=Math.min(window.innerHeight,t+r),p=(o+u)/2-e,m=(c+d)/2-t,[v,w]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:v,offsetY:w}},Mf=function(){x(this,oc,!0);for(const e of l(this,Un).values())e.isEmpty()&&e.remove();x(this,oc,!1)},Ee(ys,"_initialized",!1),C(ys,Xr,new Map([h0,x0,P0,Hf].map(e=>[e._editorType,e])));let M0=ys;var ri,Mh,bt,$i,Nh,O0,So,j0,VA;const $t=class $t{constructor({pageIndex:e}){C(this,So);C(this,ri,null);C(this,Mh,0);C(this,bt,new Map);C(this,$i,new Map);this.pageIndex=e}setParent(e){if(!l(this,ri)){x(this,ri,e);return}if(l(this,ri)!==e){if(l(this,bt).size>0)for(const t of l(this,bt).values())t.remove(),e.append(t);x(this,ri,e)}}static get _svgFactory(){return ze(this,"_svgFactory",new Z0)}draw(e,t,s,r=!1){const o=un(this,Mh)._++,c=_(this,So,j0).call(this,e.box);c.classList.add(...e.classNamesForDrawing);const u=$t._svgFactory.createElement("defs");c.append(u);const d=$t._svgFactory.createElement("path");u.append(d);const p=`path_p${this.pageIndex}_${o}`;d.setAttribute("id",p),d.setAttribute("d",e.toSVGPath()),r&&l(this,$i).set(o,d);const m=_(this,So,VA).call(this,u,p),v=$t._svgFactory.createElement("use");return c.append(v),c.setAttribute("fill",t),c.setAttribute("fill-opacity",s),v.setAttribute("href",`#${p}`),l(this,bt).set(o,c),{id:o,clipPathId:`url(#${m})`}}drawOutline(e){const t=un(this,Mh)._++,s=_(this,So,j0).call(this,e.box);s.classList.add(...e.classNamesForOutlining);const r=$t._svgFactory.createElement("defs");s.append(r);const o=$t._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",c),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(e.mustRemoveSelfIntersections){const m=$t._svgFactory.createElement("mask");r.append(m),u=`mask_p${this.pageIndex}_${t}`,m.setAttribute("id",u),m.setAttribute("maskUnits","objectBoundingBox");const v=$t._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=$t._svgFactory.createElement("use");m.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const d=$t._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),u&&d.setAttribute("mask",`url(#${u})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),l(this,bt).set(t,s),t}finalizeLine(e,t){const s=l(this,$i).get(e);l(this,$i).delete(e),this.updateBox(e,t.box),s.setAttribute("d",t.toSVGPath())}updateLine(e,t){l(this,bt).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){l(this,$i).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var s;_(s=$t,Nh,O0).call(s,l(this,bt).get(e),t)}show(e,t){l(this,bt).get(e).classList.toggle("hidden",!t)}rotate(e,t){l(this,bt).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){l(this,bt).get(e).setAttribute("fill",t)}changeOpacity(e,t){l(this,bt).get(e).setAttribute("fill-opacity",t)}addClass(e,t){l(this,bt).get(e).classList.add(t)}removeClass(e,t){l(this,bt).get(e).classList.remove(t)}getSVGRoot(e){return l(this,bt).get(e)}remove(e){l(this,$i).delete(e),l(this,ri)!==null&&(l(this,bt).get(e).remove(),l(this,bt).delete(e))}destroy(){x(this,ri,null);for(const e of l(this,bt).values())e.remove();l(this,bt).clear(),l(this,$i).clear()}};ri=new WeakMap,Mh=new WeakMap,bt=new WeakMap,$i=new WeakMap,Nh=new WeakSet,O0=function(e,{x:t=0,y:s=0,width:r=1,height:o=1}={}){const{style:c}=e;c.top=`${100*s}%`,c.left=`${100*t}%`,c.width=`${100*r}%`,c.height=`${100*o}%`},So=new WeakSet,j0=function(e){var s;const t=$t._svgFactory.create(1,1,!0);return l(this,ri).append(t),t.setAttribute("aria-hidden",!0),_(s=$t,Nh,O0).call(s,t,e),t},VA=function(e,t){const s=$t._svgFactory.createElement("clipPath");e.append(s);const r=`clip_${t}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const o=$t._svgFactory.createElement("use");return s.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),r},C($t,Nh);let D0=$t;var Y2=Te.AbortException,K2=Te.AnnotationEditorLayer,Q2=Te.AnnotationEditorParamsType,J2=Te.AnnotationEditorType,Z2=Te.AnnotationEditorUIManager,$A=Te.AnnotationLayer,WA=Te.AnnotationMode,eC=Te.ColorPicker,tC=Te.DOMSVGFactory,nC=Te.DrawLayer,sC=Te.FeatureTest,ty=Te.GlobalWorkerOptions,iC=Te.ImageKind,rC=Te.InvalidPDFException,aC=Te.MissingPDFException,oC=Te.OPS,lC=Te.OutputScale,cC=Te.PDFDataRangeTransport,uC=Te.PDFDateString,hC=Te.PDFWorker,dC=Te.PasswordResponses,fC=Te.PermissionFlag,pC=Te.PixelsPerInch,gC=Te.RenderingCancelledException,GA=Te.TextLayer,mC=Te.UnexpectedResponseException,yC=Te.Util,vC=Te.VerbosityLevel,wC=Te.XfaLayer,xC=Te.build,AC=Te.createValidAbsoluteUrl,bC=Te.fetchData,XA=Te.getDocument,_C=Te.getFilenameFromUrl,SC=Te.getPdfFilenameFromUrl,EC=Te.getXfaPageViewport,CC=Te.isDataScheme,kC=Te.isPdfFile,TC=Te.noContextMenu,PC=Te.normalizeUnicode,LC=Te.setLayerDimensions,RC=Te.shadow,qA=Te.version;const MC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Y2,AnnotationEditorLayer:K2,AnnotationEditorParamsType:Q2,AnnotationEditorType:J2,AnnotationEditorUIManager:Z2,AnnotationLayer:$A,AnnotationMode:WA,ColorPicker:eC,DOMSVGFactory:tC,DrawLayer:nC,FeatureTest:sC,GlobalWorkerOptions:ty,ImageKind:iC,InvalidPDFException:rC,MissingPDFException:aC,OPS:oC,OutputScale:lC,PDFDataRangeTransport:cC,PDFDateString:uC,PDFWorker:hC,PasswordResponses:dC,PermissionFlag:fC,PixelsPerInch:pC,RenderingCancelledException:gC,TextLayer:GA,UnexpectedResponseException:mC,Util:yC,VerbosityLevel:vC,XfaLayer:wC,build:xC,createValidAbsoluteUrl:AC,fetchData:bC,getDocument:XA,getFilenameFromUrl:_C,getPdfFilenameFromUrl:SC,getXfaPageViewport:EC,isDataScheme:CC,isPdfFile:kC,noContextMenu:TC,normalizeUnicode:PC,setLayerDimensions:LC,shadow:RC,version:qA},Symbol.toStringTag,{value:"Module"}));var Dt=function(f,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return f.concat(o||Array.prototype.slice.call(e))},NC=["onCopy","onCut","onPaste"],IC=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],FC=["onFocus","onBlur"],DC=["onInput","onInvalid","onReset","onSubmit"],OC=["onLoad","onError"],jC=["onKeyDown","onKeyPress","onKeyUp"],zC=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],HC=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],BC=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],UC=["onSelect"],VC=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],$C=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],WC=["onScroll"],GC=["onWheel"],XC=["onAnimationStart","onAnimationEnd","onAnimationIteration"],qC=["onTransitionEnd"],YC=["onToggle"],KC=["onChange"],QC=Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt(Dt([],NC,!0),IC,!0),FC,!0),DC,!0),OC,!0),jC,!0),zC,!0),HC,!0),BC,!0),UC,!0),VC,!0),$C,!0),WC,!0),GC,!0),XC,!0),qC,!0),KC,!0),YC,!0);function YA(f,e){var t={};return QC.forEach(function(s){var r=f[s];r&&(e?t[s]=function(o){return r(o,e(s))}:t[s]=r)}),t}function Oh(f){var e=!1,t=new Promise(function(s,r){f.then(function(o){return!e&&s(o)}).catch(function(o){return!e&&r(o)})});return{promise:t,cancel:function(){e=!0}}}function KA(f){var e,t,s="";if(typeof f=="string"||typeof f=="number")s+=f;else if(typeof f=="object")if(Array.isArray(f)){var r=f.length;for(e=0;e<r;e++)f[e]&&(t=KA(f[e]))&&(s&&(s+=" "),s+=t)}else for(t in f)f[t]&&(s&&(s+=" "),s+=t);return s}function fp(){for(var f,e,t=0,s="",r=arguments.length;t<r;t++)(f=arguments[t])&&(e=KA(f))&&(s&&(s+=" "),s+=e);return s}var JC="Invariant failed";function Qe(f,e){if(!f)throw new Error(JC)}var wm,bw;function ZC(){if(bw)return wm;bw=1;var f=function(){};return wm=f,wm}var ek=ZC();const an=Iw(ek);var _w=Object.prototype.hasOwnProperty;function Sw(f,e,t){for(t of f.keys())if(cl(t,e))return t}function cl(f,e){var t,s,r;if(f===e)return!0;if(f&&e&&(t=f.constructor)===e.constructor){if(t===Date)return f.getTime()===e.getTime();if(t===RegExp)return f.toString()===e.toString();if(t===Array){if((s=f.length)===e.length)for(;s--&&cl(f[s],e[s]););return s===-1}if(t===Set){if(f.size!==e.size)return!1;for(s of f)if(r=s,r&&typeof r=="object"&&(r=Sw(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(f.size!==e.size)return!1;for(s of f)if(r=s[0],r&&typeof r=="object"&&(r=Sw(e,r),!r)||!cl(s[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)f=new Uint8Array(f),e=new Uint8Array(e);else if(t===DataView){if((s=f.byteLength)===e.byteLength)for(;s--&&f.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(f)){if((s=f.byteLength)===e.byteLength)for(;s--&&f[s]===e[s];);return s===-1}if(!t||typeof f=="object"){s=0;for(t in f)if(_w.call(f,t)&&++s&&!_w.call(e,t)||!(t in e)||!cl(f[t],e[t]))return!1;return Object.keys(e).length===s}}return f!==f&&e!==e}const QA=le.createContext(null);function ul({children:f,type:e}){return S.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:f})}const tk="noopener noreferrer nofollow";class nk{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Qe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Qe(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Qe(this.pdfDocument),Qe(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Qe(Array.isArray(t));const s=t[0];new Promise(r=>{Qe(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(o=>{r(o)}).catch(()=>{Qe(!1)}):typeof s=="number"?r(s):Qe(!1)}).then(r=>{const o=r+1;Qe(this.pdfViewer),Qe(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:o})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Qe(this.pdfViewer),Qe(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||tk,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Ew={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},pp=typeof window<"u",JA=pp&&window.location.protocol==="file:";function sk(f){return typeof f<"u"}function pa(f){return sk(f)&&f!==null}function ik(f){return typeof f=="string"}function rk(f){return f instanceof ArrayBuffer}function ak(f){return Qe(pp),f instanceof Blob}function z0(f){return ik(f)&&/^data:/.test(f)}function Cw(f){Qe(z0(f));const[e="",t=""]=f.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function ok(){return pp&&window.devicePixelRatio||1}const ZA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kw(){an(!JA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${ZA}`)}function lk(){an(!JA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${ZA}`)}function bo(f){f!=null&&f.cancel&&f.cancel()}function H0(f,e){return Object.defineProperty(f,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(f,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(f,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(f,"originalHeight",{get(){return this.view[3]},configurable:!0}),f}function ck(f){return f.name==="RenderingCancelledException"}function uk(f){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return t(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(f)})}function hk(f,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return f}}function cc(){return le.useReducer(hk,{value:void 0,error:void 0})}var dk=function(f,e,t,s){function r(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function u(m){try{p(s.next(m))}catch(v){c(v)}}function d(m){try{p(s.throw(m))}catch(v){c(v)}}function p(m){m.done?o(m.value):r(m.value).then(u,d)}p((s=s.apply(f,e||[])).next())})},Tw=function(f,e){var t={};for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&e.indexOf(s)<0&&(t[s]=f[s]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(f);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(f,s[r])&&(t[s[r]]=f[s[r]]);return t};const{PDFDataRangeTransport:fk}=MC,pk=(f,e)=>{switch(e){case Ew.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");f(t);break}case Ew.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");f(t);break}}};function Pw(f){return typeof f=="object"&&f!==null&&("data"in f||"range"in f||"url"in f)}const gk=le.forwardRef(function(e,t){var{children:s,className:r,error:o="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:u,file:d,inputRef:p,imageResourcesPath:m,loading:v="Loading PDF",noData:w="No PDF file specified.",onItemClick:A,onLoadError:E,onLoadProgress:k,onLoadSuccess:L,onPassword:T=pk,onSourceError:I,onSourceSuccess:D,options:F,renderMode:B,rotate:H}=e,$=Tw(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,Q]=cc(),{value:ne,error:te}=W,[_e,fe]=cc(),{value:he,error:we}=_e,ge=le.useRef(new nk),K=le.useRef([]),U=le.useRef(void 0),re=le.useRef(void 0);d&&d!==U.current&&Pw(d)&&(an(!cl(d,U.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),U.current=d),F&&F!==re.current&&(an(!cl(F,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=F);const J=le.useRef({scrollPageIntoView:Ue=>{const{dest:st,pageNumber:St,pageIndex:gt=St-1}=Ue;if(A){A({dest:st,pageIndex:gt,pageNumber:St});return}const Is=K.current[gt];if(Is){Is.scrollIntoView();return}an(!1,`An internal link leading to page ${St} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});le.useImperativeHandle(t,()=>({linkService:ge,pages:K,viewer:J}),[]);function N(){D&&D()}function V(){te&&(an(!1,te.toString()),I&&I(te))}function oe(){Q({type:"RESET"})}le.useEffect(oe,[d,Q]);const xe=le.useCallback(()=>dk(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return z0(d)?{data:Cw(d)}:(kw(),{url:d});if(d instanceof fk)return{range:d};if(rk(d))return{data:d};if(pp&&ak(d))return{data:yield uk(d)};if(Qe(typeof d=="object"),Qe(Pw(d)),"url"in d&&typeof d.url=="string"){if(z0(d.url)){const{url:Ue}=d,st=Tw(d,["url"]),St=Cw(Ue);return Object.assign({data:St},st)}kw()}return d}),[d]);le.useEffect(()=>{const Ue=Oh(xe());return Ue.promise.then(st=>{Q({type:"RESOLVE",value:st})}).catch(st=>{Q({type:"REJECT",error:st})}),()=>{bo(Ue)}},[xe,Q]),le.useEffect(()=>{if(!(typeof ne>"u")){if(ne===!1){V();return}N()}},[ne]);function ke(){he&&(L&&L(he),K.current=new Array(he.numPages),ge.current.setDocument(he))}function ye(){we&&(an(!1,we.toString()),E&&E(we))}le.useEffect(function(){fe({type:"RESET"})},[fe,ne]),le.useEffect(function(){if(!ne)return;const st=F?Object.assign(Object.assign({},ne),F):ne,St=XA(st);k&&(St.onProgress=k),T&&(St.onPassword=T);const gt=St,Is=gt.promise.then(Ji=>{fe({type:"RESOLVE",value:Ji})}).catch(Ji=>{gt.destroyed||fe({type:"REJECT",error:Ji})});return()=>{Is.finally(()=>gt.destroy())}},[F,fe,ne]),le.useEffect(()=>{if(!(typeof he>"u")){if(he===!1){ye();return}ke()}},[he]),le.useEffect(function(){ge.current.setViewer(J.current),ge.current.setExternalLinkRel(c),ge.current.setExternalLinkTarget(u)},[c,u]);const me=le.useCallback((Ue,st)=>{K.current[Ue]=st},[]),Re=le.useCallback(Ue=>{delete K.current[Ue]},[]),Oe=le.useMemo(()=>({imageResourcesPath:m,linkService:ge.current,onItemClick:A,pdf:he,registerPage:me,renderMode:B,rotate:H,unregisterPage:Re}),[m,A,he,me,B,H,Re]),Ie=le.useMemo(()=>YA($,()=>he),[$,he]);function Ns(){return S.jsx(QA.Provider,{value:Oe,children:s})}function Qi(){return d?he==null?S.jsx(ul,{type:"loading",children:typeof v=="function"?v():v}):he===!1?S.jsx(ul,{type:"error",children:typeof o=="function"?o():o}):Ns():S.jsx(ul,{type:"no-data",children:typeof w=="function"?w():w})}return S.jsx("div",Object.assign({className:fp("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Ie,{children:Qi()}))});function eb(){return le.useContext(QA)}function tb(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];var t=f.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(o){t.forEach(function(c){typeof c=="function"?c(o):c&&(c.current=o)})}}const nb=le.createContext(null),sb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},mk=/^H(\d+)$/;function yk(f){return f in sb}function gp(f){return"children"in f}function ib(f){return gp(f)?f.children.length===1&&0 in f.children&&"id"in f.children[0]:!1}function vk(f){const e={};if(gp(f)){const{role:t}=f,s=t.match(mk);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(yk(t)){const r=sb[t];r&&(e.role=r)}}return e}function rb(f){const e={};if(gp(f)){if(f.alt!==void 0&&(e["aria-label"]=f.alt),f.lang!==void 0&&(e.lang=f.lang),ib(f)){const[t]=f.children;if(t){const s=rb(t);return Object.assign(Object.assign({},e),s)}}}else"id"in f&&(e["aria-owns"]=f.id);return e}function wk(f){return f?Object.assign(Object.assign({},vk(f)),rb(f)):null}function ab({className:f,node:e}){const t=le.useMemo(()=>wk(e),[e]),s=le.useMemo(()=>!gp(e)||ib(e)?null:e.children.map((r,o)=>S.jsx(ab,{node:r},o)),[e]);return S.jsx("span",Object.assign({className:f},t,{children:s}))}function mp(){return le.useContext(nb)}function xk(){const f=mp();Qe(f);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=f,[s,r]=cc(),{value:o,error:c}=s,{customTextRenderer:u,page:d}=f;function p(){o&&t&&t(o)}function m(){c&&(an(!1,c.toString()),e&&e(c))}return le.useEffect(function(){r({type:"RESET"})},[r,d]),le.useEffect(function(){if(u||!d)return;const w=Oh(d.getStructTree()),A=w;return w.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>bo(A)},[u,d,r]),le.useEffect(()=>{if(o!==void 0){if(o===!1){m();return}p()}},[o]),o?S.jsx(ab,{className:"react-pdf__Page__structTree structTree",node:o}):null}const Lw=WA;function Ak(f){const e=mp();Qe(e);const t=Object.assign(Object.assign({},e),f),{_className:s,canvasBackground:r,devicePixelRatio:o=ok(),onRenderError:c,onRenderSuccess:u,page:d,renderForms:p,renderTextLayer:m,rotate:v,scale:w}=t,{canvasRef:A}=f;Qe(d);const E=le.useRef(null);function k(){d&&u&&u(H0(d,w))}function L(F){ck(F)||(an(!1,F.toString()),c&&c(F))}const T=le.useMemo(()=>d.getViewport({scale:w*o,rotation:v}),[o,d,v,w]),I=le.useMemo(()=>d.getViewport({scale:w,rotation:v}),[d,v,w]);le.useEffect(function(){if(!d)return;d.cleanup();const{current:B}=E;if(!B)return;B.width=T.width,B.height=T.height,B.style.width=`${Math.floor(I.width)}px`,B.style.height=`${Math.floor(I.height)}px`,B.style.visibility="hidden";const H={annotationMode:p?Lw.ENABLE_FORMS:Lw.ENABLE,canvasContext:B.getContext("2d",{alpha:!1}),viewport:T};r&&(H.background=r);const $=d.render(H),W=$;return $.promise.then(()=>{B.style.visibility="",k()}).catch(L),()=>bo(W)},[r,d,p,T,I]);const D=le.useCallback(()=>{const{current:F}=E;F&&(F.width=0,F.height=0)},[]);return le.useEffect(()=>D,[D]),S.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:tb(A,E),style:{display:"block",userSelect:"none"},children:m?S.jsx(xk,{}):null})}function bk(f){return"str"in f}function _k(){const f=mp();Qe(f);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:c,pageIndex:u,pageNumber:d,rotate:p,scale:m}=f;Qe(c);const[v,w]=cc(),{value:A,error:E}=v,k=le.useRef(null);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function L(){A&&s&&s(A)}function T(){E&&(an(!1,E.toString()),t&&t(E))}le.useEffect(function(){w({type:"RESET"})},[c,w]),le.useEffect(function(){if(!c)return;const W=Oh(c.getTextContent()),Q=W;return W.promise.then(ne=>{w({type:"RESOLVE",value:ne})}).catch(ne=>{w({type:"REJECT",error:ne})}),()=>bo(Q)},[c,w]),le.useEffect(()=>{if(A!==void 0){if(A===!1){T();return}L()}},[A]);const I=le.useCallback(()=>{o&&o()},[o]),D=le.useCallback($=>{an(!1,$.toString()),r&&r($)},[r]);function F(){const $=k.current;$&&$.classList.add("selecting")}function B(){const $=k.current;$&&$.classList.remove("selecting")}const H=le.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return le.useLayoutEffect(function(){if(!c||!A)return;const{current:W}=k;if(!W)return;W.innerHTML="";const Q=c.streamTextContent({includeMarkedContent:!0}),ne={container:W,textContentSource:Q,viewport:H},te=new GA(ne),_e=te;return te.render().then(()=>{const fe=document.createElement("div");fe.className="endOfContent",W.append(fe);const he=W.querySelectorAll('[role="presentation"]');if(e){let we=0;A.items.forEach((ge,K)=>{if(!bk(ge))return;const U=he[we];if(!U)return;const re=e(Object.assign({pageIndex:u,pageNumber:d,itemIndex:K},ge));U.innerHTML=re,we+=ge.str&&ge.hasEOL?2:1})}I()}).catch(D),()=>bo(_e)},[e,D,I,c,u,d,A,H]),S.jsx("div",{className:fp("react-pdf__Page__textContent","textLayer"),onMouseUp:B,onMouseDown:F,ref:k})}function Sk(){const f=eb(),e=mp();Qe(e);const t=Object.assign(Object.assign({},f),e),{imageResourcesPath:s,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:p,pdf:m,renderForms:v,rotate:w,scale:A=1}=t;Qe(m),Qe(p),Qe(r);const[E,k]=cc(),{value:L,error:T}=E,I=le.useRef(null);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function D(){L&&c&&c(L)}function F(){T&&(an(!1,T.toString()),o&&o(T))}le.useEffect(function(){k({type:"RESET"})},[k,p]),le.useEffect(function(){if(!p)return;const Q=Oh(p.getAnnotations()),ne=Q;return Q.promise.then(te=>{k({type:"RESOLVE",value:te})}).catch(te=>{k({type:"REJECT",error:te})}),()=>{bo(ne)}},[k,p]),le.useEffect(()=>{if(L!==void 0){if(L===!1){F();return}D()}},[L]);function B(){d&&d()}function H(W){an(!1,`${W}`),u&&u(W)}const $=le.useMemo(()=>p.getViewport({scale:A,rotation:w}),[p,w,A]);return le.useEffect(function(){if(!m||!p||!r||!L)return;const{current:Q}=I;if(!Q)return;const ne=$.clone({dontFlip:!0}),te={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Q,l10n:null,page:p,structTreeLayer:null,viewport:ne},_e={annotations:L,annotationStorage:m.annotationStorage,div:Q,imageResourcesPath:s,linkService:r,page:p,renderForms:v,viewport:ne};Q.innerHTML="";try{new $A(te).render(_e),B()}catch(fe){H(fe)}return()=>{}},[L,s,r,p,m,v,$]),S.jsx("div",{className:fp("react-pdf__Page__annotations","annotationLayer"),ref:I})}var Ek=function(f,e){var t={};for(var s in f)Object.prototype.hasOwnProperty.call(f,s)&&e.indexOf(s)<0&&(t[s]=f[s]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(f);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(f,s[r])&&(t[s[r]]=f[s[r]]);return t};const Rw=1;function Ck(f){const e=eb(),t=Object.assign(Object.assign({},e),f),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:c,children:u,className:d,customRenderer:p,customTextRenderer:m,devicePixelRatio:v,error:w="Failed to load the page.",height:A,inputRef:E,loading:k="Loading page",noData:L="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:I,onGetStructTreeError:D,onGetStructTreeSuccess:F,onGetTextError:B,onGetTextSuccess:H,onLoadError:$,onLoadSuccess:W,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:ne,onRenderError:te,onRenderSuccess:_e,onRenderTextLayerError:fe,onRenderTextLayerSuccess:he,pageIndex:we,pageNumber:ge,pdf:K,registerPage:U,renderAnnotationLayer:re=!0,renderForms:J=!1,renderMode:N="canvas",renderTextLayer:V=!0,rotate:oe,scale:xe=Rw,unregisterPage:ke,width:ye}=t,me=Ek(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Re,Oe]=cc(),{value:Ie,error:Ns}=Re,Qi=le.useRef(null);Qe(K);const Ue=pa(ge)?ge-1:we??null,st=ge??(pa(we)?we+1:null),St=oe??(Ie?Ie.rotate:null),gt=le.useMemo(()=>{if(!Ie)return null;let Fs=1;const ai=xe??Rw;if(ye||A){const ea=Ie.getViewport({scale:1,rotation:St});ye?Fs=ye/ea.width:A&&(Fs=A/ea.height)}return ai*Fs},[A,Ie,St,xe,ye]);le.useEffect(function(){return()=>{pa(Ue)&&r&&ke&&ke(Ue)}},[r,K,Ue,ke]);function Is(){if(W){if(!Ie||!gt)return;W(H0(Ie,gt))}if(r&&U){if(!pa(Ue)||!Qi.current)return;U(Ue,Qi.current)}}function Ji(){Ns&&(an(!1,Ns.toString()),$&&$(Ns))}le.useEffect(function(){Oe({type:"RESET"})},[Oe,K,Ue]),le.useEffect(function(){if(!K||!st)return;const ai=Oh(K.getPage(st)),ea=ai;return ai.promise.then(oi=>{Oe({type:"RESOLVE",value:oi})}).catch(oi=>{Oe({type:"REJECT",error:oi})}),()=>bo(ea)},[Oe,K,st]),le.useEffect(()=>{if(Ie!==void 0){if(Ie===!1){Ji();return}Is()}},[Ie,gt]);const uc=le.useMemo(()=>Ie&&pa(Ue)&&st&&pa(St)&&pa(gt)?{_className:s,canvasBackground:o,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:T,onGetAnnotationsSuccess:I,onGetStructTreeError:D,onGetStructTreeSuccess:F,onGetTextError:B,onGetTextSuccess:H,onRenderAnnotationLayerError:Q,onRenderAnnotationLayerSuccess:ne,onRenderError:te,onRenderSuccess:_e,onRenderTextLayerError:fe,onRenderTextLayerSuccess:he,page:Ie,pageIndex:Ue,pageNumber:st,renderForms:J,renderTextLayer:V,rotate:St,scale:gt}:null,[s,o,m,v,T,I,D,F,B,H,Q,ne,te,_e,fe,he,Ie,Ue,st,J,V,St,gt]),Zr=le.useMemo(()=>YA(me,()=>Ie&&(gt?H0(Ie,gt):void 0)),[me,Ie,gt]),cs=`${Ue}@${gt}/${St}`;function hc(){switch(N){case"custom":return Qe(p),S.jsx(p,{},`${cs}_custom`);case"none":return null;case"canvas":default:return S.jsx(Ak,{canvasRef:c},`${cs}_canvas`)}}function jh(){return V?S.jsx(_k,{},`${cs}_text`):null}function zh(){return re?S.jsx(Sk,{},`${cs}_annotations`):null}function Hh(){return S.jsxs(nb.Provider,{value:uc,children:[hc(),jh(),zh(),u]})}function Bh(){return st?K===null||Ie===void 0||Ie===null?S.jsx(ul,{type:"loading",children:typeof k=="function"?k():k}):K===!1||Ie===!1?S.jsx(ul,{type:"error",children:typeof w=="function"?w():w}):Hh():S.jsx(ul,{type:"no-data",children:typeof L=="function"?L():L})}return S.jsx("div",Object.assign({className:fp(s,d),"data-page-number":st,ref:tb(E,Qi),style:{"--scale-factor":`${gt}`,backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zr,{children:Bh()}))}lk();ty.workerSrc="pdf.worker.mjs";const xm="/MrityunjayPortfolio/assets/Mrityunjay_CV(updated)-CklDUz_-.pdf";ty.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${qA}/pdf.worker.min.js`;function kk(){const[f,e]=le.useState(!1),[t,s]=le.useState(null),r=({numPages:d})=>{s(d)},o=[{category:"Programming",items:["C++","Java","Python","JavaScript"]},{category:"Web Development",items:["React","Node.js","Express","MongoDB","Tailwind CSS"]},{category:"Tools & Technologies",items:["Git","GitHub","VS Code","Postman","Figma"]}],c=[{role:"Summer Training",company:"CipherSchools",duration:"June 2024 - July 2024",description:"MERN Stack Development",icon:S.jsx(hm,{className:"text-green-600 text-xl"})},{role:"Project Development",company:"Self-Learning",duration:"2023 - Present",description:"Full-stack applications and AI tools",icon:S.jsx(hm,{className:"text-green-600 text-xl"})}],u=[{degree:"Bachelor in Technology - CSE",institution:"Lovely Professional University",duration:"2022 - 2026",cgpa:"CGPA: 7.27",icon:S.jsx(dm,{className:"text-green-600 text-xl"})},{degree:"Senior Secondary (12th)",institution:"Kendriya Vidyalaya",duration:"2022",percentage:"Percentage: 86%",icon:S.jsx(dm,{className:"text-green-600 text-xl"})}];return S.jsxs("div",{className:"px-10 py-20 max-w-7xl mx-auto",id:"resume_section",children:[f&&S.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-auto",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[S.jsx("h3",{className:"text-xl font-bold",children:"My Resume"}),S.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:S.jsx(CS,{className:"text-2xl"})})]}),S.jsx("div",{className:"p-4",children:S.jsx(gk,{file:xm,onLoadSuccess:r,loading:S.jsx("div",{className:"text-center py-8",children:"Loading PDF..."}),children:Array.from(new Array(t),(d,p)=>S.jsx(Ck,{pageNumber:p+1,width:800,className:"border mb-4"},`page_${p+1}`))})})]})}),S.jsxs("div",{className:"mb-16 text-center",children:[S.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"My Resume"}),S.jsx("div",{className:"w-20 h-1 bg-green-600 mx-auto"}),S.jsx("p",{className:"text-gray-600 mt-4",children:"Here's an overview of my skills and experience"})]}),S.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[S.jsx("div",{className:"lg:w-1/3",children:S.jsx("div",{className:"bg-white p-8 rounded-xl shadow-md border border-gray-100 sticky top-10",children:S.jsxs("div",{className:"flex flex-col items-center text-center",children:[S.jsx("div",{className:"bg-green-100 p-4 rounded-full mb-4",children:S.jsx(Ff,{className:"text-green-600 text-4xl"})}),S.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"My Resume"}),S.jsx("p",{className:"text-gray-600 mb-6",children:"View or download my complete resume"}),S.jsxs("div",{className:"flex gap-4 w-full",children:[S.jsxs("a",{href:xm,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 border border-gray-800 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition text-sm",children:[S.jsx(Ff,{})," Open PDF"]}),S.jsxs("a",{href:xm,download:"Mrityunjay_Maharana_Resume.pdf",className:"flex-1 flex items-center justify-center gap-2 bg-gray-800 text-white px-4 py-3 rounded-lg hover:bg-gray-700 transition font-medium",children:[S.jsx(jw,{})," Download"]})]})]})})}),S.jsxs("div",{className:"lg:w-2/3 space-y-8",children:[S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[S.jsx(hm,{className:"text-green-600"}),"Skills & Technologies"]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((d,p)=>S.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[S.jsx("h4",{className:"font-semibold text-green-700 mb-3",children:d.category}),S.jsx("ul",{className:"space-y-2",children:d.items.map((m,v)=>S.jsxs("li",{className:"flex items-center gap-2 text-gray-700",children:[S.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),m]},v))})]},p))})]}),S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[S.jsx(bS,{className:"text-green-600"}),"Experience"]}),S.jsx("div",{className:"space-y-6",children:c.map((d,p)=>S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:d.icon}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:d.role}),S.jsx("p",{className:"text-green-700 font-medium",children:d.company}),S.jsx("p",{className:"text-gray-500 text-sm mb-2",children:d.duration}),S.jsx("p",{className:"text-gray-700",children:d.description})]})]},p))})]}),S.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md border border-gray-100",children:[S.jsxs("h3",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[S.jsx(dm,{className:"text-green-600"}),"Education"]}),S.jsx("div",{className:"space-y-6",children:u.map((d,p)=>S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:"flex-shrink-0 mt-1",children:d.icon}),S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:d.degree}),S.jsx("p",{className:"text-green-700 font-medium",children:d.institution}),S.jsx("p",{className:"text-gray-500 text-sm",children:d.duration}),(d.cgpa||d.percentage)&&S.jsx("p",{className:"text-gray-700 mt-1",children:d.cgpa||d.percentage})]})]},p))})]})]})]})]})}function Tk(){return S.jsxs("div",{className:"min-h-screen",children:[S.jsx("div",{className:"main_header",children:S.jsx(pS,{})}),S.jsxs("div",{className:"px-10 mt-15",children:[S.jsx("div",{id:"about_section",children:S.jsx(LS,{})}),S.jsx("div",{id:"skills_section",children:S.jsx(RS,{})}),S.jsx("div",{id:"projects_section",children:S.jsx(FS,{})}),S.jsx("div",{id:"experience_section",children:S.jsx(DS,{})}),S.jsx("div",{id:"resume_section",children:S.jsx(kk,{})}),S.jsx("div",{id:"certifications_section",children:S.jsx(GS,{})}),S.jsx("div",{id:"contact_section",children:S.jsx(MS,{})})]}),S.jsx("div",{className:"main_footer",children:S.jsx(kS,{})})]})}fS.createRoot(document.getElementById("root")).render(S.jsx(le.StrictMode,{children:S.jsx(Tk,{})}));
